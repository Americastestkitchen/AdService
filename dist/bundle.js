/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/piano-adapter.ts":
/*!******************************!*\
  !*** ./src/piano-adapter.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PianoAdapter)
/* harmony export */ });
var __classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _PianoAdapter_instances, _PianoAdapter_getAid, _PianoAdapter_getUserToken;
class PianoAdapter {
    constructor({ thirdPartyCallbacks = [], afterRenderCallbacks = [], matchers = [], tags = [], user }) {
        _PianoAdapter_instances.add(this);
        this.tp = window.tp || [];
        this.user = this.setUser(user);
        this.setEnvConfig();
        this.setThirdPartyCallbacks(thirdPartyCallbacks);
        this.setCustomVariables(matchers);
        this.setAfterAdRender(afterRenderCallbacks);
        if (!Array.isArray(tags[0])) {
            tags = [tags];
        }
        this.setTags(tags);
    }
    /**
     * Sets required user fields to execute a piano experience.
     *
     * @remarks
     * Piano only needs the custom variable to match, but the user-token has something to do on their side.
     * I am not sure what it does, but to be backwards compatible we will add it in there.
     *
     * We are passing in a user argument just in-case we need additional properties from our
     * context or cookie in a future iteration.
     *
     * @param user
     */
    setUser(user) {
        return {
            aid: __classPrivateFieldGet(this, _PianoAdapter_instances, "m", _PianoAdapter_getAid).call(this),
            token: __classPrivateFieldGet(this, _PianoAdapter_instances, "m", _PianoAdapter_getUserToken).call(this),
        };
    }
    init() {
        /**
        * Initializes the piano experience
        * this is where we could eventually expand our callbacks using the tp api.
        * https://docs.piano.io/callbacks/
        *
        * @typedef {string} Command - Initialization command for piano experience.
        * @typedef {()=>void} Callback - In this callback you can access a lot of user information before initializing the experience.
        * @typedef {[Command, Callback]} InitParams
        * @param {InitParams}
        */
        this.tp.push(["init", () => {
                this.tp.experience.init();
            },]);
    }
    /**
     * Configuration objects carry the necessary data to the third party callback
     * Each configuration object is going to be different based on the 'service'.
     * Required properties are service, and callbacks.
     *
     * @typedef Service {string}
     * @typedef Callbacks {[()=>void]}
     * @typedef {Service, Callbacks} ConfigObj
     * @param thirdPartyConfigs ConfigObj[]
     */
    setThirdPartyCallbacks(thirdPartyConfigs) {
        thirdPartyConfigs.forEach((config) => {
            switch (config.service) {
                case 'mixpanel': {
                    this.setMixpanel(config);
                    break;
                }
                case 'atk': {
                    //do other stuff.
                    break;
                }
                default:
                    this.setMixpanel(config);
                    break;
            }
        });
    }
    /**
     * Configures mixpanel's global api for tracking events with piano template content fields
     *
     * @remarks
     * We are borrowing a pattern from redux, instead of action and payload we have mixpanel properties of status and actions
     * Actions are the event callbacks taking piano content fields and parsing the information we require for each specific event.
     *
     * We are using external events launch these callback. A hacky solution currently but we are injecting a third party iframe into our
     * application. There is a limited scope of interaction we can have with the template. But what we don't want is to couple our code
     * where the template is getting rendered. So hacky > heavily coupled currently.
     *
     * https://docs.piano.io/offer-template-essentials/#externalevent
     *
     * Every action that we want to track with mixpanel we add an additional case and add an external event on the template
     * We have to trigger it with javascript on the template if it is not a user triggered event (until we find a better way).
     *
     * @param ConfigObj
     *
     */
    setMixpanel({ status, action }) {
        /**
         * todo: add all of the available fields we get from the piano params obj and the params.params obj
         * This function maps the params data received from the event we get from piano
         * including custom parameters we have to set up in the external-event data-attributes
         * We can not target traditional data-attributes :frown:
         *
         *
         *@example
         * <span
         * id="mixpanel-params"
         * external-event="presented"
         * external-event-params="{{params}}"
         * external-event-adtype="[%% ad-type %%]"
         * external-event-incode="[%% incode %%]"
         * external-event-deviceType="[%% deviceType %%]"
         * external-event-clickdomain="[%% click-domain %%]"
         * external-event-mdc="[%% mdc %%]"
         * ></span>
         *
         *
         * In the custom script we have to manually trigger an event that is not cause by
         * user interaction. For this example we want to be able to fire a presented event to mixpanel
         * but because it isn't user triggered we will click on the span that will fire the external-event.
         *
         * <div custom-script>
         *   document.getElementById("mixpanel-params").click();
         * </div>
         */
        async function trackMixpanel({ action, status, params, customParams: { incode, clickdomain } }) {
            let { url } = await JSON.parse(params);
            // TODO: change 172 to support subdomains
            const [, location = "homepage"] = url.split(":5500/");
            window.mixpanel.track(action, { incode, status, location, type: clickdomain });
        }
        switch (status) {
            case 'Accepted': {
                this.tp.push(["addHandler", "customEvent", function (event) {
                        if (event?.eventName !== 'sign-up-button')
                            return;
                        trackMixpanel({ action, status, params: event.params.params, customParams: event.params });
                    }]);
                break;
            }
            case 'Presented': {
                this.tp.push(["addHandler", "customEvent", async function (event) {
                        if (event?.eventName !== 'presented')
                            return;
                        trackMixpanel({ action, status, params: event.params.params, customParams: event.params });
                    }]);
                break;
            }
            default:
                break;
        }
    }
    /**
     * We attach callbacks that fire before the browser renders the template
     *
     * @remarks
     *  This is not built to support third-party callbacks. Those need to be handled individually by their handlers.
     *
     * @param cbs
     */
    setBeforeAdInit(cbs) {
        cbs.forEach((callback) => {
            if (typeof callback === "function") {
                this.tp.push(["addHandler", "beforeBrowserEvent", callback]);
            }
        });
    }
    /**
     * We attach callbacks that fire after the browser renders the template
     *
     * @remarks
     *  This is not built to support third-party callbacks. Those need to be handled individually by their handlers.
     *
     * @param cbs
     */
    setAfterAdRender(cbs) {
        cbs.forEach((callback) => {
            this.tp.push(["addHandler", "showTemplate", function (templateParams) {
                    callback();
                }]);
        });
    }
    /**
     * Set the user segments that will match on the piano segment
     * in the initial user segments phase of the composer experience
     *
     * i.e. experience rules, initial user segments, events and triggers, actions
     * https://docs.piano.io/track/overview-composer?chapter=5556#menu5556
     *
     * @param matchers
     */
    setCustomVariables(matchers) {
        matchers.forEach((cv) => {
            const [key, value] = cv;
            this.tp.push(["setCustomVariable", key, value]);
        });
    }
    /**
     * Each experience in composer requires proper configuration.
     * This object will set up our configuration object properly to launch the expected experience.
     *
     * @returns PianoConfig
     */
    // debug if non prod
    getConfigProperties() {
        return {
            setAid: this.user.aid,
            setDebug: true,
            setEndpoint: "https://buy.tinypass.com/api/v3",
            setExternalJWT: this.user.token,
            setUsePianoIdUserProvider: true,
            setUseTinypassAccounts: false,
        };
    }
    /**
     * Sets up the window.tp piano object in the specific way it requires.
     *
     * @remarks
     * window.tp expects to push tuples with the proper 'key' (at position tuple[0]).
     * todo: expand explanation
     */
    setEnvConfig() {
        const config = this.getConfigProperties();
        Object.entries(config).forEach((d) => this.tp.push(d));
    }
    /**
     * This configures the window tp object to accept custom tags.
     *
     * @remarks
     * Tags are a way for us to match experiences with great specificity. (Experience Rules Phase)
     * Tags are used in the experience, and can be rendered on the template.
     * Tags can be returned to be used in third-party integrations
     * https://docs.piano.io/content-tracking/#custags
     *
     * @param tags
     */
    setTags(tags) {
        tags.forEach((tag) => {
            if (!Array.isArray(tag)) {
                this.tp.push(["setTags", tag]);
            }
        });
    }
}
_PianoAdapter_instances = new WeakSet(), _PianoAdapter_getAid = function _PianoAdapter_getAid() {
    const [subdomain, domain] = window.location.hostname.split('.');
    if (subdomain === 'www') {
        return {
            "americastestkitchen": "o8it4JKTpu",
            "cooksillustrated": "0l4CXRBBpu",
            "cookscountry": "vRqttsu1pu",
        }[domain];
    }
    else {
        return {
            "americastestkitchen": "P3MUmmU9pu",
            "cooksillustrated": "CLRfAMqqpu",
            "cookscountry": "rkIgdPatpu",
        }[domain];
    }
}, _PianoAdapter_getUserToken = function _PianoAdapter_getUserToken() {
    var c = document.cookie.match("(^|;)\\s*user_token\\s*=\\s*([^;]+)");
    if (c && c.length > 0)
        return c.pop();
    else
        return null;
};


/***/ }),

/***/ "./src/piano/index.js":
/*!****************************!*\
  !*** ./src/piano/index.js ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var pianoSDK = __webpack_require__(/*! ./tinypass */ "./src/piano/tinypass.js");
module.exports = {
  pianoSDK
};


/***/ }),

/***/ "./src/piano/tinypass.js":
/*!*******************************!*\
  !*** ./src/piano/tinypass.js ***!
  \*******************************/
/***/ (() => {

!function(e){"use strict";window.pnFullTPVersion=!0,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},writable:!0,configurable:!0});var n=new WeakMap;function t(e,t){return n.get(e)&&n.get(e).get(t)}function r(e,n,r){if(void 0===n)throw new TypeError;var o=t(n,r);return o&&o.get(e)}function o(e,r,o,i){if(i&&!["string","symbol"].includes(typeof i))throw new TypeError;(t(o,i)||function(e,t){var r=n.get(e)||new Map;n.set(e,r);var o=r.get(t)||new Map;return r.set(t,o),o}(o,i)).set(e,r)}function i(e,n,t){return r(e,n,t)?r(e,n,t):Object.getPrototypeOf(n)?i(e,Object.getPrototypeOf(n),t):void 0}var a,s={decorate:function(e,n,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError;return void 0!==t?function(e,n,t,r){return e.reverse().forEach((function(e){r=e(n,t,r)||r})),r}(e,n,t,r):"function"==typeof n?function(e,n){return e.reverse().forEach((function(e){var t=e(n);t&&(n=t)})),n}(e,n):void 0},defineMetadata:function(e,n,t,r){o(e,n,t,r)},getMetadata:function(e,n,t){return i(e,n,t)},getOwnMetadata:function(e,n,t){return r(e,n,t)},hasMetadata:function(e,n,t){return!!i(e,n,t)},hasOwnMetadata:function(e,n,t){return!!r(e,n,t)},metadata:function(e,n){return function(t,r){o(e,n,t,r)}}};window.Reflect=window.Reflect||{},Object.assign(window.Reflect,s),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(a||(a={}));var c=a,l=function(e,n){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},l(e,n)};function u(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}function d(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}function f(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(p(arguments[n]));return e}var m="injectionTokens";function g(e){return!!e.useClass}function v(e){return!!e.useFactory}var h=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var n,t=this,r=!1;return new Proxy({},this.createHandler((function(){return r||(n=e(t.wrap()),r=!0),n})))},e.prototype.createHandler=function(e){var n={};return this.reflectMethods.forEach((function(t){n[t]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n[0]=e();var o=Reflect[t];return o.apply(void 0,f(n))}})),n},e}();function w(e){return"string"==typeof e||"symbol"==typeof e}function y(e){return"object"==typeof e&&"token"in e&&"transform"in e}function b(e){return!!e.useToken}function k(e){return null!=e.useValue}var _=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var n=this._registryMap.get(e);return n[n.length-1]||null},e.prototype.set=function(e,n){this.ensure(e),this._registryMap.get(e).push(n)},e.prototype.setAll=function(e,n){this._registryMap.set(e,n)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),C=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return u(n,e),n}(_),I=function(){this.scopedResolutions=new Map};function S(e,n,t){var r,o,i=p(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1],a=function(e,n){return null===e?"at position #"+n:'"'+e.split(",")[n].trim()+'" at position #'+n}(void 0===i?null:i,n);return r="Cannot inject the dependency "+a+' of "'+e.name+'" constructor. Reason:',void 0===o&&(o="    "),f([r],t.message.split("\n").map((function(e){return o+e}))).join("\n")}var x=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return u(n,e),n}(_),P=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return u(n,e),n}(_),E=function(){this.preResolution=new x,this.postResolution=new P},T=new Map,A=function(){function e(e){this.parent=e,this._registry=new C,this.interceptors=new E}return e.prototype.register=function(e,n,t){var r;if(void 0===t&&(t={lifecycle:c.Transient}),r=function(e){return g(e)||k(e)||b(e)||v(e)}(n)?n:{useClass:n},b(r))for(var o=[e],i=r;null!=i;){var a=i.useToken;if(o.includes(a))throw new Error("Token registration cycle detected! "+f(o,[a]).join(" -> "));o.push(a);var s=this._registry.get(a);i=s&&b(s.provider)?s.provider:null}if((t.lifecycle===c.Singleton||t.lifecycle==c.ContainerScoped||t.lifecycle==c.ResolutionScoped)&&(k(r)||v(r)))throw new Error('Cannot use lifecycle "'+c[t.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:r,options:t}),this},e.prototype.registerType=function(e,n){return w(n)?this.register(e,{useToken:n}):this.register(e,{useClass:n})},e.prototype.registerInstance=function(e,n){return this.register(e,{useValue:n})},e.prototype.registerSingleton=function(e,n){if(w(e)){if(w(n))return this.register(e,{useToken:n},{lifecycle:c.Singleton});if(n)return this.register(e,{useClass:n},{lifecycle:c.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var t=e;return n&&!w(n)&&(t=n),this.register(e,{useClass:t},{lifecycle:c.Singleton})},e.prototype.resolve=function(e,n){void 0===n&&(n=new I);var t=this.getRegistration(e);if(!t&&w(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),t){var r=this.resolveRegistration(t,n);return this.executePostResolutionInterceptor(e,r,"Single"),r}if(function(e){return"function"==typeof e||e instanceof h}(e)){r=this.construct(e,n);return this.executePostResolutionInterceptor(e,r,"Single"),r}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,n){var t,r;if(this.interceptors.preResolution.has(e)){var o=[];try{for(var i=d(this.interceptors.preResolution.getAll(e)),a=i.next();!a.done;a=i.next()){var s=a.value;"Once"!=s.options.frequency&&o.push(s),s.callback(e,n)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}this.interceptors.preResolution.setAll(e,o)}},e.prototype.executePostResolutionInterceptor=function(e,n,t){var r,o;if(this.interceptors.postResolution.has(e)){var i=[];try{for(var a=d(this.interceptors.postResolution.getAll(e)),s=a.next();!s.done;s=a.next()){var c=s.value;"Once"!=c.options.frequency&&i.push(c),c.callback(e,n,t)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}this.interceptors.postResolution.setAll(e,i)}},e.prototype.resolveRegistration=function(e,n){if(e.options.lifecycle===c.ResolutionScoped&&n.scopedResolutions.has(e))return n.scopedResolutions.get(e);var t,r=e.options.lifecycle===c.Singleton,o=e.options.lifecycle===c.ContainerScoped,i=r||o;return t=k(e.provider)?e.provider.useValue:b(e.provider)?i?e.instance||(e.instance=this.resolve(e.provider.useToken,n)):this.resolve(e.provider.useToken,n):g(e.provider)?i?e.instance||(e.instance=this.construct(e.provider.useClass,n)):this.construct(e.provider.useClass,n):v(e.provider)?e.provider.useFactory(this):this.construct(e.provider,n),e.options.lifecycle===c.ResolutionScoped&&n.scopedResolutions.set(e,t),t},e.prototype.resolveAll=function(e,n){var t=this;void 0===n&&(n=new I);var r=this.getAllRegistrations(e);if(!r&&w(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),r){var o=r.map((function(e){return t.resolveRegistration(e,n)}));return this.executePostResolutionInterceptor(e,o,"All"),o}var i=[this.construct(e,n)];return this.executePostResolutionInterceptor(e,i,"All"),i},e.prototype.isRegistered=function(e,n){return void 0===n&&(n=!1),this._registry.has(e)||n&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,n;try{for(var t=d(this._registry.entries()),r=t.next();!r.done;r=t.next()){var o=p(r.value,2),i=o[0],a=o[1];this._registry.setAll(i,a.filter((function(e){return!k(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(n){e={error:n}}finally{try{r&&!r.done&&(n=t.return)&&n.call(t)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var n,t,r=new e(this);try{for(var o=d(this._registry.entries()),i=o.next();!i.done;i=o.next()){var a=p(i.value,2),s=a[0],l=a[1];l.some((function(e){return e.options.lifecycle===c.ContainerScoped}))&&r._registry.setAll(s,l.map((function(e){return e.options.lifecycle===c.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){n={error:e}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return r},e.prototype.beforeResolution=function(e,n,t){void 0===t&&(t={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:n,options:t})},e.prototype.afterResolution=function(e,n,t){void 0===t&&(t={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:n,options:t})},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,n){var t=this;if(e instanceof h)return e.createProxy((function(e){return t.resolve(e,n)}));var r=T.get(e);if(!r||0===r.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var o=r.map(this.resolveParams(n,e));return new(e.bind.apply(e,f([void 0],o)))},e.prototype.resolveParams=function(e,n){var t=this;return function(r,o){var i,a,s,c;try{return"object"==typeof(c=r)&&"token"in c&&"multiple"in c?y(r)?r.multiple?(i=t.resolve(r.transform)).transform.apply(i,f([t.resolveAll(r.token)],r.transformArgs)):(a=t.resolve(r.transform)).transform.apply(a,f([t.resolve(r.token,e)],r.transformArgs)):r.multiple?t.resolveAll(r.token):t.resolve(r.token,e):y(r)?(s=t.resolve(r.transform,e)).transform.apply(s,f([t.resolve(r.token,e)],r.transformArgs)):t.resolve(r,e)}catch(e){throw new Error(S(n,o,e))}}},e}(),M=new A;function O(){return function(e){T.set(e,function(e){var n=Reflect.getMetadata("design:paramtypes",e)||[],t=Reflect.getOwnMetadata(m,e)||{};return Object.keys(t).forEach((function(e){n[+e]=t[e]})),n}(e))}}if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");if(window.pnInitPerformance=performance.now(),window.pnHasPolyfilled||(window.pnHasPolyfilled=!1),window.pnFullTPVersion||(window.pnFullTPVersion=!1),void 0!==window.pn&&void 0!==window.pn.container)throw new Error("Piano SDK is loaded twice on same page. Try to fix that to prevent the message.");if(!window.pnFullTPVersion&&"undefined"!=typeof Proxy){var R=function(){return L},L=new Proxy({},{get:function(e,n,t){return"isv"===n||R},apply:function(e,n,t){return L}});M.resolve=new Proxy(M.resolve,{apply:function(e,n,t){if(M.isRegistered(t[0]))return Reflect.apply(e,n,t);M.register(t[0],{useValue:L});var r=M.resolve(t[0]);return U[t[0]]=r,r}})}var N=window.pn||{},U=window.pn={};U.container=M,U.singleton=function(){return function(e){O()(e),M.registerSingleton(e)}},U.injectable=O,U.inject=function(e){return n=e,function(e,r,o){var i=Reflect.getOwnMetadata(m,e)||{};i[o]=t?{token:n,transform:t.transformToken,transformArgs:t.args||[]}:n,Reflect.defineMetadata(m,i,e)};var n,t},U.registry=function(e){return void 0===e&&(e=[]),function(n){return e.forEach((function(e){var n=e.token,t=e.options,r=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["token","options"]);return M.register(n,r,t)})),n}},U.instanceCachingFactory=function(e){var n;return function(t){return null==n&&(n=e(t)),n}},U.predefinedOptions=N,M.register("predefinedOptions",{useValue:N});var j=!1;try{if(!window.pnHasPolyfilled){if("undefined"==typeof Proxy)throw new Error("The browser cannot Proxy");if(new Promise((function(e){})),Object.assign({},{}),[""].includes(""),!Element.prototype.closest)throw new Error("There is no closest method of a DOM element")}}catch(e){j=!0}if(j){var D=function(){var e,n=document.querySelectorAll("script");if(n.length)for(var t=0,r=n;t<r.length;t++){var o=r[t],i=null===(e=null==o?void 0:o.src)||void 0===e?void 0:e.match(/^.*?(tinypass.com|piano.io)/i);if(i)return i[0]}return"https://sandbox.tinypass.com"}();delete window.pn;var F=document.createElement("script");throw F.type="text/javascript",F.async=!0,F.src=D+"/api/piano.es5.js",document.getElementsByTagName("head")[0].appendChild(F),new Error("Load full version of piano SDK")}var B,V=(B=function(e){return new Promise((function(n,t){var r=document.createElement("style");r.type="text/css",r.innerHTML=e,r.onload=n,r.onerror=t,document.getElementsByTagName("head")[0].appendChild(r)}))},{name:"css",loadOfferCss:function(){B(".tp-backdrop {\n    display: none;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: #121214;\n    z-index: 300000;\n    opacity: 0;\n    transition: opacity .25s linear;\n}\n.tp-backdrop.tp-active {\n    opacity: .9;\n}\n.tp-modal .tp-close.tp-square {\n    background: #ccc;\n    border-radius: 0;\n    border: 0;\n    top: 0;\n    right: -40px;\n}\n.tp-modal .tp-close {\n    display: none;\n    position: absolute;\n    top: -20px;\n    right: -20px;\n    width: 40px;\n    height: 40px;\n    background: #fff url(\"data:image/svg+xml,%3Csvg width='11' height='11' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M11 1.368L9.632 0 5.5 4.142 1.368 0 0 1.368 4.142 5.5 0 9.632 1.368 11 5.5 6.858 9.632 11 11 9.632 6.858 5.5 11 1.368z' fill='%23959595'/%3E%3C/svg%3E\") center center no-repeat;\n    border: none;\n    box-shadow: 0 0 10px 0 rgba(28, 37, 68, 0.15);\n    outline: none;\n    z-index: 300100;\n    border-radius: 40px;\n    opacity: 0;\n    cursor: pointer;\n    transform: scale(.25, .25);\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n}\n.tp-modal .tp-close:hover,\n.tp-modal .tp-close:focus {\n    box-shadow: 0 0 10px 2px rgba(28, 37, 68, 0.15);\n}\n.tp-modal .tp-close:focus {\n   border: 1px solid;\n}\n.tp-modal .tp-close.tp-active {\n    display: block;\n    opacity: 1;\n    transform: scale(1, 1);\n}\n.tp-modal .tp-iframe-wrapper[dir=\"rtl\"] .tp-close {\n  right: initial;\n  left: -20px;\n}\n\n.tp-modal .tp-iframe-wrapper.piano-id-modal-ver-2 .tp-close {\n  top: 0;\n  right: 0;\n  width: 64px;\n  height: 64px;\n  box-shadow: none;\n  outline: none;\n  border-radius: 0;\n  border-left: 1px solid rgba(15, 15, 21, 0.2);\n  background: url(\"data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg %3E%3Cpath d='M3 3L13 13M13 3L3 13' stroke='%230F0F15' stroke-width='2'/%3E%3C/g%3E%3C/svg%3E%0A\") center center no-repeat;\n  opacity: 0.3;\n}\n\n.tp-modal .tp-iframe-wrapper.piano-id-modal-ver-2 .tp-close.tp-active {\n  opacity: 0.3;\n}\n\n.tp-modal .tp-iframe-wrapper.piano-id-modal-ver-2 .tp-close:hover,\n.tp-modal .tp-iframe-wrapper.piano-id-modal-ver-2 .tp-close:focus {\n  box-shadow: none;\n  border: none;\n  border-left: 1px solid rgba(15, 15, 21, 0.06);\n  opacity: 1;\n}\n\n.tp-modal .tp-iframe-wrapper.piano-id-modal-ver-2[dir=\"rtl\"] .tp-close {\n  right: auto;\n  left: 0;\n  border-left: none;\n  border-right: 1px solid rgba(15, 15, 21, 0.2);\n}\n\n.tp-modal .tp-iframe-wrapper.piano-id-modal-ver-2[dir=\"rtl\"] .tp-close:hover,\n.tp-modal .tp-iframe-wrapper.piano-id-modal-ver-2[dir=\"rtl\"] .tp-close:focus {\n  border-left: none;\n  border-right: 1px solid rgba(15, 15, 21, 0.06);\n}\n\n.tp-modal {\n    z-index: 300050;\n}\n@media screen and (max-width: 650px) {\n    .tp-modal .tp-close {\n        right: 0;\n    }\n\n    .tp-modal .tp-iframe-wrapper[dir=\"rtl\"] .tp-close {\n      right: initial;\n      left: 0;\n    }\n}\n.tp-modal .tp-iframe-wrapper.tp-curtain {\n    width: 600px;\n    height: 480px;\n}\n.tp-modal-open {\n    overflow: hidden !important;\n    height: 100vh;\n    -webkit-overflow-scrolling: touch;\n}\n.tp-modal-open.tp-modal-resizing {\n    -webkit-overflow-scrolling: auto;\n}\n/*Bug fix of firefox v57*/\n.tp-modal-close {\n    overflow: auto;\n}\n.tp-modal__margin-100 .tp-iframe-wrapper {\n  margin-bottom: 100px;\n}\n.tp-iframe-wrapper {\n    position: relative;\n    margin: 50px auto;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.21);\n}\n.tp-iframe-wrapper.no-shadow {\n  box-shadow: unset;\n}\n.tp-modal {\n    overflow-x: hidden;\n    overflow-y: scroll !important;\n    display: none;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    transform: translate3d(0, 0, 0);\n}\n.tp-modal .tp-message {\n    font-family: \"Graphik Web Regular\", Helvetica, Arial, sans-serif;\n    padding: 10px;\n}\n.tp-modal .tp-btn-container {\n    padding-left: 10px;\n    padding-bottom: 10px;\n}\n.tp-cxense-placeholder-modal {\n    width: 100%;\n    background-color: #fff;\n    max-width: 912px;\n    display: block;\n    overflow: hidden;\n    height: auto;\n    opacity: 1;\n}\n.tp-widget-placeholder > div::after {\n    display: block;\n    content: \"\";\n    clear: both;\n}\n.tp-btn {\n    text-decoration: none;\n    cursor: pointer;\n    padding: 0 18px;\n    line-height: 40px;\n    border-collapse: separate;\n    border-radius: 4px;\n    text-align: center;\n    vertical-align: middle;\n    display: inline-block;\n    color: #fff;\n    border: none;\n    box-shadow: inset 0 -1px 0 rgba(216, 218, 221, 0.0);\n    background: #3878D8;\n    background-position: bottom;\n    text-shadow: none;\n    font-family: \"Graphik Web Regular\", Helvetica, Arial, sans-serif;\n    white-space: nowrap;\n    outline: 0;\n}\n.tp-please-wait.tp-active {\n    display: block;\n    opacity: .9;\n    transition: opacity .25s linear;\n}\n.tp-please-wait {\n    position: absolute;\n    top: 0;\n    left: 0;\n    background-color: #999;\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n    display: none;\n    text-align: center;\n    color: #fff;\n    font-weight: lighter;\n    font-family: \"Open Sans\", sans-serif;\n    font-size: 15px;\n}\n.tp-please-wait.tp-overlap {\n  position: fixed;\n  z-index: 300150;\n}\n\n.tp-please-wait.tp-local-overlap {\n  position: absolute;\n}\n\n.tp-please-wait > .tp-icon {\n    width: 80px;\n    height: 80px;\n    margin: 100px auto 20px auto;\n}\n\n.pn-spinner {\n  color: grey;\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n}\n.pn-spinner div {\n  transform-origin: 40px 40px;\n  animation: pn-spinner 1.2s linear infinite;\n}\n.pn-spinner div:after {\n  content: \" \";\n  display: block;\n  position: absolute;\n  top: 3px;\n  left: 37px;\n  width: 6px;\n  height: 18px;\n  border-radius: 20%;\n  background: #fff;\n}\n.pn-spinner div:nth-child(1) {\n  transform: rotate(0deg);\n  animation-delay: -1.1s;\n}\n.pn-spinner div:nth-child(2) {\n  transform: rotate(30deg);\n  animation-delay: -1s;\n}\n.pn-spinner div:nth-child(3) {\n  transform: rotate(60deg);\n  animation-delay: -0.9s;\n}\n.pn-spinner div:nth-child(4) {\n  transform: rotate(90deg);\n  animation-delay: -0.8s;\n}\n.pn-spinner div:nth-child(5) {\n  transform: rotate(120deg);\n  animation-delay: -0.7s;\n}\n.pn-spinner div:nth-child(6) {\n  transform: rotate(150deg);\n  animation-delay: -0.6s;\n}\n.pn-spinner div:nth-child(7) {\n  transform: rotate(180deg);\n  animation-delay: -0.5s;\n}\n.pn-spinner div:nth-child(8) {\n  transform: rotate(210deg);\n  animation-delay: -0.4s;\n}\n.pn-spinner div:nth-child(9) {\n  transform: rotate(240deg);\n  animation-delay: -0.3s;\n}\n.pn-spinner div:nth-child(10) {\n  transform: rotate(270deg);\n  animation-delay: -0.2s;\n}\n.pn-spinner div:nth-child(11) {\n  transform: rotate(300deg);\n  animation-delay: -0.1s;\n}\n.pn-spinner div:nth-child(12) {\n  transform: rotate(330deg);\n  animation-delay: 0s;\n}\n@keyframes pn-spinner {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n.tp-please-wait > .tp-icon.tp-centered {\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.tp-iframe-wrapper.no-width .tp-close,\n.tp-iframe-wrapper.no-height .tp-close,\n.tp-modal.no-width .tp-close,\n.tp-modal.no-height .tp-close {\n    display: none;\n}\n\n.tp-banner {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n}\n\n.tp-banner > .tp-container-inner,\n.tp-banner > .tp-container-inner > iframe {\n  width: inherit !important;\n}\n\n.frozen-mobile-body {\n  width: 100%;\n  margin: 0;\n  position: fixed !important;\n  max-height: -webkit-fill-available;\n  max-height: -moz-available;\n}\n")}});pn.container.register("css",{useValue:V}),pn.css=pn.container.resolve("css");var q,z,H=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},W=Math.round(1e4*Math.random()),J=window.document,G=/^(?:text|application)\/javascript/i,Q=/^(?:text|application)\/xml/i,X="application/json",$="text/html",Y=/^\s*$/,K=function(e){var n=ce({},e||{});for(q in K.settings)void 0===n[q]&&(n[q]=K.settings[q]);!function(e){e.global&&0==K.active++&&Z(e)}(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host);var t=n.dataType,r=/=\?/.test(n.url);if("jsonp"==t||r)return r||(n.url=oe(n.url,"callback=?")),K.JSONP(n);n.url||(n.url=window.location.toString()),ie(n);var o,i=n.accepts[t],a={},s=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,c=K.settings.xhr();n.crossDomain||(a["X-Requested-With"]="XMLHttpRequest"),i&&(a.Accept=i,i.indexOf(",")>-1&&(i=i.split(",",2)[0]),c.overrideMimeType&&c.overrideMimeType(i)),(n.contentType||n.data&&"GET"!=n.type.toUpperCase())&&(a["Content-Type"]=n.contentType||"application/x-www-form-urlencoded"),n.headers=ce(a,n.headers||{});var l=n.xhrFields&&n.xhrFields.withCredentials;l&&(c.withCredentials=l),c.onreadystatechange=function(){if(4==c.readyState){clearTimeout(o);var e,r=!1;if(c.status>=200&&c.status<300||304==c.status||0==c.status&&"file:"==s){t=t||function(e){return e&&(e==$?"html":e==X?"json":G.test(e)?"script":Q.test(e)&&"xml")||"text"}(c.getResponseHeader("content-type")),e=c.responseText;try{"script"==t?(0,eval)(e):"xml"==t?e=c.responseXML:"json"==t&&(e=Y.test(e)?null:JSON.parse(e))}catch(e){r=e}r?ne(r,"parsererror",c,n):ee(e,c,n)}else ne(null,"error",c,n)}};var u=!("async"in n)||n.async;for(z in c.open(n.type,n.url,u),n.headers)c.setRequestHeader(z,n.headers[z]);return!1===function(e,n){var t=n.context;if(!1===n.beforeSend.call(t,e,n)||!1===Z(n))return!1;Z(n)}(c,n)?(c.abort(),!1):(n.timeout>0&&(o=setTimeout((function(){c.onreadystatechange=re,c.abort(),ne(null,"timeout",c,n)}),n.timeout)),c.send(n.data?n.data:null),c)};function Z(e,n,t,r){if(e.global)return!0}function ee(e,n,t){var r=t.context,o="success";t.success.call(r,e,o,n),Z(t),te(o,n,t)}function ne(e,n,t,r){var o=r.context;r.error.call(o,t,n,e),Z(r),te(n,t,r)}function te(e,n,t){var r=t.context;t.complete.call(r,n,e),Z(t),function(e){e.global&&!--K.active&&Z(e)}(t)}function re(){}function oe(e,n){return(e+"&"+n).replace(/[&?]{1,2}/,"?")}function ie(e){var n,t,r;"object"===H(e.data)&&(e.data=(n=e.data,(r=[]).add=function(e,n){this.push(ae(e)+"="+ae(n))},se(r,n,t),r.join("&").replace("%20","+"))),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=oe(e.url,e.data))}K.active=0,K.JSONP=function(e){if(!("type"in e))return K(e);var n,t="jsonp"+(e.cache?"Callback":++W),r=J.createElement("script"),o={abort:function(){t in window&&(window[t]=re),te("abort",o,e)}},i=J.getElementsByTagName("head")[0]||J.documentElement;return e.error&&(r.onerror=function(){o.abort(),e.error()}),window[t]=function(r){clearTimeout(n),delete window[t],ee(r,o,e)},ie(e),r.src=e.url.replace(/=\?/,"="+t),i.insertBefore(r,i.firstChild),e.timeout>0&&(n=setTimeout((function(){o.abort(),te("timeout",o,e)}),e.timeout)),o},K.settings={type:"GET",beforeSend:re,success:re,error:re,complete:re,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:X,xml:"application/xml, text/xml",html:$,text:"text/plain"},crossDomain:!1,timeout:0},K.get=function(e,n){return K({url:e,success:n})},K.post=function(e,n,t,r){return"function"===H(n)&&(r=r||t,t=n,n=null),K({type:"POST",url:e,data:n,success:t,dataType:r})},K.getJSON=function(e,n){return K({url:e,success:n,dataType:"json"})};var ae=encodeURIComponent;function se(e,n,t,r){var o="array"===H(n);for(var i in n){var a=n[i];r&&(i=t?r:r+"["+(o?"":i)+"]"),!r&&o?e.add(a.name,a.value):(t?"array"===H(a):"object"===H(a))?se(e,a,t,i):e.add(i,a)}}function ce(e){var n=Array.prototype.slice;return n.call(arguments,1).forEach((function(n){for(q in n)void 0!==n[q]&&(e[q]=n[q])})),e}var le=K,ue={request:function(e){return e.dataType=e.dataType||"json",le(e)}};pn.container.register("ajax",{useValue:ue}),pn.ajax=pn.container.resolve("ajax");var de=function(){var e=function(e){return"function"==typeof e},n=function(e,n){return e?t(e,n)[0]:null},t=function(e,n){if(!e)return[];var t=n||document,r=e.split(","),o=[];return r.forEach((function(e){var n=e.trim();try{o=o.concat(Array.prototype.slice.call(t.querySelectorAll(n)))}catch(e){var r=n.indexOf(" ")>-1;if("."!==n[0]||r)if("#"!==n[0]||r)o=o.concat(Array.prototype.slice.call(t.querySelectorAll(n)));else{var i=document.getElementById(n.substring(1));o=o.concat(i?[i]:[])}else o=o.concat(Array.prototype.slice.call(t.getElementsByClassName(n.substring(1))))}})),o},r=function(e,n,t){t.setAttribute(e,n)},o=[],i=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var t={},r=0,o=function(e){for(var n in e)e.hasOwnProperty(n)&&("[object Object]"===Object.prototype.toString.call(e[n])?t[n]=i(t[n],e[n]):t[n]=e[n])};r<e.length;r++)o(e[r]);return t};return{scrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop},winSize:function(){var e=window,n=document,t=n.documentElement,r=n.getElementsByTagName("body")[0],o=e.innerWidth||t.clientWidth||r.clientWidth;return{height:e.innerHeight||t.clientHeight||r.clientHeight,width:o}},isPlainObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){return 0===Object.keys(e).length&&e.constructor===Object},isFunction:e,inArray:function(e,n){return n.indexOf(e)},type:function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},remove:function(e){var n;null===(n=e.parentNode)||void 0===n||n.removeChild(e)},empty:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},queryEl:n,qa:t,filter:function(e,n){return Array.prototype.filter.call(document.querySelectorAll(e),n)},addClass:function(e,n){n.classList.add(e)},toggleClass:function(e,n){n.classList.toggle(e)},removeClass:function(e,n){n.classList.remove(e)},getWidth:function(e){var n=getComputedStyle(e,null),t=n.paddingLeft,r=n.paddingRight,o=e.getBoundingClientRect().width;return o-=parseFloat(t)+parseFloat(r)},show:function(e){e.style.display="block"},hide:function(e){e.style.display="none"},getHeight:function(e){var n=getComputedStyle(e,null),t=n.paddingTop,r=n.paddingBottom,o=e.getBoundingClientRect().height;return o-=parseFloat(t)+parseFloat(r)},visible:function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},append:function(e,n){e.appendChild(n)},setAttr:r,setAttrs:function(e,n){Object.keys(e).forEach((function(t){r(t,e[t],n)}))},getAttr:function(e,t){return"string"==typeof e&&(e=n(e)),e?e.getAttribute(t):null},ready:function(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",(function(){return e()}))},delegate:function(e,n,t,r){var i=function(t){for(var i=t.target;i&&null!=i;i=i.parentNode){var a=o.findIndex((function(t){return t.parentEl===e&&t.elementSelector===n}));if(i.matches&&i.matches(n)&&a>=0){r.call(i,t);break}}};o.push({parentEl:e,elementSelector:n,handler:i,eventName:t}),e.addEventListener(t,i,!1)},undelegate:function(e,n){o=o.filter((function(t){var r=t.parentEl!==e&&t.elementSelector!==n;return r||t.parentEl.removeEventListener(t.eventName,t.handler),r}))},on:function(e,n,t){e.addEventListener(n,(function(e){t(e)}),!1)},off:function(e,n,t){e.removeEventListener(n,t)},deepExtend:i,param:function(n){var t=[],r=function(n,t){return encodeURIComponent(n)+"="+encodeURIComponent(e(t)?t():t||0===t||!1===t?t:"")};return Object.keys(n).forEach((function(e){Array.isArray(n[e])?n[e].forEach((function(n){t.push(r(e,n))})):t.push(r(e,n[e]))})),t.join("&")}}};pn.container.register("jqUtils",{useValue:de()}),pn.jqUtils=pn.container.resolve("jqUtils");var pe=function(){var e={},n=/\+/g,t=function(e){try{return decodeURIComponent(e.replace(n," "))}catch(e){}},r=function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),e=t(e);try{return e}catch(e){}},o=function(n,o,i){if(void 0!==o){if("number"==typeof(i=Object.assign({},e,i)).expires){var a=i.expires,s=i.expires=new Date;s.setDate(s.getDate()+a)}return o=String(o),document.cookie=[encodeURIComponent(n),"=",encodeURIComponent(o),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":"",i.samesite?"; samesite="+i.samesite:""].join("")}for(var c,l=document.cookie?document.cookie.split("; "):[],u=0,d=l.length;u<d;u++){var p=l[u].split("="),f=t(p.shift()),m=p.join("=");if(n&&n===f){c=r(m);break}n||void 0===(m=r(m))||(c[f]=m)}return c};return{name:"cookie",defaults:e,raw:!1,json:false,pluses:n,set:function(e,n,t){o(e,n,t)},get:function(e){return o(e)},remove:function(e,n){return void 0!==o(e)&&(o(e,"",Object.assign({},n,{expires:-1})),!0)}}}();pn.container.register("cookie",{useValue:pe}),pn.cookie=pn.container.resolve("cookie");var fe=function(e){function n(e){var n,t,r,o=arguments.length,i=window[e],a=arguments,s=a[1];if(o<2)throw new Error("Minimum 2 arguments must be given");if(Array.isArray(s)){for(var c in t={},s){n=s[c];try{t[n]=JSON.parse(i.getItem(n))}catch(e){t[n]=i.getItem(n)}}return t}if(2!=o){try{t=JSON.parse(i.getItem(s))}catch(e){throw new ReferenceError(s+" is not defined in this storage")}for(c=2;c<o-1;c++)if(void 0===(t=t[a[c]]))throw new ReferenceError([].slice.call(a,1,c+1).join(".")+" is not defined in this storage");if(Array.isArray(a[c])){for(var l in r=t,t={},a[c])t[a[c][l]]=r[a[c][l]];return t}return t[a[c]]}try{return JSON.parse(i.getItem(s))}catch(e){return i.getItem(s)}}function t(n){var t,r,o=arguments.length,i=window[n],a=arguments,s=a[1],c=a[2],l={};if(o<2||!e.isPlainObject(s)&&o<3)throw new Error("Minimum 3 arguments must be given or second parameter must be an object");if(e.isPlainObject(s)){for(var u in s)t=s[u],e.isPlainObject(t)?i.setItem(u,JSON.stringify(t)):i.setItem(u,t);return s}if(3==o)return"object"==typeof c?i.setItem(s,JSON.stringify(c)):i.setItem(s,c),c;try{null!=(r=i.getItem(s))&&(l=JSON.parse(r))}catch(e){}r=l;for(u=2;u<o-2;u++)r[t=a[u]]&&e.isPlainObject(r[t])||(r[t]={}),r=r[t];return r[a[u]]=a[u+1],i.setItem(s,JSON.stringify(l)),l}function r(e){var n,t,r=arguments.length,o=window[e],i=arguments,a=i[1];if(r<2)throw new Error("Minimum 2 arguments must be given");if(Array.isArray(a)){for(var s in a)o.removeItem(a[s]);return!0}if(2==r)return o.removeItem(a),!0;try{n=t=JSON.parse(o.getItem(a))}catch(e){throw new ReferenceError(a+" is not defined in this storage")}for(s=2;s<r-1;s++)if(void 0===(t=t[i[s]]))throw new ReferenceError([].slice.call(i,1,s).join(".")+" is not defined in this storage");if(Array.isArray(i[s]))for(var c in i[s])delete t[i[s][c]];else delete t[i[s]];return o.setItem(a,JSON.stringify(n)),!0}function o(t){var r=arguments.length,i=arguments,s=i[1];if(1==r)return 0==a(t).length;if(Array.isArray(s)){for(var c=0;c<s.length;c++)if(!o(t,s[c]))return!1;return!0}try{var l=n.apply(this,arguments);for(var c in Array.isArray(i[r-1])||(l={totest:l}),l)if(!(e.isPlainObject(l[c])&&e.isEmptyObject(l[c])||Array.isArray(l[c])&&!l[c].length)&&l[c])return!1;return!0}catch(e){return!0}}function i(e){var t=arguments.length,r=arguments,o=r[1];if(t<2)throw new Error("Minimum 2 arguments must be given");if(Array.isArray(o)){for(var a=0;a<o.length;a++)if(!i(e,o[a]))return!1;return!0}try{var s=n.apply(this,arguments);for(var a in Array.isArray(r[t-1])||(s={totest:s}),s)if(void 0===s[a]||null===s[a])return!1;return!0}catch(e){return!1}}function a(t){var r=arguments.length,o=window[t],i=arguments,a=[],s={};if((s=r>1?n.apply(this,i):o)._cookie)for(var c in e.cookie())""!=c&&a.push(c.replace(s._prefix,""));else for(var l in s)a.push(l);return a}function s(n){if(!n||"string"!=typeof n)throw new Error("First parameter must be a string");c?(window.localStorage.getItem(n)||window.localStorage.setItem(n,"{}"),window.sessionStorage.getItem(n)||window.sessionStorage.setItem(n,"{}")):(window.localCookieStorage.getItem(n)||window.localCookieStorage.setItem(n,"{}"),window.sessionCookieStorage.getItem(n)||window.sessionCookieStorage.setItem(n,"{}"));var t={localStorage:Object.assign({},e.localStorage,{_ns:n}),sessionStorage:Object.assign({},e.sessionStorage,{_ns:n})};return e.cookie&&(window.cookieStorage.getItem(n)||window.cookieStorage.setItem(n,"{}"),t.cookieStorage=Object.assign({},e.cookieStorage,{_ns:n})),e.namespaceStorages[n]=t,t}var c=function(e){var n="jsapi";try{return!!window[e]&&(window[e].setItem(n,n),window[e].removeItem(n),!0)}catch(e){return!1}}("localStorage"),l={_type:"",_ns:"",_callMethod:function(e,n){var t=[this._type],r=(n=Array.prototype.slice.call(n))[0];return this._ns&&t.push(this._ns),"string"==typeof r&&-1!==r.indexOf(".")&&(n.shift(),[].unshift.apply(n,r.split("."))),[].push.apply(t,n),e.apply(this,t)},get:function(){return this._callMethod(n,arguments)},set:function(){var n=arguments.length,r=arguments,o=r[0];if(n<1||!e.isPlainObject(o)&&n<2)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(e.isPlainObject(o)&&this._ns){for(var i in o)t(this._type,this._ns,i,o[i]);return o}var a=this._callMethod(t,r);return this._ns?a[o.split(".")[0]]:a},remove:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(r,arguments)},removeAll:function(n){return this._ns?(t(this._type,this._ns,{}),!0):function(n,t){var o=a(n);for(var i in o)r(n,o[i]);if(t)for(var i in e.namespaceStorages)s(i)}(this._type,n)},isEmpty:function(){return this._callMethod(o,arguments)},isSet:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(i,arguments)},keys:function(){return this._callMethod(a,arguments)}};e.cookie&&(window.name||(window.name=Math.floor(1e8*Math.random()))),e.initNamespaceStorage=function(e){return s(e)},c?(e.localStorage=Object.assign({},l,{_type:"localStorage"}),e.sessionStorage=Object.assign({},l,{_type:"sessionStorage"})):(e.localStorage=Object.assign({},l,{_type:"localCookieStorage"}),e.sessionStorage=Object.assign({},l,{_type:"sessionCookieStorage"})),e.namespaceStorages={},e.removeAllStorages=function(n){e.localStorage.removeAll(n),e.sessionStorage.removeAll(n),e.cookieStorage&&e.cookieStorage.removeAll(n),n||(e.namespaceStorages={})}},me=function(){var e=pn.container.resolve("cookie"),n=pn.container.resolve("jqUtils"),t={cookie:e.set,isPlainObject:n.isPlainObject,isEmptyObject:n.isEmptyObject};fe(t);return{get:function(e){if(window.localStorage&&"function"==typeof window.localStorage.getItem)return t.localStorage.get(e)},set:function(e,n){window.localStorage&&"function"==typeof window.localStorage.getItem&&t.localStorage.set(e,n)},remove:function(e){window.localStorage&&"function"==typeof window.localStorage.getItem&&t.localStorage.remove(e)}}}();pn.container.register("localStorage",{useValue:me}),pn.localStorage=pn.container.resolve("localStorage");var ge,ve=(ge=function(){return"14.142.1, server-v14.142.1-TS-edition"},window.__tpVersion="14.142.1, server-v14.142.1-TS-edition",{name:"versionService",getTinypassVersion:ge});pn.container.register("versionService",{useValue:ve}),pn.versionService=pn.container.resolve("versionService");var he=function(){var e,n=pn.container.resolve("ajax"),t={};return{name:"itp",synchronizeCookie:function(r,o,i){if(pn.cloudflareWorkerUrl){!function(e,n,r){if(t[e]={value:n},!r)return;r instanceof Date?t[e].expires=r:t[e].maxAge=3600*r}(r,o,i),e&&clearTimeout(e),e=setTimeout((function(){n.request({url:pn.cloudflareWorkerUrl+"?maxAge=2628000",type:"POST",data:JSON.stringify(t),crossDomain:!0,xhrFields:{withCredentials:!0},error:function(e,n){console.error(n)}}),t={}}),2500)}}}}();pn.container.register("itp",{useValue:he}),pn.itp=pn.container.resolve("itp");var we=function(e,n){return we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},we(e,n)};var ye=function(){return ye=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},ye.apply(this,arguments)};function be(e,n){return function(t,r){n(t,r,e)}}function ke(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}function _e(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}var Ce=function(e){void 0===e&&(e=pn.container);var n,t=e.resolve("jqUtils"),r=e.resolve("cookie"),o=e.resolve("versionService"),i=e.resolve("itp"),a=e.resolve("localStorage"),s="",c={ENABLED_AFTER_DISABLED:-2,NOT_DETECTED:-1,DISABLED:0,ENABLED:1};void 0==="testString".toHex&&Object.defineProperty(String.prototype,"toHex",{enumerable:!1,value:function(){for(var e="",n=0;n<this.length;++n)e+=""+this.charCodeAt(n).toString(16);return e}});var l=function(e,n,t){var o={path:"/",expires:0};void 0!==n&&(o.domain=n),void 0!==t&&(o.path=t),r.remove(e,o)},u=function(e,n,t){-1!==n.indexOf("abril.com.br")&&l(e,".abril.com.br",t),-1!==n.indexOf("scotsman.com")&&l(e,".scotsman.com",t)},d=function(e){var n;if(0===document.cookie.length)return null;if(e instanceof RegExp)for(var t=document.cookie.split(";"),r=0;r<t.length;r++){var o=t[r].indexOf("=");if(-1!==o){var i,a=t[r].substr(0,o).trim();if(e.test(a)){i=t[r].substr(o+1).trim();try{return decodeURIComponent(i)}catch(n){f('Could not uri-decode cookie "'+e.toString()+'"',n)}return i}}}else{var s=("; "+document.cookie).split("; "+e+"=");if(s.length>=2){var c=null===(n=s.pop())||void 0===n?void 0:n.split(";").shift();if(void 0===c)return null;try{return decodeURIComponent(c)}catch(n){f('Could not uri-decode cookie "'+e+'"',n)}return c}}return null},p=function(e){if(0===document.cookie.length)return[];for(var n=[],t=document.cookie.split(";"),r=0;r<t.length;r++){var o=t[r].indexOf("=");if(-1!==o){var i,a=t[r].substr(0,o).trim();if(e instanceof RegExp&&e.test(a)){i=t[r].substr(o+1).replace(/^\s+|\s+$/g,"");try{i=decodeURIComponent(i)}catch(n){f('Could not uri-decode cookie "'+e.toString()+'"',n)}n.push({name:a,value:i})}else if(a===e){i=t[r].substr(o+1).replace(/^\s+|\s+$/g,"");try{i=decodeURIComponent(i)}catch(n){f('Could not uri-decode cookie "'+e+'"',n)}n.push({name:a,value:i})}}}return n};function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!0===pn.debug&&m.apply(void 0,e)}function m(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply.call&&void 0!==window.console&&void 0!==window.console.log){var t=["TP:"];try{for(var r=0;r<e.length;r++)t.push(e[r])}catch(n){t=e}G()&&(t=v(t)),"object"==typeof window.console.log?window.console.log.apply.call(this,console,t):console.log.apply(console,t)}}var g=function(){var e=0;return window.pageYOffset?e=window.pageYOffset:e="number"==typeof(e=document.documentElement||document.body.parentNode).scrollTop?e.scrollTop:document.body.scrollTop,e},v=function(e){var n="";try{for(var t=0;t<e.length;t++)try{n+=JSON.stringify(e[t])+", "}catch(e){n+=""+e}return[n]}catch(n){return e}},h=function(){var e,n;return"CSS1Compat"===document.compatMode?(e=document.documentElement.clientWidth,n=document.documentElement.clientHeight):(e=document.body.clientWidth,n=document.body.clientHeight),{x:e,y:n}},w=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},y=function(e){var n=e(location.href);if(history&&"function"==typeof history.replaceState){var t="object"==typeof window.next&&"object"==typeof window.next.router?{url:e(history.state.url||""),as:e(history.state.as||""),options:history.state.options}:history.state;history.replaceState(t,document.title,n)}else location.href=n},b=function(e,n,t){var r=ye({path:"/",expires:730},t&&{domain:t}),o=S();for(var i in o)l(e,o[i]);r.domain&&u(e,r.domain),(pn.cookieDomain||pn.cookiePath)&&(r.domain=pn.cookieDomain?pn.cookieDomain:r.domain,l(e,r.domain,r.path),r.path=pn.cookiePath?pn.cookiePath:r.path,l(e,r.domain,r.path)),l(e),q(e,n,r)},k=function(){var e,n,t="get_top_level_domain_cookie",r=document.location.hostname.split(".");for(e=r.length-1;e>=0;e--){var o={path:"/",domain:n="."+r.slice(e).join(".")};if(q(t,n,o),V(t))return o.expires=new Date(1),q(t,n,o),n}},_=function(e){return pn.useAidSpecifiedCookies&&pn.aid?e+"_"+pn.aid:e},C=function(){var e,n=_("__pls"),t=d(n);if(t)try{if((e=JSON.parse(t))&&!Array.isArray(e))throw new Error("Push list subscriptions must be an array")}catch(e){f("Can't get push list subscriptions",e)}return e},I=function(e){n=e;var t=k();q("__pat",n,{path:"/",expires:30,domain:t})},S=function(){var e=[];e.push(document.domain);for(var n=document.domain.split(".");n.length>=2;)e.push("."+n.join(".")),n.shift();return e},x=function(e){var n=V(e);return"boolean"===t.type(n)||"string"===t.type(n)&&n.length?!0===n||"true"===n?c.ENABLED:c.DISABLED:c.NOT_DETECTED},P=function(){var e=V("__pnahc"),n=!1;return void 0===e&&(e="0",n=!0),{cookieValue:parseInt(e,10),isFirst:n}},E={},T=function(e){E[e]?E[e].counter++:E[e]={counter:1,waiters:[]}},A=function(e,n){if(E[e]&&(E[e].counter--,E[e].counter<=0)){var t=[];E[e].waiters.forEach((function(e){t.push(e)})),delete E[e],t.forEach((function(e){e(void 0!==n?n:{})}))}},M=function(){return navigator.userAgent||navigator.vendor||window.opera},O=function(){return o.getTinypassVersion().indexOf("SNAPSHOT")>=0},R=function(){return"https:"===document.location.protocol},L=function(e,n){var t=[],r=e.indexOf(n);return-1===r?t.push(e):(t.push(e.substr(0,r)),t.push(e.substr(r+1))),t},N=function(e){var n,t,r=L(e,"=");void 0!==e&&(n=r[0],t=r[1]);var o="";return void 0!==n&&(o+=encodeURIComponent(decodeURIComponent(n))),void 0!==t&&(o+="="+encodeURIComponent(decodeURIComponent(t))),o},U=function(e){var n=parseInt(e,10);return!(isNaN(parseFloat(n))||n<0||n>255)},j=function(e){var n=document.createElement("a");n.href=/^https?:\/\//i.test(e)?e:"http://"+e;var t=n.hostname;return 0===t.indexOf("www.")&&(t=t.replace("www.","")),t};var D=function(e,n){return new RegExp("\\?"+n,"gi").test(e)?e.split("&").length>1?e.replace(new RegExp(n+"[^&]+&?","gi"),""):e.replace(new RegExp("\\?"+n+"[^&]+&?","gi"),""):new RegExp("\\&"+n,"gi").test(e)?e.replace(new RegExp("\\&"+n+"[^&]+","gi"),""):e},F=function(e,n){try{var t=new Error,r=pn.user.getProvider().getName(),o=JSON.stringify([{aid:pn.aid,description:"clearing __tp cookie",userProvider:r,accessTokenList:e,userToken:n,url:window.location.href,trace:X(t.stack,3),tags:["sdk"]}]);pn.api.callApi("/anon/error/log",{log_message:o})}catch(e){}};var B=function(e){e||(e=730);var n=pn.getMaxCookieExpirationInDays();if(null!==n){var t;"number"==typeof e?(t=new Date).setDate(t.getDate()+e):t=e;var r=new Date;if(r.setDate(r.getDate()+n),t>r)return n}return e},V=function(e){return r.get(e)},q=function(e,n,t){t=t||{},"11C6aYHwtb"===pn.aid?(t.samesite="none",t.secure=!0):t.samesite="lax",t.expires&&(t.expires=B(t.expires)),r.set(e,n,t),void 0!==i.synchronizeCookie&&i.synchronizeCookie(e,n,t.expires)},z="__tp-",H="-expiration",W=function(){return Math.floor((new Date).getTime()/1e3)},J=function(e){var n=z+e;a.remove(n),a.remove(n+H)},G=function(){var e=["__webdriver_evaluate","__selenium_evaluate","__webdriver_script_function","__webdriver_script_func","__webdriver_script_fn","__fxdriver_evaluate","__driver_unwrapped","__webdriver_unwrapped","__driver_evaluate","__selenium_unwrapped","__fxdriver_unwrapped"],n=["_phantom","__nightmare","_selenium","callPhantom","callSelenium","_Selenium_IDE_Recorder"];for(var t in n){if(window[n[t]])return!0}for(var r in e){var o=e[r];if(window.document[o])return!0}for(var i in window.document)if(i.match(/\$[a-z]dc_/)&&window.document[i].cache_)return!0;return!!(window.external&&window.external.toString&&window.external.toString()&&-1!==window.external.toString().indexOf("Sequentum"))||(!!window.document.documentElement.getAttribute("selenium")||(!!window.document.documentElement.getAttribute("webdriver")||!!window.document.documentElement.getAttribute("driver")))},Q=function(){return V("__tac")},X=function(e,n){return e&&e.split("\n").filter((function(e,t){return t>0&&t<n+1})).map((function(e){return e.trim()})).join("\n")};return{name:"util",__private__:{getAdjustedCookieExpiration:B},__protected__:{deleteTLDCookieForSpecificDomains:u,documentReady:function(e){var n=function(){document.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),e()};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(e):(document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n))},getCookie:V,setCookie:q,getLocalStorageItem:function(e){var n=z+e,t=a.get(n),r=a.get(n+H);return r&&r<W()?(J(e),null):t},hasLocalStorage:function(){try{return"object"==typeof window.localStorage&&"function"==typeof window.localStorage.getItem}catch(e){return!1}},randomStringCxCompatible:function(){for(var e=(new Date).getTime().toString(36);e.length<16;)e+=Math.round(2147483647*Math.random()).toString(36);return e.substr(0,16)},setLocalStorageItem:function(e,n,t){var r=z+e;a.set(r,n),t&&a.set(r+H,W()+t)},removeLocalStorageItem:J,cameFromFbSubscriptions:function(){return 0===w("redirect_uri").indexOf("https://www.facebook.com/subscriptions/account-linking/confirm/")},logRemoveTokens:function(e){try{var n=new Error,t=pn.user.getProvider().getName(),r=JSON.stringify([{aid:pn.aid,description:"clearing __utp cookie",userProvider:t,userToken:e,url:window.location.href,trace:X(n.stack,3),tags:["sdk"]}]);pn.api.callApi("/anon/error/log",{log_message:r})}catch(e){}},waitAllPromises:function(e){return Promise.all(e)},isInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},racePromise:function(e){return Promise.race(e)},isCxenseBot:function(){var e=M();return/(cxensebot)/i.test(e)},isHttpsProtocol:R,isApplePayAllowed:function(){var e=!1;try{e=window.ApplePaySession&&window.ApplePaySession.canMakePayments()}catch(e){m("ApplePay error",e)}return(O()||R())&&e},isDevEndpoint:O},addScript:function(e,n){var t,r=document.createElement("script"),o=document.getElementsByTagName("script")[0];null===(t=o.parentNode)||void 0===t||t.insertBefore(r,o),r.type="text/javascript",r.async=!0,r.onload=n,r.src=e},fromUnderscoreToCamelCase:function(e){return e.slice().replace(/_[a-z]/g,(function(e){return e.replace("_","").toUpperCase()}))},randomString:function(e){e||(e=5);var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";if(window.crypto&&window.crypto.getRandomValues&&"function"==typeof Uint32Array){var r=new Uint32Array(e);window.crypto.getRandomValues(r);for(var o=0;o<e;o++)n+=t.charAt(r[o]%t.length)}else for(o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},log:m,debug:f,error:function(){for(var e,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];m.apply(void 0,n),(e="string"==typeof arguments[0]?new Error(arguments[0]):new Error).stack&&m(e.stack)},findCookieByName:d,findCookiesByName:p,removeVoucherCodeFromUrl:function(e){return D(e,"voucher_code")},removeSharedAccountCodeFromUrl:function(e){return D(e,"shared_account_code")},deleteCookie:l,mapArrayIndex:function(e,n){return n},getScroll:g,getPageSize:function(){return{x:Math.max(document.documentElement.clientWidth,document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth),y:Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}},getViewport:h,center:function(e,n){var t=g(),r=h();return(r={x:r.x/2-e/2,y:r.y/2-n/2+t}).x=Math.max(0,r.x),r.y=Math.max(10,r.y),r},centerScreen:function(e,n){e=e||0,n=n||0;var r=void 0!==window.screenLeft?window.screenLeft:window.screen.left,o=void 0!==window.screenTop?window.screenTop:window.screen.top,i=t.winSize();return{left:(i.width||document.documentElement.clientWidth||window.screen.width)/2-e/2+r,top:(i.height||document.documentElement.clientHeight||window.screen.height)/2-n/2+o}},getQueryParamByName:w,hasQueryParamByName:function(e){var n={};return location.search.substr(1).split("&").forEach((function(e){var t=e.split("="),r=t[0],o=t[1]&&decodeURIComponent(t[1]);r in n?n[r].push(o):n[r]=[o]})),n.hasOwnProperty(e)},removeQueryParamByName:function(e){y((function(n){return function(e,n){var t,r=e.split("#"),o=r[0].split("?");if(r.length>=2&&(t=r[1]),n=Array.isArray(n)?n:[n],o.length>=2){for(var i=o[1].split(/[&;]/g),a=0;a<n.length;a++)for(var s=encodeURIComponent(n[a])+"=",c=i.length;c-- >0;)-1!==i[c].lastIndexOf(s,0)&&i.splice(c,1);return e=o[0]+(i.length>0?"?"+i.join("&"):""),t?e+"#"+t:e}return e}(n,e)}))},setAccessTokenListCookie:function(e,n,r){var o=_("__ut");if(e&&"string"===t.type(e.value)){var i=new Date,a={domain:undefined,path:"/",expires:730};e.cookie_domain&&"localhost"!==e.cookie_domain&&t.inArray(e.cookie_domain,S())>=0&&(a.domain=e.cookie_domain),pn.cookieDomain&&(a.domain=pn.cookieDomain),pn.cookiePath&&(a.path=pn.cookiePath);var s=S();for(var c in s)l("__tac",s[c]),l("__tae",s[c]),l(o,s[c]);q("__tac",e.value,a),q("__tae",i.getTime(),a),q(o,n,a),""!==n||r||F(e,n)}else{var u=S();if(u.push(void 0),pn.cookieDomain&&u.push(pn.cookieDomain),pn.cookiePath)for(var c in u)l("__tac",u[c],pn.cookiePath),l("__tae",u[c],pn.cookiePath),l("__eea",u[c],pn.cookiePath),l(o,u[c],pn.cookiePath);for(var c in u)l("__tac",u[c]),l("__tae",u[c]),l("__eea",u[c]),l(o,u[c]);r||F(e,n)}},setTpccCookies:function(){var e=w("tpcc");if(e){var n=new Date,t=JSON.stringify({date:n.getTime()}),r=k();/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(location.hostname)&&(r=""),r||(r=""),q("tpcc_"+e,t,{path:"/",expires:90,domain:r})}},getCampaigns:function(e){p(/^tpcc_.+/).forEach((function(n){e[n.name]=n.value}))},getCustomCookies:function(){var e={};return p(/^_pc_.+/).forEach((function(n){e[decodeURIComponent(n.name)]=n.value})),e},ADBLOCKER_STATUS:c,getAdblockStatus:function(){var e,n,t=c.NOT_DETECTED,r=P();return pn.adblockerCookieName&&(t=x(pn.adblockerCookieName)),t===c.NOT_DETECTED&&(t=x("__pac")),t===c.NOT_DETECTED&&(t=x("__adblocker")),e=r.cookieValue,e<<=1,(n=t)===c.ENABLED?e|=1:e&=-2,n!==c.NOT_DETECTED&&q("__pnahc",e+"",{path:"/",expires:90}),t===c.ENABLED&&(r.isFirst||1!=(r.cookieValue>>0&1)&&(t=c.ENABLED_AFTER_DISABLED)),t},getAdblockerStatusReason:function(){return void 0!==window.blockAdBlock?"1":"0"},getAdblockerHistoryCookieInfo:P,waitCall:function(e,n){E[e]?E[e].waiters.push(n):n()},startCall:T,doneCall:A,hasCall:function(e){return!!E[e]},debounce:function(e,n,t){var r;return function(){var o=this,i=Array.prototype.slice.call(arguments),a=function(){r=null,t||e.apply(o,i)},s=t&&!r;clearTimeout(r),r=setTimeout(a,n),s&&e.apply(o,i)}},throttle:function(e,n){var t,r,o=!1;return function i(){if(o)return t=arguments,void(r=this);e.apply(this,arguments),o=!0,setTimeout((function(){o=!1,t&&(i.apply(r,t),t=r=null)}),n)}},profile:function(e){function n(){return n.__invokeCount++,e.apply(this,arguments)}return Object.defineProperty(n,"__invokeCount",{writable:!0,value:0}),Object.defineProperty(n,"invokeCount",{get:function(){return this.__invokeCount}}),n},setTbcCookieFromResponse:function(e){e.browser&&void 0!==e.browser.tbc&&b("__tbc",e.browser.tbc,e.browser.cookie_domain),e.tbc&&e.tbc.cookie_value&&b("__tbc",e.tbc.cookie_value,e.tbc.cookie_domain)},setTacCookieFromResponse:function(e){var n=(new Date).getTime(),t=Q(),r=function(e,r){e&&e!==t&&(b("__tac",e,r),b("__tae",n,r))};e.browser&&r(e.browser.tac,e.browser.cookie_domain),e.tac&&r(e.tac.cookie_value,e.tac.cookie_domain)},getTbcCookie:function(){return V("__tbc")},getTacCookie:Q,getAidSpecifiedName:_,getUserTokenCookie:function(){var e=_("__ut"),n=d(e);return void 0!==n&&n&&n.length>=0?n:null},getPushListsCookie:C,setPushListsCookie:function(e){if(e){var n=_("__pls"),t=C()||[];t.indexOf(e)>-1||(t.push(e),l(n),q(n,JSON.stringify(t),{path:"/",expires:730,domain:k()}))}},setAppTimezoneOffsetFromResponse:function(e){e.browser&&void 0!==e.browser.app_timezone_offset?I(e.browser.app_timezone_offset):void 0!==e.timezone_offset&&I(e.timezone_offset)},setAppTimezoneOffset:I,getAppTimezoneOffset:function(){return null==n&&(n=V("__pat")),n||0},getBrowserTimezoneOffset:function(){return-Math.round((new Date).getTimezoneOffset())},str2timestamp:function(e){if(void 0!==e&&0!==e.length){if("string"!=typeof e&&(e=""+e),(e=e.trim()).match(/^[0-9]{0,10}$/))return parseInt(e);if(e.match(/^[0-9]{13,}$/))return parseInt(e)/1e3;var n=Date.parse(e);if(n)return n/1e3;if((e=(e=(e=(e=e.replace(/00:([0-9]{2}(:[0-9]{2})?\s*[AP]M)/i,"12:$1").replace(/([0-9]{2})([AP|M])/i,"$1 $2")).replace(/\s*(at|@|\-|on|\|)\s*/gi," ")).replace(/\s*(mon(day)?|tue(s?day)?|wed(nesday)?|thu((rs)?day)?|fri(day)?|sat(urday)?|sun(day)?)\s*/gi,"")).replace(/([0-9]{1,2})(st|nd|rd|th)/,"$1")).match(/\s+ET$/))e=240===(new Date).getTimezoneOffset()?e.replace(/\s+ET$/," EDT"):e.replace(/\s+ET$/," EST");if(e=e.trim(),n=Date.parse(e))return n/1e3;var t=e.match(/!^([a-z]+)[-/ ]([0-9]+)[-/ ]([0-9]+)(.*)$!i/);return t?e=t[2]+" "+t[1]+" "+t[3]+t[4]:(t=e.match(/!^([0-9]+)[-/ ]([a-z]+)[-/ ]([0-9]+)(.*)$!i/))&&(e=t[1]+" "+t[2]+" "+t[3]+t[4]),(n=Date.parse(e))?n/1e3:void 0}},getPossibleCookieDomains:S,isMobileTabletIOs:function(){var e=M();return/iPad|iPhone|iPod/.test(e)&&!window.MSStream},isIphone:function(){var e=M();return/iPhone/.test(e)&&!window.MSStream},isIOS:function(){var e=M();return/iPad|iPhone|iPod/.test(e)&&!window.MSStream},isIOsUiWebView:function(){var e=M();return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e)},isSafariOrIOsUiWebView:function(){var e=M();return/(iPhone|iPod|iPad).*AppleWebKit/i.test(e)},isFBOrInstWebView:function(){var e=M();return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1||e.indexOf("Instagram")>-1},isAndroid:function(){var e=M();return/(android)/i.test(e)},isIE:function(){var e=-1!==(navigator&&navigator.appVersion||"").indexOf("MSIE"),n=(navigator&&navigator.userAgent||"").indexOf("Trident/")>0;return e||n},isCriOS:function(){return-1!==(navigator&&navigator.userAgent||"").indexOf("CriOS")},isRelativeUrl:function(e){return/^\/(?:\w+|\.{1,2}\/\w+)/.test(e)},prepareUrlParameter:function(e){if(!e)return"";var n=function(e){var n=e.indexOf("?"),t=e.indexOf("#"),r=!1;-1!==t&&(r=!0);var o,i=!1;-1!==n&&(i=!0),r&&i&&t<n&&(i=!1);var a="",s="";if(i){var c=L(e,"?");if(o=c[0],r){var l=L(c[1],"#");a=l[0],s=l[1]}else a=c[1]}else if(r){var u=L(e,"#");o=u[0],s=u[1]}else o=e;return{schemeDomainAndPath:o,queryString:a,hash:s,hasQueryString:i,hasHash:r}}(e=e.replace(/^((%20)|\s)+/,"")),t=encodeURI(decodeURI(n.schemeDomainAndPath));return n.hasQueryString&&(t+="?"+function(e){var n="";if(void 0!==e)for(var t=e.split("&"),r=0;r<t.length;r++)r>0&&(n+="&"),n+=N(t[r]);return n}(n.queryString)),n.hasHash&&(t+="#"+encodeURIComponent(decodeURIComponent(n.hash))),t},getReferrer:function(){return document.referrer},getHostname:j,extractCookieDomain:function(e){if(e&&e.length&&"."===e[0])return e;var n=e||window.location.href,t=j(n);return function(e){var n=e.split("."),t=!0;return 4===n.length&&U(n[0])&&U(n[1])&&U(n[2])&&U(n[3])||(t=!1),t}(t)?t:"localhost"===t?null:"."+t},setCurrentDomainFromResponse:function(e){void 0!==e.browser&&void 0!==e.browser.cookie_domain&&A("domainIsReceived",e.browser.cookie_domain),e.tbc&&e.tbc.cookie_domain&&A("domainIsReceived",e.tbc.cookie_domain)},getCurrentDomainFromCookie:function(e){try{return JSON.parse(V(e)).domain}catch(e){T("domainIsReceived")}},isBot:G,getAffiliateToken:function(e){var n=window.location.hash.slice(1);if(n){var t=n.split("="),r=t[0],o=t[1];r&&o&&r===e&&(y((function(e){return e.split("#")[0]})),s=o)}return s},removeAffiliateToken:function(){s=""}}};pn.container.register("util",{useValue:Ce()}),pn.util=pn.container.resolve("util");var Ie=function(){var e,n=pn.container.resolve("jqUtils"),t=pn.container.resolve("util"),r=pn.container.resolve("ajax"),o=t.findCookieByName(/__TP_*/);if(void 0!==window._tpm&&void 0!==window._tpm.paywallID){var i=window._tpm.paywallID;e=t.__protected__.getCookie("umc_"+i)}var a=function(){return pn.getApiEndpoint()},s=function(n,r){var i=t.__protected__.getCookie("__tac");void 0!==n&&n||(n={}),n.aid=pn.aid,e&&(n.umc=e),o&&(n.tp_access_token_v2=o),i&&(n.tac=i),n.user_provider||!r||r.isv||(n.user_provider=r.getName()),void 0!==n.user_token&&n.user_token||!r||r.isv||(n.user_token="string"==typeof r.getToken()?r.getToken():"");var a=t.getAffiliateToken(pn.affiliateTokenName);a&&(n.affiliateToken=a)};function c(e,o,i,c,l,u){var d;t.debug("Calling API method: "+e),d=void 0!==c?c:a(),d+=e,void 0!==o&&o||(o={});var p,f,m=t.getTbcCookie();m&&(o.tbc=m),pn.user&&(p=pn.user.getProvider()),s(o,p),f=function(e){t.debug("API Response",e),t.setTbcCookieFromResponse(e),t.setAppTimezoneOffsetFromResponse(e),t.setCurrentDomainFromResponse(e),void 0!==i&&i(e)};var g=function(e){var n="/access/list",t="/access/check";if(e!==n&&e!==t&&"/user/access/list"!==e&&"/user/access/check.jwt"!==e)return null;var r=Math.floor((new Date).getTime()/1e3);return e===n?{code:0,count:0,data:[],limit:0,offset:0,total:0,ts:r}:e===t?{code:0,ts:1548942314,access:{access_id:null,parent_access_id:null,granted:!1,resource:null,user:null,expire_date:r}}:{code:403,ts:r,message:"User doesn't have permission to call this method"}}(e);if(null===g||pn.user.getProvider().isUserValid()){var v;!function(e){pn.isDoubleOptInCheckOnAccessCheckEnabled&&"/access/check"===e&&pn.doubleOptIn.check()}(e);var h={dataType:"jsonp"};if(u){var w=o.aid;delete o.aid,v="aid="+w,Object.assign(h,{type:"POST",dataType:"json",data:o})}else o.callApiJsonp=!0,v=n.param(o);d+="?"+v,h.url=d,l&&(h.async=!1),h.success=function(e){f(e)},h.error=function(e){var n={code:503,message:"Error: Received error when requesting API response from URL: "+d};t.log(n.message),f(n)},r.request(h)}else f(g)}return{name:"api",callApi:function(e,n,t,r,o,i){return c(e,n,t,r,o,i)},getEndpoint:function(){return a()},getCallParams:function(e,n){return s(e,n)}}}();pn.container.register("api",{useValue:Ie}),pn.api=pn.container.resolve("api");var Se=function(){var e,n,t,r,o,i,a,s,c,l,u,d=pn.container.resolve("jqUtils"),p=pn.container.resolve("util"),f={},m={},g=[],v={},h=(e={},i=1,a=window,s=!1,l="addEventListener",u=a[c="postMessage"],e[c]=function(e,n,t){n&&(e="string"==typeof e?e:d.param(e),t=t||parent,u?t[c](e,n.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):n&&(t.location=n.replace(/#.*$/,"")+"#"+ +new Date+i+++"&"+e))},e.receiveMessage=o=function(e,i,c){u?(e&&(r&&o(),r=function(n){if("string"==typeof i&&n.origin!==i||d.isFunction(i)&&i(n.origin)===s)return s;e(n)}),a[l]?a[e?l:"removeEventListener"]("message",r,s):a[e?"attachEvent":"detachEvent"]("onmessage",r)):(n&&clearInterval(n),n=null,e&&(c="number"==typeof i?i:"number"==typeof c?c:100,n=setInterval((function(){var n=document.location.hash,r=/^#?\d+&/;n!==t&&r.test(n)&&(t=n,e({data:n.replace(r,"")}))}),c)))},e);var w=function(e,n,t){t&&_(t)&&!(t in m)?p.error("Cannot send message to unmanaged iframe: "+t):t&&m[t].element&&("popup"===m[t].config.displayMode||"popup"!==m[t].config.displayMode&&m[t].element.contentWindow?y(e,n,t):(g.push({event:e,params:n,recipient:t}),d.on(m[t].element,"load",function(e){return function(){var n=g.filter((function(n){return n.recipient===e}));g=g.filter((function(n){return n.recipient!==e}));for(var t=n.length;t--;){var r=n.pop();y(r.event,r.params,r.recipient)}}}(t))))},y=function(e,n,t){var r,o={},i="popup"===m[t].config.displayMode?"opener":"parent";o.sender=_(t)?i:t,o.recipient=_(t)?t:i,o.event=e,o.params=n;var a=m[t].element;r="popup"===m[t].config.displayMode?m[t].container:a&&a.contentWindow?a.contentWindow:a&&"[object Window]"===a.toString()?m[t].element:window[i],h.postMessage(JSON.stringify(o),f[t].postMessageUrl,r)};var b=function(e){f[e.iframeId]={iframeConfig:null,receive:null,postMessageUrl:null,initializedListener:!1,initializedKeystrokeHandler:!1},m[e.iframeId]=e},k=function(e){return!(!f[e]||!f[e].iframeConfig)},_=function(e){return!f[e]||!f[e].iframeConfig},C=function(e){var n=I(e);return n.showCloseButton&&"inline"!==n.displayMode},I=function(e){var n=f[e],t=n&&n.iframeConfig&&n.iframeConfig.iframe;return t&&t.config};function S(e){var n,t,r,o,i,a,s=!1;try{n=JSON.parse(e.data)}catch(t){try{r=e.data,i={},a={true:!0,false:!1,null:null},r.replace(/\+/g," ").split("&").forEach((function(e,n){var t=n.split("="),r="";try{r=decodeURIComponent(t[0])}catch(e){return}var s,c=i,l=0,u=r.split("]["),d=u.length-1;if(/\[/.test(u[0])&&/\]$/.test(u[d])?(u[d]=u[d].replace(/\]$/,""),d=(u=u.shift().split("[").concat(u)).length-1):d=0,2===t.length)if(s=decodeURIComponent(t[1]),o&&(s=s&&!isNaN(s)?+s:"undefined"===s?void 0:void 0!==a[s]?a[s]:s),d)for(;l<=d;l++)c=c[r=""===u[l]?c.length:u[l]]=l<d?c[r]||(u[l+1]&&isNaN(u[l+1])?{}:[]):s;else Array.isArray(i[r])?i[r].push(s):void 0!==i[r]?i[r]=[i[r],s]:i[r]=s;else r&&(i[r]=o?void 0:"")})),(n=i)&&(s=!0)}catch(n){return void p.debug("Error parsing postMessage: "+e.data)}}if(x(n),s){var c;for(var l in m)(t=m[l]).config.isCurtain&&(c=!0,t.config.parent&&f[t.config.parent].receive&&f[t.config.parent].receive(n),f[l].receive&&f[l].receive(n));c||p.debug("Error parsing postMessage: "+e.data)}else if(!_(n.sender)||n.sender&&n.sender in m){if(p.debug((k(n.sender)?"iframe("+n.recipient:"the parent")+") received event '"+n.event+"' from iframe("+n.sender+")",n),f[n.sender].receive&&f[n.sender].receive(n),m[n.sender]&&(t=m[n.sender]).config.parent&&f[t.config.parent].receive){n.sender=t.config.parent,f[t.config.parent].receive(n,!0)}}else p.debug("Received message from unmanaged iframe: "+n.sender)}var x=function(e){(v[e.event]||[]).forEach((function(n){n(e)}))};return{name:"postmessage",init:function(e,n){if(b(e.iframe),e.postMessageUrl){if(e.iframe.iframeId){f[e.iframe.iframeId].initializedKeystrokeHandler||(f[e.iframe.iframeId].initializedKeystrokeHandler=!0,d.delegate(window,"#"+e.iframe.iframeId,"keyup",(function(e){return function(e){27===e.keyCode&&k(e.data.iframeId)&&C(e.data.iframeId)&&w("close",null,e.data.iframeId)}(e)}))),f[e.iframe.iframeId].postMessageUrl=e.postMessageUrl,f[e.iframe.iframeId].initializedListener||(f[e.iframe.iframeId].initializedListener=!0,f[e.iframe.iframeId].receive=e.receive,h.receiveMessage(S)),f[e.iframe.iframeId].iframeConfig=e;var t=n||{};t.height=document.documentElement.offsetHeight,t.width=e.iframeParams&&e.iframeParams.width?e.iframeParams.width:document.documentElement.offsetWidth,w("loaded",t,e.iframe.iframeId)}}else p.error("Must specify postMessageUrl to send and receive postMessages")},__protected__:{isIframeManaged:function(e){var n=m[e];return n&&_(n)}},send:w,removeIframe:function(e){delete m[e],delete f[e]},broadcast:function(e,n,t){for(var r in m)m.hasOwnProperty(r)&&r===t||w(e,n,r)},subscribe:function(e,n){v[e]=v[e]||[],v[e].push(n)},unsubscribe:function(e,n){v[e]instanceof Array&&(v[e]=v[e].filter((function(e){return e!==n})))}}}();pn.container.register("postmessage",{useValue:Se}),pn.postmessage=pn.container.resolve("postmessage");var xe=function(){var e=pn.container.resolve("jqUtils"),n=pn.container.resolve("util"),t=pn.container.resolve("postmessage");return{name:"eventUtils",createEventManager:function(r){var o,i={};for(o=0;o<r.length;o++)i[r[o]]=[];var a={addEvent:function(e){void 0===i[e]&&(i[e]=[])},hasIframeCallback:function(e,n){var t,r;if(i[e]&&i[e].length>0)for(r=0,t=null;r<i[e].length;++r)if("object"==typeof(t=i[e][r])&&n===t.iframeId)return!0;return!1},hasCallback:function(e){return i[e]&&i[e].length>0},registerCallback:function(e,t){var r,o,a,s="string"==typeof e?e:null,c="object"==typeof e?e:null;if(s){if(r="function"==typeof t?t:null,void 0===i[s])return;i[s].push(r)}if(c)for(a in o="string"==typeof t?t:null,i)"function"==typeof c[a]&&(n.debug("Registering "+a+" callback for iframe "+o),i[a].push({iframeId:o,callback:c[a]}))},fireCallbacks:function(e,n,t,r){return a.fire(t,e,r,n)},fire:function(r,o,a,s,c,l){var u,d,p,f=!1,m=[];s&&m.push(s),c&&m.push(c),l&&m.push(l);var g=s&&s.resultCallbackId,v=function(t){if(a)try{if(m.length>1)return d.apply(null,m);if("loginRequired"===o){var i=e.deepExtend({},t.term);return delete t.term,d(t,r,i)}return d(t,r)}catch(e){n.debug(e)}};if(void 0!==i[o]){for(p=0,u=null,d=null;p<i[o].length;++p){if("function"==typeof(d=i[o][p]))n.debug("firing callback for event '"+o+"' from iframe("+r+")"),u=v(s),f=!0;else if("object"==typeof d){if(r!==d.iframeId)continue;n.debug("firing callback for event '"+o+"' from iframe("+r+")"),d=d.callback,u=v(s),f=!0}g&&(s.result=u,s.event=o,t.send("resultCallback",s,r))}return!f&&g&&(s.callbackNotFound=!0,s.event=o,t.send("resultCallback",s,r)),u}},fireCallbacksAndStopOnFirstFalse:function(e,t,r,o){for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];if(void 0===i[e])return!0;for(var c=!0,l=0;l<i[e].length;l++){var u=i[e][l];if("function"==typeof u){n.debug("firing callback for event '"+e+"'");try{var d=[];if(d.push(t),d.push(r),d.push(o),d=d.concat([].slice.call(a)),!1===u.apply(null,d)){n.debug("callback for event '"+e+"' returned false"),c=!1;break}}catch(t){n.debug("firing callback for event '"+e+"' failed",t)}}}return c}};return a}}}();pn.container.register("eventUtils",{useValue:xe}),pn.eventUtils=pn.container.resolve("eventUtils");var Pe=function(){var e=pn.container.resolve("util"),n=pn.container.resolve("api"),t=pn.container.resolve("eventUtils"),r=pn.container.resolve("localStorage"),o=t.createEventManager(["userChanged","logout"]),i="janrain",a=function(){return e.getUserTokenCookie()},s=function(){var e=a();return!!(void 0!==e&&e&&e.length>=0)},c=!1,l=!1,u={onCaptureSessionCreated:[]},d={loginRequiredScreen:"signIn",appName:null,appId:null,clientId:null,settings:null,disableLogout:!1,startCapture:!1},p={register:"traditionalRegistration",login:"signIn"};var f=function(e){return e&&p.hasOwnProperty(e.startScreen)?p[e.startScreen]:d.loginRequiredScreen};var m=function(){d.disableLogout||e.setAccessTokenListCookie(void 0,void 0,!0)},g=!0,v=function(){var e=window.janrain;return e&&e.capture&&e.capture.ui&&e.capture.ui.hasActiveSession()};function h(){e.log("JANRAIN:","Processing janrain user"),g?g=!1:e.startCall("refreshUserToken"),e.log("JANRAIN:","hasActiveSession:"+v());var t=w();if(!v())return e.log("JANRAIN:","No token found.  Done processing user"),m(),void e.doneCall("refreshUserToken");if(s())return e.log("JANRAIN:","Using __ut.  Done processing user"),void e.doneCall("refreshUserToken");var r={janrain_capture_token:t,url:e.prepareUrlParameter(window.location.href)};n.callApi("/anon/janrain/verifyAccountInfo",r,(function(n){if(n&&n.access)try{e.log("JANRAIN:","Verify success.  Done processing user"),e.setAccessTokenListCookie(n.access.access_token,n.access.user_token);var t={access_token:n.access.access_token,user_token:n.access.user_token};n.access.user&&(t.user={uid:n.access.user.uid,email:n.access.user.email,firstName:n.access.user.first_name,lastName:n.access.user.last_name,valid:n.access.user.valid}),function(e,n){if(void 0!==u[e]&&0!==u[e].length)for(var t=0;t<u[e].length;++t)u[e][t].apply(null,arguments)}("onCaptureSessionCreated",t),o.fireCallbacks("userChanged",t,void 0,!0)}finally{e.doneCall("refreshUserToken")}else e.log("JANRAIN:","Verify failed")}))}var w=function(){return r.get("janrainCaptureToken")},y=function(){var n=window.janrain;n.events.onProviderLogoutComplete.addHandler((function(){m()})),n.events.onCaptureSessionEnded.addHandler((function(n){e.log("JANRAIN: Events received for logout",n),m()})),b()},b=function(){if(v())return e.log("JANRAIN:","Found early active session via function"),void h();if(!v()&&!s()&&!w())return e.log("JANRAIN:","not found __ut cookie and janrain token"),void h();var n=!1,t=window.janrain;t.events.onCaptureSessionFound.addHandler((function(t){k()?n&&(e.log("JANRAIN: Events received for logged in user",t),h()):h()})),t.events.onCaptureSessionNotFound.addHandler((function(t){k()?n&&(e.log("JANRAIN: Events received for logged out user",t),h()):h()})),t.events.onCaptureFederateNoLogin.addHandler((function(e){n=e})),t.events.onCaptureFederateLogin.addHandler((function(n){e.log("JANRAIN: Events received for SSO login",n),h()}))},k=function(){var e=window.janrain;return e&&e.settings&&e.settings.capture&&e.settings.capture.federate};function _(e,n){if(!c)throw"Janrain is not configured";var t=0;!function r(){var o=window.janrain;if(l)o.events[e].addHandler((function(e){n(e)}));else{if(t>100)throw"Janrain is not initialized";t++,window.setTimeout(r,100)}}()}return{name:i,isv:!1,init:function(n){if(!c){if(!n.appName||!n.appId||!n.clientId)throw"Must specify appName, appId, and clientId to initialize janrain";for(var t in d)void 0!==n[t]&&(d[t]=n[t]);if(n.settings&&(d.settings=n.settings),n.loginRequiredScreen&&(d.loginRequiredScreen=n.loginRequiredScreen),d.settings){"object"!=typeof window.janrain&&(window.janrain={}),"object"!=typeof window.janrain.settings&&(window.janrain.settings={});var r=window.janrain;r.settings=d.settings,"object"!=typeof window.janrain.settings.capture&&(window.janrain.settings.capture={}),r.settings.appUrl="https://"+d.appName+".rpxnow.com",r.settings.capture.captureServer="https://"+d.appName+".janraincapture.com",r.settings.capture.appId=d.appId,r.settings.capture.clientId=d.clientId;var o,i=d.appName.replace(/\./g,"-"),a="http://widget-cdn.rpxnow.com/load/"+i,s="https://rpxnow.com/load/"+i;o=e.__protected__.isHttpsProtocol()?s:a,pn.push(["addExternalLibrary",o,function(){r.ready=!0}])}e.log("JANRAIN:","start refresh user token"),e.startCall("refreshUserToken",3e4),e.waitCall("refreshUserToken",(function(){e.log("JANRAIN:","end refresh user token")})),function(){var n=100,t=0;function r(){var o=window.janrain;if(window.janrain&&window.janrain.ready&&window.janrain.capture&&window.janrain.capture.ui&&window.janrain.capture.ui.hasActiveSession)!function(){var n=window.janrain,t=function(t){n.events[t].addHandler((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.log("JANRAIN: ",t,n)}))};pn.debug&&n.events.captureEvents.forEach(t)}(),y(),d.startCapture&&o.capture.ui.start(),l=!0;else{if(t>n)throw"Janrain is not initialized";t++,window.setTimeout(r,100)}}r()}(),c=!0,pn.zIndexes={backdrop:900,modal:950,close:990};var u=function(n){e.log("JANRAIN: onLogin"),window.janrain.capture.ui.modal.close(),h()};_("onCaptureLoginSuccess",u),_("onCaptureRegistrationSuccess",u)}},isUserValid:s,getToken:a,getName:function(){return i},onLoginSuccess:function(n){e.setAccessTokenListCookie({value:n.token_list,cookie_domain:n.cookie_domain},n.user_token)},login:function(e,n){if(!c)throw"Janrain is not configured";var t=0,r=function(){if(l)try{window.janrain.capture.ui.renderScreen(f(n)),"function"==typeof e&&function(e,n){u[e]=[],u[e].push(n)}("onCaptureSessionCreated",e)}catch(e){return t++,void window.setTimeout(r,100)}else{if(t>100)throw"Janrain is not initialized";t++,window.setTimeout(r,100)}};r()},logout:function(e){if(!c)throw"Janrain is not configured";var n=0,t=0;function r(){t>100?e():v()?(t++,window.setTimeout(r,100)):e()}m(),function t(){if(l){var i=window.janrain;i.capture.ui.modal.close(),i.capture.ui.endCaptureSession(),o.fireCallbacks("logout",null,void 0,!0),e&&r()}else{if(n>100)throw"Janrain is not initialized";n++,window.setTimeout(t,100)}}()},isConfigured:function(){return c},getLoginRequiredScreen:f,addEventHandler:_,registerCallback:function(e,n){o.addEvent(e),o.registerCallback(e,(function(e){n(e)}))}}}();pn.container.register("janrain",{useValue:Pe}),pn.janrain=pn.container.resolve("janrain");var Ee={name:"sha1",hash:function(e,n){function t(e,n){return e<<n|e>>>32-n}function r(e){var n,t="";for(n=7;n>=0;n--)t+=(e>>>4*n&15).toString(16);return t}var o,i,a;n=n||32;var s,c,l,u,d,p,f=new Array(80),m=1732584193,g=4023233417,v=2562383102,h=271733878,w=3285377520,y=(e=function(e){e=e.replace(/\r\n/g,"\n");for(var n="",t=0;t<e.length;t++){var r=e.charCodeAt(t);r<128?n+=String.fromCharCode(r):r>127&&r<2048?(n+=String.fromCharCode(r>>6|192),n+=String.fromCharCode(63&r|128)):(n+=String.fromCharCode(r>>12|224),n+=String.fromCharCode(r>>6&63|128),n+=String.fromCharCode(63&r|128))}return n}(e)).length,b=new Array;for(i=0;i<y-3;i+=4)a=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),b.push(a);switch(y%4){case 0:i=2147483648;break;case 1:i=e.charCodeAt(y-1)<<24|8388608;break;case 2:i=e.charCodeAt(y-2)<<24|e.charCodeAt(y-1)<<16|32768;break;case 3:i=e.charCodeAt(y-3)<<24|e.charCodeAt(y-2)<<16|e.charCodeAt(y-1)<<8|128}for(b.push(i);b.length%16!=14;)b.push(0);for(b.push(y>>>29),b.push(y<<3&4294967295),o=0;o<b.length;o+=16){for(i=0;i<16;i++)f[i]=b[o+i];for(i=16;i<=79;i++)f[i]=t(f[i-3]^f[i-8]^f[i-14]^f[i-16],1);for(s=m,c=g,l=v,u=h,d=w,i=0;i<=19;i++)p=t(s,5)+(c&l|~c&u)+d+f[i]+1518500249&4294967295,d=u,u=l,l=t(c,30),c=s,s=p;for(i=20;i<=39;i++)p=t(s,5)+(c^l^u)+d+f[i]+1859775393&4294967295,d=u,u=l,l=t(c,30),c=s,s=p;for(i=40;i<=59;i++)p=t(s,5)+(c&l|c&u|l&u)+d+f[i]+2400959708&4294967295,d=u,u=l,l=t(c,30),c=s,s=p;for(i=60;i<=79;i++)p=t(s,5)+(c^l^u)+d+f[i]+3395469782&4294967295,d=u,u=l,l=t(c,30),c=s,s=p;m=m+s&4294967295,g=g+c&4294967295,v=v+l&4294967295,h=h+u&4294967295,w=w+d&4294967295}return(p=r(m)+r(g)+r(v)+r(h)+r(w)).toLowerCase().slice(0,n)}};pn.sha1=Ee,pn.container.register("sha1",{useValue:Ee});var Te=function(){function e(e,n){this._isActive=!1,this.targets=[],this.timeout=200,this.util=n,this.callback=e}return e.prototype._mutationSearch=function(){var e=this;this.targets.forEach((function(n){var t=e._getState(n.element);!t===n.currentState&&(n.currentState=t,e.callback([{target:n.element}]))})),this._isActive&&setTimeout(this._mutationSearch.bind(this),this.timeout)},e.prototype._getState=function(e){var n=[].slice.call(e.attributes).reduce((function(n,t){return n[t.name]=e.getAttribute(t.name),n}),{});return JSON.stringify(n)},e.prototype.observe=function(e){this.targets.push({id:this.util.randomString(),element:e,currentState:this._getState(e)}),this._isActive||(this._isActive=!0,this._mutationSearch())},e.prototype.disconnect=function(){this._isActive=!1,this.targets=[]},e}(),Ae=function(){pn.container.resolve("jqUtils");var e=pn.container.resolve("util"),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,t={attributes:!0};return{name:"observer",create:function(r,o){r||e.error("element must be NODE");var i=new(n||Te)((function(e){var n=e.map((function(e){return e.target}));return"function"==typeof o&&o(n)}),e);return i.observe(r,t),i}}}();pn.container.register("observer",{useValue:Ae}),pn.observer=pn.container.resolve("observer");var Me=function(){var e,n,t=pn.container.resolve("jqUtils"),r=pn.container.resolve("util"),o=pn.container.resolve("postmessage"),i=pn.container.resolve("eventUtils"),a=pn.container.resolve("sha1"),s={},c={},l=i.createEventManager(["close"]),u="tp-container-inner",d=new Map,p=[],f="frozen-mobile-body",m={_initialScrollPosition:{x:0,y:0},applyFix:function(){var e=window.visualViewport?Math.max(window.scrollY,document.documentElement.scrollTop,window.visualViewport.pageTop):Math.max(window.scrollY,document.documentElement.scrollTop),t=pn.dontScrollTopModal?e:0;this.saveInitialScroll(window.scrollX,e),n&&(pn.dontScrollTopModal?(document.body.style.touchAction="none",document.documentElement.style.touchAction="none",this.addEvents("scroll"),this.addEvents("touchmove")):(v(),g(0,0)),setTimeout((function(){var e={overscrollBehavior:"contain",position:"absolute",top:t+"px",height:"100%",width:"100%",overflowX:"unset",overflowY:"scroll"};Object.keys(e).forEach((function(t){n.style[t]=e[t]})),n.scrollHeight>document.documentElement.clientHeight&&n.classList.add("tp-modal__margin-100")}),500))},addEvents:function(e){document.body.addEventListener(e,this.scrollRevert,{passive:!1}),document.addEventListener(e,this.scrollRevert,{passive:!1})},removeEvents:function(e){document.body.removeEventListener(e,this.scrollRevert,!1),document.removeEventListener(e,this.scrollRevert,!1)},removeFix:function(){document.querySelectorAll(".tp-iframe-wrapper.tp-active").length||(pn.dontScrollTopModal?(document.body.style.removeProperty("touch-action"),document.documentElement.style.removeProperty("touch-action"),this.removeEvents("scroll"),this.removeEvents("touchmove")):(h(),this._scrollBack()))},_scrollBack:function(){(this._initialScrollPosition.y||this._initialScrollPosition.x)&&g(this._initialScrollPosition.x,this._initialScrollPosition.y)},scrollRevert:function(e){var n=e||window.event;return n.preventDefault&&n.cancelable&&n.preventDefault(),m._scrollBack(),!1},saveInitialScroll:function(e,n){this._initialScrollPosition.x=e,this._initialScrollPosition.y=n},modalOpened:function(){this.applyFix()},modalClosed:function(){this.removeFix()}},g=function(e,n){function t(e){return/\{\s*\[native code\]\s*\}/.test(""+e)}try{if(t(window.scrollTo))return void window.scrollTo(e,n);if(t(window.scroll))return void window.scroll(e,n);document.body&&(document.body.scrollTop=0)}catch(e){console.warn("Can not perform scroll: "+e.message)}},v=function(){document.body.classList.contains(f)||document.body.classList.add(f)},h=function(){document.body.classList.contains(f)&&document.body.classList.remove(f)};t.on(window,"resize",(function(){var e;if(q(),r.isAndroid()){var n=null===(e=document.querySelector(".tp-iframe-wrapper.tp-active"))||void 0===e?void 0:e.closest(".tp-modal");n&&n.scrollBy(0,1)}})),r.isIOS()&&t.on(window,"orientationchange",(function(){setTimeout((function(){return q()}),100)})),o.subscribe("close",(function(){m.modalClosed()})),o.subscribe("toggleIframeShadow",(function(e){b(e.params.isEnabled)})),o.subscribe("toggleLoadingContainer",(function(e){if(e.params.isEnabled)return J();G()}));var w,y,b=function(e){var n=document.querySelector(".tp-iframe-wrapper");if(n)return e?n.classList.contains("no-shadow")&&n.classList.remove("no-shadow"):void n.classList.add("no-shadow")},k=function(e){!function(e){o.send("checkProccessesForClose",{},e.iframeId)}(e),"popup"===e.config.displayMode?e.container.close():function(e){if(r.debug("Removing iframe",e),e.element&&(t.hide(e.element),"inline"===e.config.displayMode)){var n=e.element.parentElement;n&&t.hide(n)}e.resizeObserver&&e.resizeObserver.disconnect(),"modal"!==e.config.displayMode&&"inline"!==e.config.displayMode||(e.waitFinishProcesses=!0)}(e)},_=function(){for(var e in s){var n=s[e];if("modal"===n.config.displayMode&&!n.waitFinishProcesses&&!n.config.isPreload)return!0}return!1},C=function(e){return s[e]},I=function(){function e(e,n,t){this.$=e,this._operationWithContainer=t,this.util=n,this._initModalContainer(),this.iOSBottomToolbarHeight=90}return e.prototype._initModalContainer=function(){var e=this;return this.container||(this.container=document.createElement("div"),this.element=this.container,this.$.addClass("tp-modal",this.container),this.close=document.createElement("button"),this.$.setAttr("type","button",this.close),this.$.setAttr("aria-label","Close",this.close),this.$.addClass("tp-close",this.close),this.iframeWrapper=document.createElement("div"),this.$.addClass("tp-iframe-wrapper",this.iframeWrapper),this.$.append(this.iframeWrapper,this.close),this.container.style.zIndex=pn.zIndexes.modal+"",this.close.style.zIndex=pn.zIndexes.close+"",this.$.on(this.close,"click",(function(){"function"==typeof e.closeClick&&e.closeClick()})),this.util.isIOS()&&!this.util.isFBOrInstWebView()&&(this.iframeWrapper.style.marginBottom=this.iOSBottomToolbarHeight+"px"),this.$.append(this.container,this.iframeWrapper),this._operationWithContainer("body",(function(n){e.$.append(n,e.container)}))),this.container},e.prototype.getContainer=function(e,n){return this._initModalContainer(),this.closeClick=n,void 0===e&&(e=!0),e?this.showCloseButton():this.hideCloseButton(),this.iframeWrapper},e.prototype.show=function(e){this._initModalContainer(),void 0===e&&(e=!0),e?this.showCloseButton():this.hideCloseButton(),this.$.addClass("tp-active",this.container)},e.prototype.hide=function(){this._initModalContainer(),this.$.removeClass("tp-active",this.container)},e.prototype.showCloseButton=function(){this._initModalContainer(),this.$.addClass("tp-active",this.close)},e.prototype.hideCloseButton=function(){this._initModalContainer(),this.$.removeClass("tp-active",this.close)},e}(),S=function(e,n,t){for(var o in r.debug("Search container to close",e,n,t),s){var i=s[o];e&&o!==e||(t&&"inline"===i.config.displayMode||t&&i.config.isPreload||(k(i),"modal"===i.config.displayMode&&x(i)))}l.fireCallbacks("close",null,e,!0)},x=function(e){var r=p.shift();w&&!r&&t.removeClass("tp-active",w),e.iframeParams.shown=!1,t.removeClass("tp-active",e.container),r?(t.hide(n),n=r,t.show(n)):(P(),T())},P=function(){n&&(L("body",(function(e){t.addClass("tp-modal-close",e),t.removeClass("tp-modal-open",e),e.classList.contains("body-fixed")&&t.removeClass("body-fixed",e)})),t.hide(n))},E=function(e,o,i){if(function(){if(w)return w;var e=document.createElement("div");t.addClass("tp-backdrop",e),e.style.zIndex=pn.zIndexes.backdrop+"",L("body",(function(n){t.append(n,e)})),w=e}(),t.visible(w)){var a=t.qa(".tp-modal").find((function(e){return t.visible(e)}));o&&!i?(a&&(t.hide(a),p.unshift(a)),e&&t.show(e)):o&&(a?(e&&p.push(e),n=a):e&&t.show(e))}else e&&function(e){t.visible(e)||(L("body",(function(e){t.removeClass("tp-modal-close",e),t.addClass("tp-modal-open",e)})),t.show(e),(r.isIphone()||r.isSafariOrIOsUiWebView()||r.isAndroid())&&m.modalOpened())}(e),t.show(w),y=window.setTimeout((function(){t.addClass("tp-active",w)}),50)},T=function(){w&&(t.removeClass("tp-active",w),t.hide(w),clearTimeout(y)),m.modalClosed()},A=function(e){w&&(w.style.height="100%");var n=t.queryEl(".tp-close",e);n&&t.removeClass("tp-square",n)},M=function(e,n){if(e){z(e.element,n);var r=Object.assign({},n,{animate:!1});switch(e.config.displayMode){case"modal":z(e.container,r),L("body",(function(e){t.addClass("tp-modal-resizing",e),setTimeout((function(){t.removeClass("tp-modal-resizing",e)}),50)}));break;case"inline":var o=t.queryEl(".tp-container-inner",e.container);o&&z(o,n)}}},O=function(e,r,o){var i=e.container,a=i.parentElement;a&&a.classList.contains("tp-modal")?n=a:a=n,e.iframeParams=e.iframeParams||{},e.iframeParams.shown||(e.iframeParams.shown=!0,E(a,r,o),o||(i.classList.contains("tp-active")||t.addClass("tp-active",i),A(i)))},R={},L=function(e,n){var r=t.queryEl(e);R[e]||(R[e]=0),r?(delete R[e],n(r)):R[e]<100&&(R[e]+=1,setTimeout((function(){L(e,n)}),50))},N=function(e,o){if(void 0===e.showCloseButton&&(e.showCloseButton=!0),e.container)return e.container;var i=new I(t,r,L);return e.isPreload||(n=i.element),i.getContainer(e.showCloseButton,o)},U=function(e){var n={container:null,containerReady:!1};if(!e.iframeParams.containerSelector)return r.log("Inline offer must have a valid containerSelector"),n;if(n.container=e.singleContainer||t.queryEl(e.iframeParams.containerSelector),!n.container)return r.log("Invalid containerSelector"),n;var o=e.config,i="object"==typeof o&&null!==o;return t.empty(n.container),i?!0==!!o.preview||(e.iframeParams.width=t.getWidth(n.container)):e.iframeParams.width=e.iframeParams.width||t.getWidth(n.container),n.containerReady=!0,n},j=function(e){var n=t.winSize(),o=e.width?e.width:n.width,i=e.height?e.height:n.height,a=r.centerScreen(o,i);return{width:o,height:i,top:a.top,left:a.left}},D=function(e,n){var t=j(e),o=window.open(n,r.randomString(16),"scrollbars=yes,location=yes,status=0,toolbar=0,resizable=1, width="+t.width+", height="+t.height+", top="+t.top+", left="+t.left);return window.focus&&o&&o.focus(),o},F=1,B=function(e,n,o){var i="iframe-"+F+++"-"+r.randomString();n.iframeId&&(i=n.iframeId);var a=document.createElement("iframe"),s={id:i,name:i,title:i,scrolling:"no",allowtransparency:"true",src:o,allow:"payment"};Object.keys(s).forEach((function(e){t.setAttr(e,s[e],a)}));var c={overflow:"hidden",backgroundColor:"transparent",border:"0",width:"inline"===e.displayMode?n.width+"px":"0px",height:"0px"};Object.keys(c).forEach((function(e){a.style[e]=c[e]}));try{t.setAttr("frameBorder","0",a)}catch(e){r.log(e)}return a},V=function(e,n){var r=setInterval((function(){t.empty(e)}),150);t.ready((function(){clearInterval(r),t.append(e,n)}))},q=function(){for(var e in s){var n=s[e];if(!n.config.preview&&"inline"===n.config.displayMode&&n.container&&M(n,{width:t.getWidth(n.container)}),"modal"===n.config.displayMode&&n.container){var r=Math.max(document.documentElement.clientWidth,document.body.offsetWidth,document.documentElement.offsetWidth);o.send("RESIZE_MODAL_CHECKOUT",{iframe:n,width:r},n.iframeId)}}},z=function(e,n){e&&(void 0!==n.width&&(e.style.width=n.width+"px",(0===n.width&&!e.classList.contains("no-width")||0!==n.width&&e.classList.contains("no-width"))&&t.toggleClass("no-width",e)),void 0!==n.height&&(n.animate,e.style.height=n.height+"px",(0===n.height&&!e.classList.contains("no-height")||0!==n.height&&e.classList.contains("no-height"))&&t.toggleClass("no-height",e)))},H=function(e){var n=document.createElement("div");return n.innerHTML=e.trim(),n.firstChild},W=function(e){return void 0===e&&(e=""),'<div class="tp-please-wait tp-active tp-overlap '+e+'"><div class="tp-icon tp-centered"><div class="pn-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div></div>'},J=function(){e||(e=H(W()))&&document.body.appendChild(e)},G=function(){e&&(document.body.removeChild(e),e=null)};function Q(e){if(e&&e.container){!function(e){if(e&&(null==e?void 0:e.container)&&!d.has(e.iframeId)){var n=H(W("tp-local-overlap"));n&&(e.container.appendChild(n),d.set(e.iframeId,n))}}(e);e.container.addEventListener("load",(function(){!function(e){if(e&&(null==e?void 0:e.container)&&d.has(e.iframeId)){var n=d.get(e.iframeId);n&&(e.container.removeChild(n),d.delete(e.iframeId))}}(e)}),{once:!0,capture:!0})}}function X(e){e&&e.element&&(function(e){var n;if(!e)return!1;return!!(null===(n=null==e?void 0:e.element.getBoundingClientRect())||void 0===n?void 0:n.width)}(e)&&Q(e),e.element.src=e.element.src)}function $(){for(var e in s){var n=s[e];n&&X(n)}}return{name:"containerUtils",fakeOfferId:"fakeOfferId",createContainer:function(e){var n,i,d,p=!0,f=e.iframeParams;if("inline"===f.displayMode||f.width||(f.width=window.innerWidth),i=e.config.buildQueryStringFn?function(n){return e.config.buildQueryStringFn(n,t)}:function(e){var n=t.param(e);return n+"&_qh="+a.hash(n,10)},"popup"===f.displayMode){f.width||(f.width=window.innerWidth);var m=e.url+"?"+i(f);n=D(f,m);try{d=n.document}catch(e){try{d=n}catch(e){d=null,console.warn("Unable to get popup element")}}c[f.iframeId]={container:n,interval:setInterval((function(){c[f.iframeId].container.closed&&(clearInterval(c[f.iframeId].interval),c[f.iframeId].container.close(),e.onCloseCallback&&e.onCloseCallback())}),100)}}else{if("inline"===f.displayMode){void 0!==e.config.showCloseButton&&delete e.config.showCloseButton;var g=U(e);n=g.container,p=!!g.containerReady}else n=N(e.config,(function(){S(f.iframeId,e.parent)}));var v=e.url+"?"+i(f);d=B(e.config,f,v)}l.registerCallback(e,f.iframeId);var h=s[f.iframeId]={iframeId:f.iframeId,config:e.config,element:d,container:n,iframeParams:f,containerReady:p};if(o.init({postMessageUrl:e.postMessageUrl,parent:e.parent,receive:e.receive,iframe:h,iframeParams:f}),t.on(document,"keyup",(function(e){})),"modal"===f.displayMode)t.on(window,"resize",(function(){A(n)})),t.append(n,d);else if("inline"===f.displayMode){if(s[f.iframeId].containerReady){var w=document.createElement("div");t.addClass(u,w),t.append(w,d),e.config.isPreload&&t.hide(w),("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll)&&n?(t.empty(n),t.append(n,w)):V(n,w)}else{var y=document.createElement("div");t.setAttr("id","temp-inline-"+f.iframeId,y),t.hide(y),L("body",(function(e){t.append(e,y)})),t.append(y,d)}if(window.ResizeObserver){var b=new ResizeObserver((function(e){var n=t.getWidth(h.container);n>0&&M(h,{width:n})}));b.observe(h.container),h.resizeObserver=b}}return r.debug("creating iframe: ",e),h},showPreloadedContainer:function(e){if("modal"===e.config.displayMode){if(_())return void r.log("Modal is already shown; must be one modal per time");!function(e){(n=e.container.closest(".tp-modal"))?n=n:r.error("there is no such modal container"),O(e,!0,!0)}(e)}else"inline"===e.config.displayMode?function(e){t.show(e.container);var n=t.queryEl(".tp-container-inner",e.container);n&&t.show(n),M(e,{width:t.getWidth(e.container)})}(e):r.log("Unexpected displayMode of preloaded iframe\n");return e.config.isPreload=!1,e.iframeParams.isPreload=!1,r.debug("show preloaded iframe: ",e.config),e},redirectContainer:function(e,n){var r=n.url+"?"+t.param(n.iframeParams),i=s[e];if("popup"===i.config.displayMode)i.container.location=r;else{var a=i.element;(a.contentWindow||a).location=r}i.config=n.config,o.init({postMessageUrl:n.postMessageUrl,receive:n.receive,iframe:s[n.iframeParams.iframeId],iframeParams:n.iframeParams})},hasModalIframe:_,getIframe:C,generateIframe:B,generateIframeWrapper:function(){var e=document.createElement("div"),n={overflow:"hidden",backgroundColor:"transparent",border:"0",width:"0px",height:"0px",position:"absolute",display:"block",top:"-1px",left:"-1px"};return Object.keys(n).forEach((function(t){e.style[t]=n[t]})),e},getPopupPosition:j,generatePopup:D,initInlineContainer:U,getModalContainer:N,centerBackdrop:function(e){if(w){var n=t.winSize();e.offsetHeight>n.height?w.style.height=n.height+"":w.style.height="100%"}},showBackdrop:E,hideBackdrop:T,checkBackdropAndContainer:O,resizeIframe:M,centerIt:A,operationWithContainer:L,closeContainer:S,closeModalContainer:function(e,n){S(e,n,!0)},purgeIframe:function(e,n){r.debug("Purging iframe",e);var i=s[e];try{if(i.resizeObserver&&i.resizeObserver.disconnect(),o.removeIframe(i.iframeId),t.remove(i.element),"inline"===i.config.displayMode){var a=t.queryEl(".tp-container-inner",i.container);a&&t.remove(a)}}catch(e){}delete s[e]},hideModalContainer:function(e){var n=[];for(var r in s){var o=s[r];e&&r!==e||"inline"!==o.config.displayMode&&"modal"===o.config.displayMode&&(x(o),t.hide(o.container),n.push(r))}return n},closeModal:x,hideCloseButton:function(e){if(e){var n=t.queryEl(".tp-close",e);n&&n.classList.contains("tp-active")&&t.removeClass("tp-active",n)}},activateContainers:function(e){if(e&&e.length)for(var n in s)for(var r=s[n],o=0;o<e.length;o++)if(n===e[o]){var i=r.container,a=i.parentElement;a&&E(a),t.addClass("tp-active",i),t.show(i)}},showWaitPanel:J,hideWaitPanel:G,addClassToContainer:function(e,n){t.addClass(n,e.container)},turnOnRTL:function(e){e.container&&e.container.setAttribute&&e.container.setAttribute("dir","rtl")},turnOffRTL:function(e){e.container&&e.container.removeAttribute&&e.container.removeAttribute("dir")},setIframesPopstateHandlers:function(){(r.isIphone()||r.isSafariOrIOsUiWebView())&&window.addEventListener("popstate",$)},__protected__:{setElementSizes:z,closeInlineContainers:function(e){Array.prototype.slice.call(document.querySelectorAll(e+" > ."+"tp-container-inner > iframe")).forEach((function(e){var n,t;e.id&&(n=e.id,(t=C(n)).config.child&&S(t.config.child),S(n))}))},addChildToInlineIframe:function(e,n){if(e){var t=C(n);t&&t.config&&(t.config.child=e.iframeId)}},closeAndRemoveIframe:k},__private__:{mobileModalFix:m}}}();pn.container.register("containerUtils",{useValue:Me}),pn.containerUtils=pn.container.resolve("containerUtils");var Oe=function(e){void 0===e&&(e=pn.container);var n=e.resolve("ajax"),t=e.resolve("util");e.resolve("postmessage").subscribe("iframeLogRequest",(function(e){o(e.url,e.queryParams)}));var r=function(e){var n=[];for(var t in e){var r=e[t];n.push(encodeURIComponent(t)+"="+encodeURIComponent("object"==typeof r?JSON.stringify(r):r))}return n.join("&")},o=function(e,o){var i=r(o);t.isRelativeUrl(e.trim())?i.length>6e3?n.request({type:"POST",url:pn.getTrackingEndpoint()+e,data:i}):n.request({url:pn.getTrackingEndpoint()+e+"?"+i,dataType:"jsonp"}):t.log("Url parameter is incorrect")},i=function(e,n,r,i,a){e?r?n?o("/api/v3/conversion/logEspMicroConversion",{tracking_id:e,esp_widget_id:n,event_type:i,event_group_id:r,custom_params:a||""}):t.log("Parameter espWidgetId is required to log esp micro conversion."):t.log("Parameter eventGroupId is required to log esp micro conversion."):t.log("Parameter trackingId is required to log esp micro conversion.")},a=function(e,n,r,i,a,s,c,l){var u={tracking_id:e,term_id:n,term_name:r};e?n?r?(void 0!==i&&(u.step_number=i),void 0!==a&&(u.amount=a),void 0!==s&&(u.currency=s),void 0!==c&&(u.custom_params=c),void 0!==l&&(u.conversion_category=l),o("/api/v3/conversion/log",u)):t.log("Parameter termName is required to log conversion."):t.log("Parameter termId is required to log conversion."):t.log("Parameter trackingId is required to log conversion.")},s=function(e,o){if(!(i=window.doNotTrack||window.navigator.doNotTrack||window.navigator.msDoNotTrack)||"1"!==i.charAt(0)&&"yes"!==i){var i,a,s=r(o),c=e+"?"+s;if(navigator.sendBeacon)if(c.length>6e3){var l=new Blob([s],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(e,l)}else navigator.sendBeacon(c);else(a=-1!==navigator.appVersion.indexOf("MSIE 9")?{dataType:"jsonp",url:c}:{type:"post",url:c,async:!1,xhrFields:{withCredentials:!0}}).error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.debug.apply(t,_e(["Beacon request has been failed"],e,!1))},n.request(a)}};return{name:"log",logMicroConversion:function(e,n,r){e?n?o("/api/v3/conversion/logMicroConversion",{tracking_id:e,event_group_id:n,custom_params:r||""}):t.log("Parameter eventGroupId is required to log micro conversion."):t.log("Parameter trackingId is required to log micro conversion.")},logConversion:function(e,n,t,r,o,i,s,c){if("object"==typeof e){var l=e;a(l.tracking_id,l.term_id,l.term_name,l.step_number,l.amount,l.currency,l.custom_params,l.conversion_category)}else a(e,n,t,r,o,i,s,c)},logFunnelStep:function(e,n,r,i){e?n?r?o("/api/v3/conversion/logFunnelStep",{tracking_id:e,step_number:n,step_name:r,custom_params:i||""}):t.log("Parameter stepName is required to log funnel step."):t.log("Parameter stepNumber is required to log funnel step."):t.log("Parameter trackingId is required to log funnel step.")},logEspMicroConversion:i,logBeaconRequest:s,__protected__:{logCustomFormImpression:function(e,n,r){n||t.log("Parameter formName is required to log impression."),r||t.log("Parameter source is required to log impression.");var i={aid:pn.aid,pageview_id:pn.main.fetchPageViewId(),custom_form_name:n,custom_form_source:r},a=pn.user.getProvider().getToken();return a&&(i.user_token=a),e&&(i.tracking_id=e),o("/api/v3/customform/log/impression",i)},logCustomFormSubmission:function(e,n,r){n||t.log("Parameter formName is required to log submission."),r||t.log("Parameter source is required to log submission.");var i={aid:pn.aid,pageview_id:pn.main.fetchPageViewId(),custom_form_name:n,custom_form_source:r},a=pn.user.getProvider().getToken();return a&&(i.user_token=a),e&&(i.tracking_id=e),o("/api/v3/customform/log/submission",i)},logEspMicroConversion:i},__private__:{doLog:o,logBeaconRequest:s}}};pn.container.register("log",{useValue:Oe()}),pn.log=pn.container.resolve("log");var Re=function(){var e=pn.container.resolve("log"),n=pn.container.resolve("api"),t={completeInit:0,expExec:0,idShow:0,myAccountShow:0,offerShow:0,templateShow:0,tpAccShow:0,track:0};setTimeout((function(){r()}),1e4);var r=function(r){if(Math.floor(500*Math.random())+1===255){var o=r||(pn.fullTPVersion?"ts_c":"ts_s"),i={completeInit:t.completeInit,track:t.track,expExec:t.expExec,idShow:t.idShow,myAccountShow:t.myAccountShow,offerShow:t.offerShow,templateShow:t.templateShow,tpAccShow:t.tpAccShow,aid:pn.aid,type:o};e.logBeaconRequest(n.getEndpoint()+"/internal/anon/telemetry/ux/init/time/log",i)}};return{name:"logging",setTime:function(e){0===t[e]&&(t[e]=Math.round(performance.now()-window.pnInitPerformance))}}}();pn.container.register("logging",{useValue:Re}),pn.logging=pn.container.resolve("logging");var Le;!function(e){e.AUTO="A",e.MANUAL="M"}(Le||(Le={}));var Ne=function(){var e=pn.container.resolve("util"),n=pn.container.resolve("ajax"),t=pn.container.resolve("jqUtils"),r=pn.container.resolve("eventUtils"),o=function(e){return Object.entries(e).reduce((function(e,n){var t=n[0],r=n[1];return(r||0===r)&&(e[t]=r),e}),{})},i=r.createEventManager([]),a=function(r,i,a){return new Promise((function(s,c){var l=a?"?"+t.param(a):"",u=pn.getExperienceEndpoint(!1)+"/"+pn.aid+r+l,d=o({xbc:e.__protected__.getCookie("xbc")||void 0,tbc:e.getTbcCookie()||void 0}),p=o(ye(ye({},d),i));if(!(p.cid&&p.itemId&&p.xbc)){var f="credit: Error: Required params are absent";e.debug(f),c({code:0,message:f})}n.request({type:"post",url:u,data:ye(ye({},d),i),xhrFields:{withCredentials:!0},error:function(n){var t="credit: Error: Received error:"+n.status+" "+n.responseText;e.debug(t),c({code:n.status,message:n.responseText})},success:function(e){s(e)}})}))},s=function(e,n,t,r){var o=function(e){return function(n){return i.fire(void 0,e,!0,n),n}},s=o("string"==typeof e?e:e.success),c=o("string"==typeof e?e:e.failure);return a(n,t,r).then(s).catch(c)};return{redeem:function(e){return s("manualCreditRedeemed","/execution/credit/redeem",e)},check:function(e){return s("creditChecked","/execution/credit/check",e)},registerCallback:function(e,n){i.addEvent(e),i.registerCallback(e,n)}}}();pn.container.register("credit",{useValue:Ne}),pn.credit=pn.container.resolve("credit");var Ue=function(){var e,n=pn.container.resolve("postmessage"),t=pn.container.resolve("containerUtils"),r=pn.container.resolve("util"),o=pn.container.resolve("eventUtils"),i=pn.container.resolve("logging"),a=o.createEventManager(["resize","loginSuccess","logout"]),s=function(){return pn.getEndpointRoot(!0)+"/checkout/user/loginShow"};function c(o){r.debug("Login event received",o.event,o.params,o);var i=!t.getIframe(o.sender).config.parent;switch(o.event){case"loaded":e=!1;break;case"close":t.closeModalContainer(),a.fireCallbacks(o.event,o.params,o.sender,i);break;case"cancel":case"error":case"customEvent":a.fireCallbacks(o.event,o.params,o.sender,i);break;case"loginSuccess":!function(e,n,o,i){var s=t.getIframe(o);r.setAccessTokenListCookie({value:n.token_list,cookie_domain:n.cookie_domain},n.user_token),s.config.userToken=n.user_token,s&&s.config&&s.config.loginSuccess&&s.config.loginSuccess(n.event,n.params,n.sender);a.fireCallbacks(e,n,o,i),s&&s.config&&s.config.closeAfterSuccess&&t.closeModalContainer(o);var c={reloadAfterLogin:!0,userToken:n.user_token,user:n.user};u(c)}(o.event,o.params,o.sender,i);break;case"logoutSuccess":!function(e,n,t,o){a.fireCallbacks("logout",null,void 0,!0),r.setAccessTokenListCookie({value:n.token_list,cookie_domain:n.cookie_domain},n.user_token,!0)}(o.event,o.params,o.sender);break;case"readyToSubmitStats":var s={pageViewId:pn.main.fetchPageViewId(),tbc:r.getTbcCookie()};n.send("submitStats",s,o.sender);break;default:return void r.debug("Received invalid event type: "+o.event)}}var l,u=function(e){n.broadcast("reloadOffer",e)};function d(e){l&&t.closeModalContainer(l);var n={};Object.assign(n,{closeAfterSuccess:!0},e),n.displayMode="popup",n.width=360,n.height=660,n.state=n.state?n.state:"login";var o,i=function(e){var n={};return["displayMode","aid","width","height","state"].forEach((function(t){e[t]&&(n[t]=e[t])})),n}(n);i.iframeId=r.randomString(16),i.url=window.location.href,i.host_url=window.location.href,l=i.iframeId,function(e){["aid","gaClientId","tags","contentSection","contentAuthor"].forEach((function(n){pn[n]&&(e[n]=pn[n])})),pn.contentCreated&&(e.contentCreated=pn.contentCreated)}(i),i.user_provider="tinypass_accounts",e.userToken&&(i.user_token=e.userToken),r.getCampaigns(i);var u={url:s(),config:n,postMessageUrl:s(),receive:c,iframeParams:i};return n.iframeId?(u.iframeParams.iframeId=n.iframeId,o=t.redirectContainer(n.iframeId,u)):o=t.createContainer(u),a.registerCallback(n,i.iframeId),o}return{name:"tinypassLogin",show:function(n){if(e)return!1;e=!0,setTimeout((function(){e=!1}),1e4),d(n)||r.error("Could not initialize login; check configuration"),i.setTime("tpAccShow")},close:function(){t.closeModalContainer()},showBackdrop:function(){t.showBackdrop()},hideBackdrop:function(){t.hideBackdrop()},centerBackdrop:function(e){t.centerBackdrop(e)},registerCallback:function(e,n){a.registerCallback(e,n)},listenLogin:function(e){!function(e){a.registerCallback(e,e.iframeId);var t={iframeId:e.iframeId,config:e,iframeParams:e};n.init({postMessageUrl:s(),receive:c,iframe:t,iframeParams:{}})}(e)}}}();pn.container.register("tinypassLogin",{useValue:Ue}),pn.tinypassLogin=pn.container.resolve("tinypassLogin");var je=function(){var e=pn.container.resolve("ajax"),n=pn.container.resolve("jqUtils"),t=pn.container.resolve("util"),r=pn.container.resolve("tinypassLogin"),o=pn.container.resolve("eventUtils").createEventManager(["logout"]),i=function(){return t.getUserTokenCookie()||null};return{name:"tinypassAccounts",isv:!1,isUserValid:function(){return!!t.getUserTokenCookie()},getToken:i,getName:function(){return"tinypass_accounts"},onLoginSuccess:function(e){t.setAccessTokenListCookie({value:e.token_list,cookie_domain:e.cookie_domain},e.user_token)},isConfigured:function(){return!0===pn.useTinypassAccounts||"string"==typeof pn.useTinypassAccounts&&"true"===pn.useTinypassAccounts},login:function(e){return(e=e||{}).userToken=i(),r.show(e)},logout:function(r){var i={aid:pn.aid,url:document.location.href},a=pn.getEndpointRoot(!0)+"/checkout/user/logout?"+n.param(i);t.setAccessTokenListCookie({value:null},void 0,!0),e.request({url:a,dataType:"jsonp",success:function(e){t.setAccessTokenListCookie({value:"",cookie_domain:e.models.cookie_domain},e.models.user_token,!0),o.fireCallbacks("logout",null,void 0,!0),r&&r(e)},error:function(e){t.setAccessTokenListCookie(null,void 0,!0),o.fireCallbacks("logout",null,void 0,!0),r&&r(e)}})},registerCallback:function(e,n){o.addEvent(e),o.registerCallback(e,n)}}}();pn.container.register("tinypassAccounts",{useValue:je}),pn.tinypassAccounts=pn.container.resolve("tinypassAccounts");var De=function(){var e=pn.container.resolve("jqUtils"),n=pn.container.resolve("cookie"),t=pn.container.resolve("util"),r=pn.container.resolve("eventUtils").createEventManager(["logout"]);return{isv:!1,name:"condeUserProvider",getName:function(){return"conde"},isUserValid:function(){return!!t.getUserTokenCookie()},getToken:function(){var e=t.findCookieByName("amg_user_partner");return void 0!==e&&e&&e.length>=0?e:null},onLoginSuccess:function(r){t.setAccessTokenListCookie({value:r.token_list,cookie_domain:r.cookie_domain},r.user_token);var o={path:"/",expires:730};r.cookie_domain&&"localhost"!==r.cookie_domain&&e.inArray(r.cookie_domain,t.getPossibleCookieDomains())>=0&&(o.domain=r.cookie_domain),n.raw=!0,t.__protected__.setCookie(r.params.cookieName,r.params.cookieValue,o),t.__protected__.setCookie("amg_user_partner",r.params.externalId,o),t.__protected__.setCookie("amg_user_info",r.params.userName,o),t.__protected__.setCookie("amg_user_ext",r.params.siteUserId,o),r.params.updateToken&&t.__protected__.setCookie("amg_user_update",r.params.updateToken,o),n.raw=!1},logout:function(e){t.setAccessTokenListCookie({value:null},void 0,!0);var n=t.getPossibleCookieDomains();for(var o in n)t.deleteCookie("amg_user",n[o]),t.deleteCookie("amg_user_partner",n[o]),t.deleteCookie("amg_user_info",n[o]),t.deleteCookie("amg_user_ext",n[o]),t.deleteCookie("amg_user_update",n[o]);t.deleteCookie("amg_user"),t.deleteCookie("amg_user_partner"),t.deleteCookie("amg_user_info"),t.deleteCookie("amg_user_ext"),t.deleteCookie("amg_user_update"),r.fireCallbacks("logout",null,void 0,!0),e&&e()},isConfigured:function(){return!0===pn.useCondeUserProvider||"string"==typeof pn.useCondeUserProvider&&"true"===pn.useCondeUserProvider},registerCallback:function(e,n){r.addEvent(e),r.registerCallback(e,n)}}}();pn.container.register("condeUserProvider",{useValue:De}),pn.condeUserProvider=pn.container.resolve("condeUserProvider");var Fe=function(){var e=pn.container.resolve("util"),n=pn.container.resolve("api"),t=pn.container.resolve("eventUtils"),r=pn.container.resolve("jqUtils"),o=!1;var i=t.createEventManager(["userChanged","onHide","logout"]),a={apiKey:null,screenSet:"Default-RegistrationLogin",startScreen:null,enabledProviders:null,lang:null};function s(){var n=e.getUserTokenCookie();if(n&&e.findCookieByName("glt_"+a.apiKey)===e.findCookieByName("__utg_"+a.apiKey))return n;return null}var c=[];function l(t,s){if(!o)throw"Gigya is not configured";d();(e.findCookieByName("glt_"+a.apiKey)!==e.findCookieByName("__utg_"+a.apiKey)||t)&&(c.push(s),1===c.length&&window.gigya.accounts.getAccountInfo({callback:function(t){if(0===t.errorCode){var o={uid:t.UID,signature:t.UIDSignature,signature_timestamp:t.signatureTimestamp,url:e.prepareUrlParameter(window.location.href)};e.startCall("refreshUserToken"),n.callApi("/anon/gigya/verifyAccountInfo",o,(function(n){if(n&&n.result){e.setAccessTokenListCookie(n.result.access_token,n.result.user_token);var t={path:"/",expires:730};if(n.result.access_token){var o=n.result.access_token.cookie_domain;o&&"localhost"!==o&&r.inArray(o,e.getPossibleCookieDomains())>=0&&(t.domain=o)}var s=e.findCookieByName("glt_"+a.apiKey);e.__protected__.setCookie("__utg_"+a.apiKey,s,t);for(var l=0;l<c.length;l++){var u=c[l];u&&u(n.result)}n.result.user&&(n.result.user={uid:n.result.user.uid,email:n.result.user.email,firstName:n.result.user.first_name,lastName:n.result.user.last_name,valid:n.result.user.valid}),i.fireCallbacks("userChanged",n.result,void 0,!0)}else e.log("Can't verify gigya user: may be the configuration of gigya user provider is invalid"),e.setAccessTokenListCookie();c=[],e.doneCall("refreshUserToken")}))}else e.setAccessTokenListCookie(),c=[]}}))}var u=!1;function d(){if(!window.gigya||!window.gigya.__initialized)throw"Gigya is not initialized"}return{isv:!1,name:"gigya",init:function(n){if(!o){for(var t in n)void 0!==n[t]&&(a[t]=n[t]);if(!a.screenSet)throw"Gigya is not configured: screenSet parameter required";if(!a.apiKey)throw"Gigya is not configured: apiKey parameter required";d(),window.gigya.accounts.addEventHandlers({onLogin:function(){u=!0,l()},onLogout:function(){e.setAccessTokenListCookie({value:null},void 0,!0),i.fireCallbacks("logout",null,void 0,!0)}}),o=!0,l()}},isUserValid:function(){var e=s();return!!(void 0!==e&&e&&e.length>=0)},getToken:s,getName:function(){return"gigya"},onLoginSuccess:function(n){e.setAccessTokenListCookie({value:n.token_list,cookie_domain:n.cookie_domain},n.user_token)},login:function(e){if(!o)throw"Gigya is not configured";d(),e&&window.gigya.accounts.addEventHandlers({onLogin:function(){l(!0,e)}});var n={screenSet:a.screenSet,onHide:function(){i.fireCallbacks("onHide",{afterLogin:u},void 0,!0)}},t=["apiKey","screenSet"];for(var r in a){r in t||(n[r]=a[r])}u=!1,window.gigya.accounts.showScreenSet(n)},logout:function(n){if(!o)throw"Gigya is not configured";d(),window.gigya.accounts.logout({callback:function(){i.fireCallbacks("logout",null,void 0,!0),n&&n(),e.setAccessTokenListCookie({value:null},void 0,!0)}}),e.setAccessTokenListCookie({value:null},void 0,!0)},isConfigured:function(){return!0===pn.useGigyaUserProvider||"string"==typeof pn.useGigyaUserProvider&&"true"===pn.useGigyaUserProvider},registerCallback:function(e,n){i.addEvent(e),i.registerCallback(e,(function(e){return n(e)}))},loginByPasswordless:function(n){if(!n)throw"Session info is empty";var t=n.accessTokenName,r=n.accessToken;e.__protected__.setCookie(t,r);var o="glt_"+a.apiKey;e.__protected__.setCookie(o,r),l(!0)}}}();pn.container.register("gigya",{useValue:Fe}),pn.gigya=pn.container.resolve("gigya");var Be=function(){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}we(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}(n,e),n.prototype.construct=function(e){this.message=e,this.name="InvalidCharacterError"},n}(Error);function n(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,i=0,a=0,s="";o=t.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?s+=String.fromCharCode(255&r>>(-2*i&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return s}try{var t=window.atob&&window.atob.bind(window)||n}catch(e){t=n}var r=function(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(t(e).replace(/(.)/g,(function(e,n){var t=n.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t})))}(n)}catch(e){return t(n)}};return function(e,n){if("string"!=typeof e)throw new Error("Invalid token specified");var t=!0===(n=n||{}).header?0:1;return JSON.parse(r(e.split(".")[t]))}}();pn.jwtDecode=Be,pn.container.register("jwtDecode",{useValue:Be});var Ve=function(){var e,n=pn.container.resolve("util"),t=pn.container.resolve("api"),r=pn.container.resolve("postmessage"),o="pianoTracker",i="gaAccount",a="metricsGAAccount",s="trackOnlyAids",c="disabled",l=86400,u={gaAccount:void 0,trackerName:o,trackOnlyAids:[],metricsGAAccount:void 0,isGAEnabled:!1,isGAAppended:!1,isMetricsEnabled:!1,isTrackerAppended:!1,isMetricsTrackerAppended:!1},d=[],p=!1,f=!0,m=!1,g=!1,v=[];function h(){m||(f?setTimeout((function(){f=!1,w()}),3e3):w())}function w(){m=!0,S(),u.gaAccount?E().catch((function(){})):new Promise((function(e,n){t.callApi("/anon/assets/gaAccount",{aid:tp.aid},(function(t){0===t.code?(x(t.data),e(null)):n()}))})).then((function(){return E()})).catch((function(){}))}var y=function(e,n){d.push({action:e,params:n})},b=function(){if(window.ga&&u.isTrackerAppended)for(;d.length;){var e=d.pop();C(e.action,e.params)}},k=function(e,n){v.push({action:e,params:n})},_=function(){if(window.ga&&u.isMetricsTrackerAppended)for(;v.length;){var e=v.pop();I(e.action,e.params)}},C=function(e,n){window.ga&&u.isTrackerAppended?window.ga(u.trackerName+"."+e,n):y(e,n)},I=function(e,n){u.isMetricsEnabled&&(window.ga&&u.isMetricsTrackerAppended?window.ga("performanceTracker."+e,n):k(e,n))},S=function(){if(!p){if(tp.gaClientId&&(e=tp.gaClientId),n.__protected__.hasLocalStorage()){var t=n.__protected__.getLocalStorageItem(i),r=n.__protected__.getLocalStorageItem(a),o=n.__protected__.getLocalStorageItem(s);u.isGAEnabled=!!t&&t!==c,u.isMetricsEnabled=!!r&&r!==c,u.gaAccount=t,u.metricsGAAccount=r,u.trackOnlyAids=o||[]}p=!0}};var x=function(e){u.isGAEnabled=!!e,u.gaAccount=e||c,n.__protected__.setLocalStorageItem(i,u.gaAccount,l)},P=function(e){u.isMetricsEnabled=JSON.parse(e.is_enabled),u.metricsGAAccount=u.isMetricsEnabled?e.ga_account:c,u.trackOnlyAids=u.isMetricsEnabled?JSON.parse(e.track_only_aids):[],n.__protected__.setLocalStorageItem(s,u.trackOnlyAids,l),n.__protected__.setLocalStorageItem(a,u.metricsGAAccount,l)};function E(){return new Promise((function(n,t){u.isGAEnabled?A().then((function(){if(u.isGAAppended)if(u.isTrackerAppended)n(null);else try{var r=document.createElement("script");r.innerHTML=function(){var n=new RegExp("^UA-[0-9a-zA-Z]*-[0-9a-zA-Z]*$").test(u.gaAccount),t=new RegExp("([{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?)|([0-9]*\\.[0-9]*)").test(e||"");if(!n)return"";var r="ga(function() {\n        ga('create', '"+u.gaAccount+"', 'auto', '"+"pianoTracker'";r+=e&&t?", { clientId: '"+e+"' });":");\n        tp.gaService.setClientId(ga.getByName('pianoTracker').get('clientId'));";return r+="tp.gaService.trackerAppended(); });"}(),document.head.appendChild(r),u.isTrackerAppended=!0,n(null)}catch(e){t()}else t()})).catch((function(e){})):t()}))}function T(){return new Promise((function(e,n){u.isMetricsEnabled?A().then((function(){if(u.isGAAppended)if(u.isMetricsTrackerAppended)e(null);else try{var t=!u.trackOnlyAids.length||u.trackOnlyAids.contains(tp.aid),r=document.createElement("script");if(!new RegExp("^UA-[0-9a-zA-Z]*-[0-9a-zA-Z]*$").test(u.metricsGAAccount))return void n();r.innerHTML="\nga(function() {\n  if ("+t+") {\n    ga('create', '"+u.metricsGAAccount+"', 'auto', '"+"performanceTracker', { storage: 'none' });\n    tp.gaService.metricsTrackerAppended();\n  }\n});\n",document.head.appendChild(r),u.isMetricsTrackerAppended=!0,e(null)}catch(e){n()}else n()})):e("isMetricsEnabled !== true")}))}function A(){return new Promise((function(e,n){if(u.isGAAppended)e(null);else try{var t=document.createElement("script");t.innerHTML="\n            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n          ",document.head.appendChild(t),u.isGAAppended=!0,e(null)}catch(e){n()}}))}return{name:"gaService",emitEvent:function(e){if(e.hitType="event",!u.isTrackerAppended)return y("send",e),void h();u.isGAEnabled&&(window.ga&&u.isTrackerAppended?(d.length&&b(),C("send",e)):y("send",e))},emitMetricsEvent:function(e){if(e.hitType="timing",!u.isMetricsTrackerAppended)return k("send",e),void function(){if(g)return;if(g=!0,S(),!u.metricsGAAccount)return void new Promise((function(e,n){t.callApi("/anon/assets/performanceMetrics",null,(function(t){0===t.code?(P(t.performance_metrics_dto),e(null)):n()}))})).then((function(){return T()})).catch((function(e){n.error("PN catch: something vent wrong with GA injection: "+e)}));T().catch((function(e){n.error("PN catch: something vent wrong with GA injection: "+e)}))}();u.isMetricsEnabled&&(window.ga&&u.isMetricsTrackerAppended?(v.length&&_(),I("send",e)):k("send",e))},getClientId:function(){return e},getGAAccount:function(){return u.gaAccount},metricsTrackerAppended:function(){u.isMetricsTrackerAppended=!0,g=!1,_()},recreateWithClientId:function(n){e=n,h()},setClientId:function(n){e=n},setTrackerName:function(e){u.trackerName=e},trackerAppended:function(){u.isTrackerAppended=!0,r.broadcast("gaAppended",{clientId:e,gaAccount:u.gaAccount}),m=!1,b()}}}();pn.container.register("gaService",{useValue:Ve}),pn.gaService=pn.container.resolve("gaService");var qe=function(e){void 0===e&&(e=pn.container);var n,t,r,o,i,a=e.resolve("cookie"),s=e.resolve("jqUtils"),c=e.resolve("ajax"),l=e.resolve("jwtDecode"),u=e.resolve("util"),d=e.resolve("containerUtils"),p=e.resolve("postmessage"),f=e.resolve("log"),m=e.resolve("observer"),g=e.resolve("gaService"),v=e.resolve("api"),h=e.resolve("logging"),w=e.resolve("localStorage"),y="piano_social_token",b=u.getAidSpecifiedName("__utp"),k="__pil",_="__pid",C="__idr",I="__eea",S="PIANOID",x="show_form",P="registration",E="checkout",T=300,A="pnid-tc-string",M=["he_IL","ar_EG"],O={},R=[],L={loggedIn:[],loggedOut:[],loginSuccess:[],registrationSuccess:[],profileUpdate:[],langChange:[],langChangeFromIframe:{},fire_loginSuccess:[],loginDisplayed:[],registerDisplayed:[],loginFailed:[],registrationFailed:[],onShow:[],layoutReady:[]},N={},U={},j=[],D=!1,F=["G18rIJWQ2G","45L2BaS6pu"];s.on(window,"resize",(function(){return B()}));var B=function(e){R.filter((function(e){return"inline"===e.config.displayMode})).filter((function(n){return!e||e.some((function(e){return n.container===e}))})).forEach((function(e){var n=s.getWidth(e.container);d.resizeIframe(e,{width:n}),p.send("resize",{width:n},e.iframeId)}))},V=function(e){if(r&&!e)return r;var n;O=Object.assign({},e),r=new Promise((function(e){n=e})),Qe()||pn.setUsePianoIdUserProvider(!0),ae(O);var t=u.getQueryParamByName("reset_token");void 0===O.resetPasswordToken&&t&&(O.resetPasswordToken=t);var o=u.getQueryParamByName("passwordless_token");void 0===O.passwordlessToken&&o&&(O.passwordlessToken=o);var i=u.getQueryParamByName("verification_code");void 0===O.verification_code&&i&&(O.verification_code=i);var a=u.getQueryParamByName(y);return a&&(u.removeQueryParamByName(y),Oe()||(pn.inappBrowserReturn=!0,function(e,n){var t=l(e);t.rememberMe=!!n,Se({user:t,token:e})}(a,!0))),setTimeout((function(){return n()}),50),r},q=function(e,n){if(t&&!e)return t;var r;t=new Promise((function(e){r=e}));var o=function(){u.doneCall("refreshUserToken"),t=null,r()};return e&&e.preview?(setTimeout((function(){return r()}),10),t):(u.startCall("refreshUserToken"),V(e).then((function(){return O.passwordlessToken?J():n?Promise.resolve():Re()})).then(o,o),t)},z=function(e){var t=!Oe();q().then((function(){var r=Object.assign({},O,e,{isRegistration:!0}),o=Oe();o?(ne(r,{emitGlobalLoginSuccessEvent:t&&o}),D&&!Xe()&&(ae(e),se(r),_e(r))):n?(ae(e),u.log("Modal login window already shown")):(ae(e),se(r),_e(r));h.setTime("idShow")}))},H=function(){var e="email_is_not_confirmed",n=u.getQueryParamByName(e);if(n){u.removeQueryParamByName(e);var t="registration"===n?"email_is_not_confirmed":"email_confirmation_required",r=Te();W({screen:t,email:r&&r.email})}},W=function(e){if(n)u.log("Modal window already shown");else{e||(e={});var t=Object.assign({},e,O);e.customEvents&&"object"==typeof e.customEvents&&(N=e.customEvents),se(t),ae(e),_e(t)}},J=function(){return new Promise((function(e,n){c.request({url:he()+"api/v1/identity/passwordless/authorization/code",dataType:"jsonp",data:{aid:O.aid||pn.aid,passwordless_token:O.passwordlessToken},success:function(t){t.error?(Q(t),n()):(G(t),e(null))},xhrFields:{withCredentials:!0},crossDomain:!0})}))},G=function(e){!e.error&&e.access_token&&(X(e),Me({source:S,token:e.access_token,user:l(e.access_token),extendExpiredAccessEnabled:e.extend_expired_access_enabled},!1,!0),delete O.passwordlessToken,u.removeQueryParamByName("passwordless_token")),u.doneCall("refreshUserToken")},Q=function(e){W({screen:"passwordless_confirmation",jsonpError:e}),delete O.passwordlessToken,u.removeQueryParamByName("passwordless_token")},X=function(e){var n={aid:O.aid||pn.aid,login_token_id:e.login_token_id,user_token:e.access_token},t={passwordlessToken:e.passwordless_token,redirectUri:e.direction_url};$(n,t)},$=function(e,n){d.showWaitPanel(),v.callApi("/anon/passwordless/complete",e,(function(e){if(e.result&&e.result.polling_enabled)return Y(e).then((function(e){Z(e,n)}));Z(e,n)}))},Y=function(e){return new Promise((function(n){var t={aid:pn.aid,oid:e.result.oid,process_id:e.result.process_id,user_token:pn.user.getProvider().getToken()};K(t,0,e.result.polling_timeouts,n)}))},K=function(e,n,t,r){v.callApi("/anon/passwordless/check",e,(function(o){n++,o&&o.result&&"waiting"!==o.result.poll_status?r(o):!o.result&&o.message?(u.error("Passwordless purchase failed",o.message),r()):n<=t.length?setTimeout((function(){K(e,n,t,r)}),t[n-1]):r()}))},Z=function(e,n){try{var t=e.result.resource||{},r=JSON.parse(e.result.show_offer_params),o=ee(n);if(!Object.keys(t).length&&!Object.keys(r).length)return W(o);o=t.name?ee(n,{customParams:{resourceName:t.name}}):ee(n,{customEvents:{checkoutContinue:function(){Ce(),d.closeModalContainer(),pn.offer.show(r)}}}),W(o)}catch(e){W(ee(n))}finally{d.hideWaitPanel()}},ee=function(e,n){var t={screen:"passwordless_confirmation"};return e&&(t.passwordlessToken=e.passwordlessToken,t.redirectUri=e.redirectUri),n?Object.assign(t,n):Object.assign(t,{passwordlessSuccess:!0})},ne=function(e,n){n=n||{};var t=Te();if(t){var r={token:Pe(),user:t,source:n.source,stage:n.stage},i={event:"loginSuccess",source:n.source,params:r.user,user_token:r.token,registration:o,stage:n.stage};e?(e.loggedIn&&e.loggedIn(r),n.emitGlobalLoginSuccessEvent&&oe("loginSuccess",i)):(re("loggedIn",r),re("loginSuccess",r),n.source===S&&(re("fire_loginSuccess",i),oe("loginSuccess",i)))}},te=function(e,n){ie({login:"loginDisplayed",register:"registerDisplayed"}[e],{},n)},re=function(e,n){L[e]&&L[e].forEach((function(e){e(n)}))},oe=function(e,n){U[e]&&U[e].forEach((function(e){e(n)}))},ie=function(e,n,t){!t&&re(e,n),oe(e,n)},ae=function(e){e&&Object.keys(L).forEach((function(n){e[n]&&L[n].push(e[n])}))},se=function(e){e.aid||(e.aid=pn.aid),e.displayMode||(e.displayMode="modal"),"popup"===e.displayMode?(e.width=parseInt(e.width)||le(),e.height=parseInt(e.height)||460):"modal"===e.displayMode&&(e.width=parseInt(e.width)||le()),e.accessToken=Pe()},ce=function(e){T=e},le=function(){var e=window.innerWidth||document.documentElement.clientWidth||window.screen.width;return Math.min(e,400)},ue=function(e,n,t){o=!1,Ee(),w.remove(A),u.setAccessTokenListCookie({value:null},void 0,!0),Ue().then((function(){t||function(e){var n={source:e};re("loggedOut",n),oe("logout",n)}(n),e&&e()})),Ye()};function de(e){return function(n){var t,r,o=e.config.trackingId,i=e.config.formName;switch(n.event){case"loaded":"modal"===e.config.displayMode&&d.checkBackdropAndContainer(e,!0),e.config.loadedCallback&&e.config.loadedCallback(e);break;case"stateReady":e.config.readyCallback&&e.config.readyCallback(e);break;case"resize":d.resizeIframe(e,n.params);break;case"restoreSize":"inline"===e.config.displayMode&&d.resizeIframe(e,{width:s.getWidth(e.container)});break;case"loginSuccess":ve(n,(function(){e.config.callback&&e.config.callback(),pn.user.refreshAccessToken(!0),p.broadcast("pianoIdLoginSuccess",n.params)}));break;case"loginFailed":ie("loginFailed",n.params);break;case"registrationSuccess":ve(n,(function(){ie("registrationSuccess",n.params),p.broadcast("pianoIdLoginSuccess",n.params)}));break;case"registrationFailed":ie("registrationFailed",n.params);break;case"lang":Be(n.params.lang,!0),Ge(n.params.lang,e);break;case"customEvent":t=e.config,r=n.params,t&&t.customEvent&&t.customEvent(r),oe("customEvent",r);break;case"closed":De(e,!0),e.config.closedCallback&&e.config.closedCallback(e);break;case"cfFormSubmission":f.__protected__.logCustomFormSubmission(o,i,x);break;case"formSend":case"formSkip":De(e);break;case"cfAppImpression":f.__protected__.logCustomFormImpression(o,i,P);break;case"cfAppSubmission":f.__protected__.logCustomFormSubmission(o,i,P);break;case"cfFormImpression":f.__protected__.logCustomFormImpression(o,i,x);break;case"changeScreen":te(n.params.screen);break;case"screenReady":ie("onShow");break;case"layoutReady":ie("layoutReady",n.params);break;case"confirmationEmailSent":"inline"===e.config.displayMode||n.params.isDOI||n.params.isPasswordlessDigitalCode||De(e);break;case"verificationCodeStartCheckout":var a={};try{a=JSON.parse(n.params.startCheckoutParams)}catch(e){u.log("error parse start checkout params"),a={}}De(e,!0),Re(!0,!0),u.waitCall("refreshUserToken",(function(){pn.offer.show(a)}));break;case"removeParamFromGlobalConfig":fe(n);break;case"verifyCode":me(n,e);break;case"openPasswordlessLoginWithCreatingUser":pe();break;case"fireCustomEvent":!function(e){N&&"function"==typeof N[e]&&N[e]()}(n.params.name);break;case"passwordRestored":u.removeQueryParamByName("reset_token"),O.resetPasswordToken=void 0;break;case"emitGAEvent":g.emitEvent(n.params);break;case"redirect":document.location.href=n.params.url;break;case"designVersion":d.addClassToContainer(e,"piano-id-modal-ver-"+n.params.version);break;case"profileUpdated":re("profileUpdate",n.params);break;case"logout":ue();break;default:u.debug("Received invalid event type: "+n.event)}}}var pe=function(){z({createPasswordlessUser:!0})},fe=function(e){var n=e.params.name,t=u.fromUnderscoreToCamelCase(n);delete O[t],e.params.removeFromUrl&&u.removeQueryParamByName(n)},me=function(e,n){var t=e.params.verificationCode,r=e.params.locale,o=O.aid||pn.aid,i=Ae(),a=document.location.href;c.request({url:he()+"api/v1/identity/verification/code",dataType:"jsonp",data:{client_id:o,access_token:i,site:a,verification_code:t,lang:r},success:function(e){e.error||ge(e,n)},xhrFields:{withCredentials:!0},crossDomain:!0})},ge=function(e,n){!e.error&&e.access_token&&Se({token:e.access_token,user:l(e.access_token),cookie_domain:e.site_cookie_domain}),p.send("verificationCodeComplete",e,n.iframeId)},ve=function(e,n){e&&e.params&&!e.params.areCookiesSet?(e.params.source=S,o=!!e.params.registration,Me(e.params).then((function(e){n(e)}))):"function"==typeof n&&n(),$e()},he=function(){return function(){var e=pn.sandbox||pn.isNonProdEndpoint(),n=O.iframeUrl||pn.pianoIdUrl||!e&&"https://id.tinypass.com"||"/";return"/"===n&&(n=pn.getEndpointRoot(!0)),n.replace(/\/$/,"")}()+"/id/"},we=function(){var e=O.aid||pn.aid;return F.indexOf(e)>=0},be=function(e,n,t,r){e.match("proxy.html")||(e+=we()?"index3.html":"");var o={client_id:n.aid,sender:t.iframeId,origin:r||window.location.origin||window.location.href,site:window.location.href,display_mode:n.displayMode,pageViewId:pn.main.fetchPageViewId(),tbc:u.getTbcCookie()},i=Ve();if(i&&(o.lang=i),g.getClientId()&&(o.ga_client_id=g.getClientId()),g.getGAAccount()&&(o.ga=g.getGAAccount()),n.disableSignUp&&(o.disable_sign_up=!0),n.screen&&(o.screen=n.screen),n.resetPasswordToken&&(o.reset=n.resetPasswordToken),n.verification_code&&(o.verification_code=n.verification_code),n.stage&&(o.stage=n.stage),n.resetPasswordLandingUrl&&(o.reset_uri=n.resetPasswordLandingUrl),n.width&&"modal"===n.displayMode&&(o.width=n.width),n.formName&&(o.form_name=n.formName),ke(n,e)&&(e+="form"),"profile"===n.template&&(e+="profile"),n.hideIfComplete&&(o.hide_if_complete=n.hideIfComplete),n.preview&&(o.preview=n.preview),n.templateVersion&&(o.templateVersion=n.templateVersion),n.template&&(o.template=n.template),n.accessToken&&(o.access_token=n.accessToken),n.email&&(o.email=n.email),n.singleStep&&(o.single_step=!0),n.createPasswordlessUser&&(o.create_passwordless_user=!0),n.customParams&&(o.custom_params=JSON.stringify(n.customParams)),n.customEvents){var a=[];Object.keys(n.customEvents).forEach((function(e){a.push(e)})),a.length&&(o.custom_events=JSON.stringify(a))}return n.jsonpError&&(o.jsonp_error=JSON.stringify(n.jsonpError)),n.passwordlessSuccess&&(o.passwordless_success=!0),n.passwordlessToken&&(o.passwordless_token=n.passwordlessToken),n.redirectUri&&(o.redirect_uri=n.redirectUri),t.iframeUrl&&(o.url=t.iframeUrl),n.returnBack&&(o.return_back=n.returnBack),t.pos&&(o.width=t.pos.width,o.height=t.pos.height,o.top=t.pos.top,o.left=t.pos.left),n.templateId&&(o.template_id=n.templateId),n.variantId&&(o.variant_id=n.variantId),[e,s.param(o)].join("?")},ke=function(e,n){var t=we(),r=!e.isRegistration,o=!/\.html$/.test(n)||t;return e.formName&&o&&r},_e=function(e){var t=s.queryEl(e.containerSelector),r="piano-id-"+(e.isRegistration?"":"form-")+u.randomString();e.singleContainer=t;var o,i,a,c={iframeId:r,containerSelector:e.containerSelector,width:e.width,height:e.height},l=be(he(),e,c),f=he(),g=!0;if(e.iframeParams=c,"inline"===e.displayMode){var v=d.initInlineContainer(e);if(!(o=v.container))return;i=d.generateIframe(e,c,l),g=!!v.containerReady,e.observeContainer&&(a=m.create(o,B))}else if("modal"===e.displayMode)o=d.getModalContainer(e,(function(){return De(n)})),i=d.generateIframe(e,c,l);else if("popup"===e.displayMode)if(u.isIE()){o=d.generateIframeWrapper(),l=be(he(),e,c,he()+"proxy.html"),c.iframeUrl=l,c.pos=d.getPopupPosition(c);var h=be(he()+"proxy.html",e,c);e.displayMode="inlinePopup",i=d.generateIframe({},c,h)}else{o=d.generatePopup(c,l);try{try{i=o.document}catch(e){i=o}}catch(e){i=window.document}}var w={iframeId:c.iframeId,config:e,element:i,container:o,iframeParams:c,containerReady:g},y={center:u.centerScreen(),originUrl:document.location.href};if(p.init({postMessageUrl:f,receive:de(w),iframe:w,iframeParams:c},y),"inline"===e.displayMode){var b=document.createElement("div");s.addClass("piano-id-container",b),s.append(b,i),s.append(o,b)}else"modal"===e.displayMode?s.append(o,i):"inlinePopup"===e.displayMode&&(s.append(o,i),s.append(document.body,o));if(u.debug("creating iframe: ",e),R.push(w),"modal"===e.displayMode){(n=w).observer=a,(u.isIphone()||u.isSafariOrIOsUiWebView()||u.isAndroid())&&d.__private__.mobileModalFix.modalOpened();var k=Ve();Ge(k,w)}return w},Ce=function(e){if(n){var t=d.__private__.mobileModalFix;d.closeModal(n),s.remove(n.element),n.observer&&n.observer.disconnect(),t.isIphoneCaretFixed&&t.modalClosed(),n=void 0}},Ie=function(e){var n={path:"/"},t=u.__protected__.getCookie(_),r=u.extractCookieDomain(e||t);return r&&(n.domain=r),(pn.cookieDomain||pn.cookiePath)&&(n.domain=pn.cookieDomain?pn.cookieDomain:n.domain,n.path=pn.cookiePath?pn.cookiePath:n.path),n},Se=function(e){if(e&&e.user&&e.token){Ee(null,!0,!0);var n=Ie(e.cookie_domain);e.extendExpiredAccessEnabled&&xe(e.extendExpiredAccessEnabled,e.cookie_domain),(e.user.rememberMe||He())&&(n.expires=new Date(1e3*e.user.exp),qe(n));var t=u.getPossibleCookieDomains();for(var r in t)u.deleteCookie(b,t[r]);u.__protected__.setCookie(b,e.token,n),e.cookie_domain&&(n.expires=30,u.__protected__.setCookie(_,e.cookie_domain,n))}},xe=function(e,n){Je("setExtendExpiredAccess",e,"broadcast");var t=Ie(n);t.expires=30,u.__protected__.setCookie(I,e?"true":"false",t)},Pe=function(){var e=u.findCookieByName(b);return e||null},Ee=function(e,n,t){var r=Ie(),o=u.getPossibleCookieDomains(r.domain);e&&u.__protected__.logRemoveTokens(e),o.forEach((function(e){var o=ye(ye({},r),{domain:e});a.remove(b,o),t||a.remove(I,o),n||ze(o)}))},Te=function(){var e=null,n=Pe();if(n)try{if(e=l(n)){e.firstName=e.given_name,e.lastName=e.family_name,e.valid=!0,e.uid=e.sub,e.confirmed=!e.email_confirmation_required;var t=new Date;new Date(1e3*e.exp)<t&&(u.log("Removing expired tokens"),Ee(n),e=null)}}catch(e){}return e},Ae=function(){return pn.externalJWT&&Qe()?pn.externalJWT:Pe()},Me=function(e,n,t){Se(e);var r=je(e).then((function(){!n&&ne(null,{stage:e.stage,source:e.source})}));if(!(t=t||e.withoutCloseModal)){var o=e&&e.user&&e.user.email_confirmation_required,i=O.verification_code;o||i?d.hideCloseButton():Fe()}return r},Oe=function(){return Qe()?!!pn.externalJWT:!!Te()},Re=function(e,n){return new Promise((function(t,r){u.startCall("refreshUserToken");var o=function(e){var n=void 0===e?{}:e,o=n.isSuccessful,i=n.gmSSOEnabled;o?t(null):r(),u.doneCall("refreshUserToken"),o&&(D=i)&&!Xe()&&z({screen:"sso_confirm"})},i=function(t){!t.error&&t.access_token?Me({token:t.access_token,user:l(t.access_token),cookie_domain:t.site_cookie_domain,extendExpiredAccessEnabled:t.extend_expired_access_enabled},e,n).then((function(){return o({isSuccessful:!0,gmSSOEnabled:t.authorized_by_sso})})):(Ee(Ae()),o({isSuccessful:!1}))},a=Ae()||void 0,s={client_id:O.aid||pn.aid,site:document.location.origin||document.location.href},d=Le();d&&(s.tcf=d),a?c.request({url:he()+"api/v1/identity/token/validation",data:s,headers:{Authorization:a},success:function(e){i(e),e.access_token&&Ne(d)},error:o}):c.request({url:he()+"api/v1/identity/token/verify",data:s,success:function(e){i(e),e.access_token&&Ne(d)},error:o,dataType:"jsonp",xhrFields:{withCredentials:!0},crossDomain:!0}),setTimeout(o,10*T)}))},Le=function(){var e,n=window;return function(e){if(!e)return!1;var n=e;if(!n||!n.tcString||!n.date)return!1;var t=new Date,r=new Date(n.date),o=Math.abs(r.getTime()-t.getTime());return Math.ceil(o/864e5)<=1}(w.get(A))?null:(e=null,n.__tcfapi&&n.__tcfapi("getTCData",2,(function(n,t){t&&n.tcString&&(e=n.tcString)}),[412]),e)},Ne=function(e){if(e){var n={date:(new Date).toString(),tcString:e};w.set(A,JSON.stringify(n))}},Ue=function(){return new Promise((function(e){c.request({url:he()+"api/v1/identity/logout",data:{client_id:O.aid||pn.aid},dataType:"jsonp",complete:e,xhrFields:{withCredentials:!0},crossDomain:!0}),setTimeout(e,T)}))},je=function(e){return new Promise((function(n){var t=!(e&&e.user&&e.user.rememberMe||He());c.request({url:he()+"api/v1/identity/vxauth/cookie",data:{client_id:O.aid||pn.aid,session_cookie:t},headers:{Authorization:e.token||void 0},complete:n}),setTimeout(n,T)}))},De=function(e,n){e&&(n?e.closed||(e.closed=!0,"inline"===e.config.displayMode?s.empty(e.container):"popup"===e.config.displayMode?e.container.close():"modal"===e.config.displayMode&&(Ce(),s.remove(e.container.parentElement)),D&&Ae()&&$e()):(p.send("close",{},e.iframeId),R=R.filter((function(n){return n.iframeId!==e.iframeId})),setTimeout((function(){De(e,!0)}),600)))},Fe=function(){R.forEach((function(e){De(e)})),R=[]},Be=function(e,n){var t=Ie();t.expires=30,u.__protected__.setCookie(k,e,t),n||R.forEach((function(n){p.send("lang",{lang:e},n.iframeId)})),Object.keys(L.langChangeFromIframe).forEach((function(n){var t=L.langChangeFromIframe[n];p.__protected__.isIframeManaged(n)&&t?t(e):delete L.langChangeFromIframe[n]})),ie("langChange",e)},Ve=function(){return pn.locale||u.__protected__.getCookie(k)||""},qe=function(e){u.__protected__.setCookie(C,1,e)},ze=function(e){e&&a.remove(C,e)},He=function(){return!!u.__protected__.getCookie(C)},We=function(e){return new Promise((function(n){var t=Object.assign({},O,e);c.request({url:he()+"api/v1/identity/userinfo",data:{client_id:O.aid||pn.aid,form_name:t.formName},headers:{Authorization:Ae()||void 0},success:n,complete:function(){return n(null)}}),setTimeout(n,10*T)}))},Je=function(e,n,t){j.push({type:t,name:e,data:n})},Ge=function(e,n){M.includes(e)?d.turnOnRTL(n):d.turnOffRTL(n)},Qe=function(){return!0===pn.usePianoIdLiteUserProvider||"string"==typeof pn.usePianoIdLiteUserProvider&&"true"===pn.usePianoIdLiteUserProvider},Xe=function(){return!!w.get("piano-id-initial-gm-sso-shown-"+(O.aid||pn.aid))},$e=function(){w.set("piano-id-initial-gm-sso-shown-"+(O.aid||pn.aid),"1")},Ye=function(){w.remove("piano-id-initial-gm-sso-shown-"+(O.aid||pn.aid))};return{name:"pianoId",isv:!1,init:q,prepare:function(){return V()},show:z,showForm:function(e){q().then((function(){var t=Object.assign({},O,e,{isRegistration:!1});if(!t.formName)throw new Error('Form name should be specified, like\ntp.pianosId.showForm({formName: "..."});');var r=function(){if(n)u.log("Modal login window already shown");else{if(se(t),ae(e),!t.preview&&o)return void u.log("Skip show form, register new user");if(!t.hideIfComplete)return Object.assign(t,{readyCallback:function(e){p.send("setToken",Ae(),e.iframeId)}}),_e(t);We(t).then((function(e){if(e&&e.has_all_custom_field_values_filled&&t.hideIfComplete)u.log("Skip show form, all fields are completed");else{var n=Object.assign({},t,{readyCallback:function(n){p.send("userData",e,n.iframeId)}});_e(n)}}))}};if(e.preview||Oe())r();else{var i=Object.assign({},e,{closedCallback:function(){Oe()&&r()}});z(i)}}))},checkAndShowEmailIsNotConfirmed:H,showEmailConfirmationRequired:function(e){n?u.log("Modal window already shown"):q().then((function(){var n=Object.assign({screen:"email_confirmation_required"},O,e);ae(e),se(n),_e(n)}))},submitLoginForm:function(){p.send("submitLoginForm",null,null==n?void 0:n.iframeId)},loginByToken:function(e){var n=l(e);Me({user:n,token:e})},logout:ue,getToken:Ae,getUser:Te,loadExtendedUser:function(e){var n=Object.assign({},O,e);We(n).then((function(e){var t=Object.assign({},e);e&&Array.isArray(e.custom_field_values)&&(e.custom_field_values=e.custom_field_values.map((function(e){var n;try{n=JSON.parse(e.value)}catch(t){n=e.value}return{field_name:e.field_name,value:n,created:e.created}}))),"function"==typeof n.extendedUserLoaded&&n.extendedUserLoaded(t),oe("extendedUserLoaded",t)}))},getName:function(){return"piano_id"},isConfigured:function(){return!0===pn.usePianoIdUserProvider||"string"==typeof pn.usePianoIdUserProvider&&"true"===pn.usePianoIdUserProvider},onLoginSuccess:function(e){if(!i){i=!0;var n={source:e.source,token:e.user_token,user:e.params,cookie_domain:e.cookie_domain,stage:e.stage};u.setAccessTokenListCookie({value:e.token_list,cookie_domain:e.cookie_domain},e.user_token),Me(n).then((function(){i=!1}))}},onProfileUpdate:function(e,n){var t={token:e.token,user:e.user,cookie_domain:e.cookie_domain};Me(t,!0).then((function(){n(),function(e){re("profileUpdate",e)}(t)}))},onExtendedUserLoginRequired:function(){W()},isUserValid:Oe,setCallbacks:ae,getIframeUrl:function(){return he()},updateLang:Be,onLangChange:function(e,n){return L.langChangeFromIframe[n]=e,function(){delete L.langChangeFromIframe[n]}},getLang:Ve,isAot:function(){R.forEach((function(e){p.send("isAOT",{},e.iframeId)}))},registerCallback:function(e,n){U[e]=U[e]||[],U[e].push(n)},setRequestTimeout:ce,__protected__:{offerMessageReceiver:function(e){switch(e.params.event){case"cfAppImpression":case"cfFormImpression":f.__protected__.logCustomFormImpression(e.params.trackingId,e.params.trackingId,E);break;case"cfFormSubmission":f.__protected__.logCustomFormSubmission(e.params.trackingId,e.params.trackingId,E);break;case"changeScreen":te(e.params.params.screen,!0);break;case"loginFailed":case"registrationFailed":case"registrationSuccess":case"customEvent":ie(e.params.event,e.params.params,!0);break;case"emitGAEvent":g.emitEvent(e.params.params);break;default:return void u.debug("Received invalid event type: "+e.params.event)}},showEmailConfirmation:function(e){n?u.log("Modal window already shown"):q().then((function(){var n=Object.assign({screen:"email_confirmation"},O,e);ae(e),se(n),_e(n)}))},checkAndShowEmailIsNotConfirmed:H,closeModalContainer:Ce,executePostMessagesBatch:function(){for(;j.length;){var e=j.pop();"broadcast"===e.type?p.broadcast(e.name,e.data):p.send(e.name,e.data)}}},__private__:{prepareConfig:se,extendUserToken:function(){var e=Pe();if(e){var n=(new Date).getTime(),t=u.__protected__.getCookie(I),r=n-l(e).login_timestamp>864e5;t&&r&&Re(!1,!0)}},setRequestTimeout:ce}}};pn.container.register("pianoId",{useValue:qe()}),pn.pianoId=pn.container.resolve("pianoId");var ze=function(){var e=pn.container.resolve("util"),n=pn.container.resolve("pianoId"),t=pn.container.resolve("eventUtils").createEventManager(["userChanged","onHide"]),r=e.getAidSpecifiedName("__utp"),o=function(){return pn.externalJWT||i()},i=function(){return e.findCookieByName(r)||null};return{name:"pianoIdLite",isv:!1,isConfigured:function(){return!0===pn.usePianoIdLiteUserProvider||"string"==typeof pn.usePianoIdLiteUserProvider&&"true"===pn.usePianoIdLiteUserProvider},isUserValid:function(){return!!o()},getToken:o,getName:function(){return"piano_id_lite"},onLoginSuccess:function(n){e.setAccessTokenListCookie({value:n.token_list,cookie_domain:n.cookie_domain},n.user_token)},registerCallback:function(e,n){t.addEvent(e),t.registerCallback(e,n)},loginByToken:function(e){n.loginByToken(e)},logout:function(n){e.waitCall("refreshUserToken",(function(){"function"==typeof n&&n()}))}}}();pn.container.register("pianoIdLite",{useValue:ze}),pn.pianoIdLite=pn.container.resolve("pianoIdLite");var He=function(e){void 0===e&&(e=pn.container);var n=e.resolve("api"),t=e.resolve("util"),r=e.resolve("janrain"),o=e.resolve("tinypassAccounts"),i=e.resolve("condeUserProvider"),a=e.resolve("gigya"),s=e.resolve("pianoId"),c=e.resolve("pianoIdLite"),l=e.resolve("eventUtils").createEventManager([]),u={isv:!1,getName:function(){return"publisher_user_ref"},getToken:function(){return pn.userRef?pn.userRef.constructor==="".constructor?pn.userRef:pn.userRef.constructor==={}.constructor?"{jox}"+JSON.stringify(pn.userRef):pn.userRef:null},isUserValid:function(){return!!(void 0!==pn.userRef&&pn.userRef&&pn.userRef.length>0)},onLoginSuccess:function(e){t.setAccessTokenListCookie({value:e.token_list,cookie_domain:e.cookie_domain},e.user_token)},logout:function(e){t.setAccessTokenListCookie(),e&&e()}},d=function(){var e=[r,o,i,a,s,c].find((function(e){return e.isConfigured()&&!e.isv}));return e||u};return{name:"user",getProvider:d,providerInit:function(e){void 0!==e&&e||(e=function(){});var n=d();"function"==typeof n.prepare?"prepare"in n&&n.prepare().then(e,e):e()},refreshAccessToken:function(e,r){void 0!==r&&r||(r=function(){});var o=!1;if(void 0!==e&&e)o=!0;else{var i=t.__protected__.getCookie("__tae");if(void 0!==i&&i){var a=new Date(parseInt(i));(new Date).getTime()-a.getTime()>864e5&&(o=!0)}else o=!0}o?t.waitCall("refreshUserToken",(function(){t.waitCall("offerCreate",(function(){t.waitCall("experienceExecute",(function(){if(d().isUserValid()){t.startCall("refreshAccessTokenList");var e={url:t.prepareUrlParameter(window.location.href)};n.callApi("/access/token/list",e,(function(e){t.doneCall("refreshAccessTokenList"),void 0!==e.access_token_list?(t.setAccessTokenListCookie(e.access_token_list),r&&r(e.access_token_list.value)):r&&r(null)}),void 0,void 0,!0)}else r&&r("")}))}))})):r(null)},showLogin:function(e){var n=d().getName();if("tinypass_accounts"===n)o.login(e);else if("piano_id"===n){var t=e||{};s.show(t)}else"publisher_user_ref"===n&&l.fireCallbacks("loginRequired",{},void 0,!0)},isUserValid:function(){return d().isUserValid()},logout:function(e,n){d().logout(e,n)},registerCallback:function(e,n){l.addEvent(e),l.registerCallback(e,n)},getUserInfoParams:function(e){var n=e.userToken;if(!n){var r=d().getToken();n=r&&r.length>0?r:""}return{user_token:n,user_lang:t.__protected__.getCookie("LANG")||"",is_preview:e.preview,is_non_logged_user:e.previewNonLoggedUser}}}};pn.container.register("user",{useValue:He()}),pn.user=pn.container.resolve("user");var We=function(){var e=pn.container.resolve("jqUtils"),n=pn.container.resolve("util"),t="viewport-exit-activated",r="viewport-exit-prepared",o=!1,i=!1,a=0,s=0,c=["top","right","bottom","left"],l=!0,u=!1,d=!1,p=[],f={top:{visited:!1,value:1},right:{visited:!1,value:2},bottom:{visited:!1,value:4},left:{visited:!1,value:8}},m=0,g=function(){if(!u){u=!0,m=0;var n=/(?:Firefox|Safari)[\/\s](\d+\.\d+)/.test(navigator.userAgent)?document.body:document;e.on(n,"mouseleave",(function(e){return v(e)})),e.on(document,"mousemove",(function(e){return h(e)}))}};var v=function(t){var r,o,l,u,d,p,g;(r=function(e){return e.clientX===e.clientY&&e.clientX<0&&e.clientX>=-1}(t)?"":(o=t.clientX,l=t.clientY,u=e.winSize(),d=u.width,p=u.height,g="",o>=d&&(g="right"),l>=p&&(g="bottom"),o<=0&&(g="left"),l<=0&&(g="top"),g))||(r=function(){if(!i)return"";var n=e.winSize(),t=n.width,r=n.height;return c[function(e){if(0===e.length)return-1;for(var n=e[0],t=0,r=1;r<e.length;r++)e[r]<n&&(t=r,n=e[r]);return t}([s,t-a,r-s,a])]}(),r||n.debug("viewportExit: the detect of the exit side failed")),r&&function(e){-1!==c.indexOf(e)?f[e].visited||(f[e].visited=!0,m+=f[e].value):n.debug("viewportExit: the detect of the exit side failed")}(r),w("all"),"top"===r&&w("top")},h=function(e){i=!0,s=e.clientY,a=e.clientX},w=function(e){if(l){for(var t,r=[],o=[],i=0;i<p.length;i++)((t=p[i]).detectExitMode===e||"back"===e&&t.detectBackButtonForMobile)&&t.consumeEventFn()?r.push(t):o.push(t);r.length&&n.debug("viewportExit: listeners was run fire with type: ",e),p=o;for(i=0;i<r.length;i++)(t=r[i]).callback()}};return{name:"viewportExit",initialize:g,isInitialized:function(){return u},addListener:function(e,n,i){"mobile"!==n.clientDevice&&"tablet"!==n.clientDevice||!n.detectBackButtonForMobile||function(){if(!d){d=!0,window.addEventListener("popstate",(function(e){o&&e.state&&e.state.pianoViewportExitState===t&&(o=!1,w("back"))}));var e=window.history.state||{};e&&e.pianoViewportExitState!==r&&(e.pianoViewportExitState!==t&&(e.pianoViewportExitState=t,window.history.replaceState(e,document.title)),window.history.pushState({pianoViewportExitState:r},document.title)),o=!0}}(),g(),"function"!=typeof i&&(i=function(){return!0}),p.push({callback:e,detectExitMode:n.detectExitMode,detectBackButtonForMobile:n.detectBackButtonForMobile,consumeEventFn:i})},resetSumOfCodesDirectionToDefault:function(){m=0},getSumOfCodesDirection:function(){return m},removeListeners:function(){p=[]},enable:function(){l=!0},disable:function(){l=!1}}}();pn.container.register("viewportExit",{useValue:We}),pn.viewportExit=pn.container.resolve("viewportExit");var Je=function(){var e=pn.container.resolve("postmessage"),n=pn.container.resolve("containerUtils"),t=pn.container.resolve("user"),r=pn.container.resolve("api");pn.container.resolve("util");function o(e){return a(e,"/checkout/template/show")}function i(e){return e.initContextLoadPromise=function(e,n){e.contextLoadingPromise=s(e,n)},a(e,"/checkout/template/cacheableShow")}var a=function(e,n){var t=pn.getEndpointRoot(!0)+n;return e.iframeUrl=t,e.postMessageUrl=t,e.widget="template",pn.offer.createOfferIframe(e)},s=function(e,n){var o=t.getUserInfoParams(e);return o.tracking_id=e.trackingId,o.templateId=e.templateId,o.templateVariantId=e.templateVariantId,o.aid=pn.aid,o.preload=e.isPreload,e.affiliateState&&(o.affiliateState=JSON.stringify(e.affiliateState)),Object.keys(n).forEach((function(e){o[e]=n[e]})),new Promise((function(e,n){r.callApi("/anon/template/loadTemplateContext",o,(function(t){var r=t.code,o=t.templateContext,i=t.message;0===r?e(o):n(i)}),void 0,void 0,!0)}))},c=function(e,n){var t={};return["aid","templateId","templateVariantId","previewTemplateVersion","preload","preview","previewUncached","deploymentItemId","gaClientId","zuoraSelectedRatePlanIds","newscycleSelectedIds","addNewsletterAssets","offerId","experienceId","iframeId","displayMode","debug","pianoIdUrl","widget","url"].forEach((function(n){e[n]&&(t[n]=e[n])})),n.param(t)};function l(e){pn.getCacheableShowTemplate()?(!function(e){e.deferredContextLoading=!0,e.buildQueryStringFn=c}(e),e.createIframeFn=i):e.createIframeFn=o}return{name:"template",show:function(e){return e.offerId=n.fakeOfferId,e.trackStatsOnShow=!0,l(e),pn.offer.show(e)},deferredShow:function(e){return e.offerId=n.fakeOfferId,l(e),pn.offer.deferredShow(e)},close:function(){n.closeModalContainer()},closeInline:function(e){n.__protected__.closeInlineContainers(e)},createTemplateIframe:o,showBackdrop:function(){n.showBackdrop()},hideBackdrop:function(){n.hideBackdrop()},centerBackdrop:function(e){n.centerBackdrop(e)},registerCallback:function(e,n){},refreshUser:function(n){t.refreshAccessToken(!0,(function(){e.send("externalLoginSuccess",{user_token:t.getProvider().getToken()},n)}))}}}();pn.container.register("template",{useValue:Je}),pn.template=pn.container.resolve("template");var Ge=function(e){void 0===e&&(e=pn.container);var n,t,r=e.resolve("jqUtils"),o=e.resolve("util"),i=e.resolve("postmessage"),a=e.resolve("user"),s=e.resolve("containerUtils"),c=e.resolve("eventUtils"),l=e.resolve("viewportExit"),u=e.resolve("gaService"),d=e.resolve("sha1"),p=e.resolve("logging"),f=e.resolve("template"),m={},g=0,v="close",h="OFFER",w=!1,y=!1,b=!1,k={},_=new Map,C={},I=["he_IL","ar_EG"],S=c.createEventManager(["complete","cancel","close","error","loginRequired","loginSuccess","loaded","customEvent","startCheckout","resize","onMeterExpired","onMeterActive","onAccessGranted","onShowOffer","pianoIdEvent","parentSize","redeemCredit","onStartCreditRedemption"]);s.setIframesPopstateHandlers();var x=function(){return pn.offerBaseUrl?pn.offerBaseUrl:pn.getEndpointRoot()+"/checkout/offer/show"};function P(e,n){var c=s.getIframe(e.sender),d=!0;switch(c&&c.config&&(d=!c.config.parent),e.event){case"initContext":if(e.params&&e.params.resultCallbackId){var p={resultCallbackId:e.params.resultCallbackId,affiliateState:c.config.affiliateState};i.send("resultCallback",p,e.sender)}break;case"storeCustomVariables":tp.saveCustomVariablesToLocalStorage(300);break;case"fullRedirectThreeDS":window.location.href=e.params.bankSecureUrl;break;case"resize":if(e.params.iframeId===e.sender){var f=void 0===e.params.width?ye(ye({},e.params),{width:r.getWidth(c.container)}):e.params;s.resizeIframe(c,f),"modal"===c.config.displayMode&&("boilerplate"===e.params.closeButtonType&&s.hideCloseButton(c.container),s.centerIt(c.container)),i.send("afterResize",{},c.iframeId)}S.fireCallbacks(e.event,e.params,e.sender,d);break;case"startCheckout":if(e.params.width=null,"inline"===e.displayMode){e.params.closeOnLogout=!0;var m=q(e.params,c.statParams);m.browserId=c.browserId,m.isOpenedFromInlineCheckout=!0,K(m,e.sender)}e.params.iframeId===e.sender&&S.fireCallbacks(e.event,e.params,e.sender,d);break;case"loaded":if(e.params.iframeId===e.sender){if(i.send("setupCustomVariables",k[e.params.iframeId],e.params.iframeId),i.send("setupEVTFields",c.config.externalVerificationFields,e.params.iframeId),c.config.deferredContextLoading&&T(c,e),c.waitFinishProcesses)return void s.__protected__.closeAndRemoveIframe(c);"pianoId"===a.getProvider().name&&pn.pianoId.__protected__.executePostMessagesBatch(),"modal"===c.config.displayMode&&(s.resizeIframe(c,e.params),c.config.isPreload||s.checkBackdropAndContainer(c,!0)),"popup"===c.config.displayMode&&s.resizeIframe(c,e.params),c.config.isPreload||c.config.trackStatsOnShow||B(c),V(c),S.fireCallbacks(e.event,e.params,e.sender,d),"inline"===c.config.displayMode&&(c.containerReady?s.resizeIframe(c,e.params):s.operationWithContainer(c.iframeParams.containerSelector,(function(n){var t=r.queryEl("#temp-inline-"+c.iframeId);t&&(n.innerHTML=t.innerHTML,r.remove(t)),c.element=r.queryEl("iframe",n),c.containerReady=!0,s.resizeIframe(c,e.params)}))),R(c.config),o.doneCall("offerCreate")}break;case"downForMaintenance":s.resizeIframe(c,{width:300,height:200}),"modal"===c.config.displayMode&&(c.config.isPreload||s.checkBackdropAndContainer(c));break;case"removeQueryParamByName":e&&e.params&&Array.isArray(e.params.paramsToRemove)&&e.params.paramsToRemove.forEach((function(e){o.removeQueryParamByName(e)}));break;case"purge":n||(e&&e.params&&e.params.alreadyPurchased&&(v="alreadyHasAccess"),e&&e.params&&e.params.completePayment&&(v="checkoutCompleted"),s.purgeIframe(e.sender,c.config.parent),R(c.config));break;case"close":n||(e&&e.params&&e.params.alreadyPurchased&&(v="alreadyHasAccess"),e&&e.params&&e.params.completePayment&&(v="checkoutCompleted"),o.hasQueryParamByName("voucher_code")&&(v="voucherRedemptionCompleted"),s.closeContainer(e.sender,c.config.parent),R(c.config));break;case"closeAndRefresh":var g=e.params;g?window.location.assign(g):window.location.reload();break;case"selectTerm":v=e&&e.params&&e.params.alreadyPurchased?"alreadyHasAccess":"close";break;case"submitPayment":case"checkoutSelectTerm":S.fireCallbacks(e.event,q(e.params,{offerId:c.iframeParams.offerId}),e.sender,d);break;case"complete":if(void 0!==e.params.token_list){var h=e.params.user_token;!h&&a.isUserValid()&&"pianoId"===a.getProvider().name&&(h=a.getProvider().getToken()),o.setAccessTokenListCookie({value:e.params.token_list,cookie_domain:e.params.cookie_domain},h)}var y=q(e.params,{offerId:c.iframeParams.offerId});S.fireCallbacks(e.event,y,e.sender,d),v="checkoutCompleted";break;case"checkoutStateChange":case"checkoutPaymentError":case"alreadyPurchased":case"startThreeDBankSecure":case"cancel":case"error":case"customEvent":S.fireCallbacks(e.event,e.params,e.sender,d);break;case"loginRequired":w=!0,S.fireCallbacks(e.event,ne(c,e.params),e.sender,d);break;case"logout":A(e.event,e.params,e.sender,c.config.parent);break;case"loginSuccess":M(e.event,e.params,e.sender,d);break;case"inputFocus":var b=r.queryEl(".tp-modal");b&&(b.style.zIndex=pn.zIndexes.modal+1+"",b.style.zIndex=pn.zIndexes.modal+"");break;case"inputBlur":var _=r.queryEl(".tp-modal");_&&(_.style.zIndex=pn.zIndexes.modal+1+"",_.style.zIndex=pn.zIndexes.modal+"");break;case"getLocation":e.params&&e.params.resultCallbackId&&(e.params.result=window.location.href,i.send("resultCallback",e.params,e.sender));break;case"setLocationHash":e.params&&e.params.hash&&(window.location.hash=e.params.hash);break;case"langChangedWithinOffer":pn.pianoId.isConfigured()&&pn.pianoId.updateLang(e.params.lang),I.indexOf(e.params.lang)>=0?s.turnOnRTL(c):s.turnOffRTL(c);break;case"loginStart":l.disable();break;case"loginEnd":l.enable();break;case"pianoIdEvent":e.params.iframeId===e.sender&&("closed"===e.params.event&&s.closeContainer(e.sender),pn.pianoId.__protected__.offerMessageReceiver(e)),E(e.params,e.sender);break;case"swgCheckoutStart":break;case"sharedAccountsSuccessfullyAdded":i.broadcast("refreshMyAccount",{userToken:a.getProvider().getToken()});break;case"newsletterSignupImpression":case"newsletterSignupSubmission":pn.pianoEsp.__protected__.offerMessageReceiver(e),S.fireCallbacks(e.event,e.params,e.sender,d);break;case"parentSize":var C=r.winSize(),x={width:C.width,height:C.height};i.send("parentSize",x,e.sender);break;case"gigyaPasswordlessLogin":e.params.iframeId===e.sender&&(t=e.params.iframeId,pn.gigya.loginByPasswordless(e.params));break;case"emitGAEvent":return void(!n&&u.emitEvent(e.params));case"emitMetricsEvent":!n&&u.emitMetricsEvent(e.params);break;case"bannerInit":c.config.singleContainer.classList.add("tp-banner");break;case"bannerDestroy":c.config.singleContainer.classList.remove("tp-banner");break;case"redeemCredit":var P=S.fireCallbacks("onStartCreditRedemption",e.params,e.sender,d);P&&P.then&&P.then((function(n){i.send("successfullyCreditRedeem",n,e.sender)}),(function(n){i.send("creditRedeemFailed",n,e.sender)}));break;default:return void o.debug("Received invalid event type: "+e.event)}}var E=function(e,n){"successDOI"===e.event&&(e.iframeId!==n&&s.closeContainer(e.iframeId),i.send("afterSuccessDOI",e.params,n))},T=function(e,n){e.config.contextLoadingPromise.then((function(t){var r={iframeParams:e.iframeParams,userContext:t};r.iframeParams.url=o.prepareUrlParameter(window.location.href),i.send("userDataContextLoaded",r,n.params.iframeId)}))},A=function(e,n,t,r,o){a.logout((function(){var e={};e.userProvider=a.getProvider().getName(),e.userToken=a.getProvider().getToken()&&a.getProvider().getToken().length>0?a.getProvider().getToken():"",e.noNeedStartCheckout=!0,ee(e)}),h),n.closeOnLogout&&s.closeModalContainer(t,r)},M=function(e,n,t,r){if(n.source=h,a.getProvider().onLoginSuccess(n),S.fireCallbacks("loginSuccess",n,t,r),!b){var o={userToken:n.user_token,user:n.user,reloadAfterLogin:!0};ee(o,t)}},O=function(e){var n=e.displayMode||"modal";return[e.offerId,n,e.containerSelector].join("|")},R=function(e){var n=O(e);delete m[n]},L=function(e){if(v="close",Q(e),void 0===e.displayMode)e.displayMode="modal";else if("modal"!==e.displayMode&&"inline"!==e.displayMode&&"popup"!==e.displayMode)return o.log("Invalid offer displayMode; must be one of: modal, inline, popup"),void R(e);if("modal"===e.displayMode&&!e.isPreload&&s.hasModalIframe())return o.log("Modal offer is already shown; must be one modal offer per time"),void R(e);if("modal"!==e.displayMode){var n,t=r.qa(e.containerSelector);if(!e.isPreload)if(t.forEach((function(t){var r=q({},e);r.singleContainer=t,n=N(r)})),n)return n;var i=t[t.length-1];i&&(e.singleContainer=i)}return N(e)};function N(e,c){var l=function(e){var n={};e.termIds&&(e.termIds instanceof Array||(e.termIds=[e.termIds]));var t=e.additionalParamNames?e.additionalParamNames:[];["displayMode","containerSelector","templateId","templateVariantId","offerId","termId","termIds","rid","aid","isCheckout","isOpenedFromInlineCheckout","pw_id","paywallId","width","preview","previewUncached","previewTemplateType","previewTemplateVersion","tokenType","janrainCaptureToken","closeOnLogout","voucherCode","isRedemption","allowReturnToStartState","startFromInlineCheckout","formNameByTermId","hideCompletedFields","startFromInlineCheckout","reloadAfterLogin","preventReloadAfterLogin","isAuth","authStartScreen","showCloseButton","closeButtonType","checkoutFlowId","offerState","oid","promoCode","promoCodeId","promoCodeTermId","rurl_3ds","thirdPartyParams","termId3ds","providerId","deploymentItemId","sharedAccountCode","targetedTermId","widget"].concat(["trackingId","experienceId","activeMeters"],t).forEach((function(t){e[t]&&(n[t]=e[t]),"showCloseButton"===t&&(void 0===e[t]?n[t]=!0:n[t]=e[t])}));var r=decodeURIComponent(o.getQueryParamByName("_ptid"));return r&&(n.trackingId=r),e.preview&&(n.activeMeters=JSON.stringify([{meterName:"preview-meter",views:10,viewsLeft:5,maxViews:20,totalViews:20}])),n}(e);l.widget||(l.widget="offer");var d=o.getTbcCookie();d&&d.length>0&&(l.tbc=d),e.deferredContextLoading?(l.iframeId=U(e),l.url=window.location.origin):(l.iframeId="offer-"+g+++"-"+o.randomString(),l.url=o.prepareUrlParameter(window.location.href));var f=r.winSize();l.parentDualScreenLeft=void 0!==window.screenLeft?window.screenLeft:screen.left,l.parentDualScreenTop=void 0!==window.screenTop?window.screenTop:screen.top,l.parentWidth=f.width?f.width:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,l.parentHeight=f.height?f.height:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,l.parentOuterHeight=window.outerHeight,e.previewNonLoggedUser&&(l.previewNonLoggedUser=e.previewNonLoggedUser),e.isPreload&&(l.preload=1),pn.locale&&(l.lang=pn.locale),u.getClientId()&&(l.gaClientId=u.getClientId()),u.getGAAccount()&&(l.gaAccount=u.getGAAccount()),function(e){["debug","aid","gaClientId","tags","contentSection","contentAuthor","debug","zone"].forEach((function(n){pn[n]&&(e[n]=pn[n])})),pn.customVariables&&(k[e.iframeId]=JSON.stringify(pn.customVariables));var n=pn.contentCreated;n&&(e.contentCreated=n),pn&&pn.main&&(e.pageViewId=pn.main.fetchPageViewId(),e.visitId=pn.main.fetchVisitId())}(l);var m=S.hasCallback("loginRequired");if(!pn.janrain.isConfigured()||void 0!==e.loginRequired&&e.loginRequired)if(!pn.gigya.isConfigured()||void 0!==e.loginRequired&&e.loginRequired)if(pn.pianoId.isConfigured()){void 0!==e.loginRequired&&e.loginRequired||(e.loginRequired=function(e){if(!e.preventExternalLogin)return n=e.termId,t=l.iframeId,pn.pianoId.show({screen:e.startScreen}),!1}),W(),l.pianoIdUrl=pn.pianoId.getIframeUrl();var h=pn.pianoId.getLang();h&&(l.lang=h),pn.pianoId.onLangChange((function(e){i.send("langChanged",{lang:e},l.iframeId)}),l.iframeId)}else pn.pianoIdLite.isConfigured()&&(l.pianoIdUrl=pn.pianoId.getIframeUrl());else{b=[];pn.gigya.registerCallback("onHide",(function(e){s.activateContainers(b),i.send("gigyaHide",e,t)})),z(),e.loginRequired=function(e){return y=e.allowReturnToStartState,w=!1,b=s.hideModalContainer(),n=e.termId,t=l.iframeId,o.waitCall("refreshUserToken",(function(){pn.gigya.login()})),!1}}else{var b=[];pn.janrain.addEventHandler("onModalClose",(function(){s.activateContainers(b)})),H(),e.loginRequired=function(e){return b=s.hideModalContainer(),y=e.allowReturnToStartState,w=!1,n=e.termId,t=l.iframeId,o.waitCall("refreshUserToken",(function(){pn.janrain.login(void 0,e)})),!1}}l.userProvider=a.getProvider().getName(),e.userToken?l.userToken=e.userToken:l.userToken=a.getProvider().getToken()&&a.getProvider().getToken().length>0?a.getProvider().getToken():"",o.getCampaigns(l),l.customCookies=JSON.stringify(o.getCustomCookies()),S.registerCallback(e,l.iframeId),l.hasLoginRequiredCallback=S.hasIframeCallback("loginRequired",l.iframeId)||m,l.initMode="context",j(l);var _=e.iframeUrl?e.iframeUrl:l.isCheckout?pn.getEndpointRoot(!0)+"/checkout/offer/show":x(),I=e.postMessageUrl?e.postMessageUrl:x();e.deferredContextLoading&&e.initContextLoadPromise(e,D(l));var E=F(l,e),T=s.createContainer({url:_,config:e,parent:e.parent,postMessageUrl:I,receive:P,iframeParams:l,singleContainer:e.singleContainer,close:function(){S.fireCallbacks("close",{state:v},l.iframeId,!0)}}),A=_.indexOf("/offer/")?"offerShow":"templateShow";return p.setTime(A),C=_.indexOf("/template/")&&l.offerId===s.fakeOfferId?l:C,T.statParams=E,T.browserId=e.browserId,T}var U=function(e){var n=0,t="offer_"+d.hash(e.iframeUrl+"?"+e.buildQueryStringFn(e,r),20);return _.has(t)&&(n=_.get(t)+1),_.set(t,n),t+"-"+n},j=function(e){var n=o.getQueryParamByName("termId"),t=o.getQueryParamByName("paySource");n&&(e.termId=n),t&&(e.paySource=t)},D=function(e){var n={};return["tbc","trackingId","pageViewId","visitId","tags","contentCreated","contentSection","contentAuthor"].forEach((function(t){e[t]&&(n[t]=e[t])})),Object.keys(e).forEach((function(t){0===t.indexOf("tpcc_")&&(n[t]=e[t])})),n},F=function(e,n){var t={};return n.trackStatsOnShow||n.deferredContextLoading||(t=D(e),Object.keys(t).forEach((function(n){delete e[n]}))),t},B=function(e){var n=q(e.iframeParams,e.statParams);e.config.affiliateState&&(n.affiliateState=e.config.affiliateState),i.send("trackStat",n,e.iframeId)},V=function(e){var n={browserId:e.browserId};i.send("passBrowserId",n,e.iframeId)},q=function(e,n){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n]})),Object.keys(n).forEach((function(e){t[e]=n[e]})),t},z=function(){b||(pn.gigya.registerCallback("userChanged",(function(e){if(e&&e.user_token){var r={token_list:e.access_token.value,user_token:e.user_token,userToken:e.user_token,cookie_domain:e.access_token.cookie_domain,user:e.user,allowReturnToStartState:y,termId:n};if(t)s.getIframe(t)?(i.send("externalLoginSuccess",r,t),delete r.termId,ee(r,t)):ee(r);else ee(r)}})),pn.gigya.registerCallback("logout",(function(){var e,r={};r.userProvider=a.getProvider().getName(),r.userToken=a.getProvider().getToken()&&a.getProvider().getToken().length>0?a.getProvider().getToken():"",r.noNeedStartCheckout=!0,t&&(e=s.getIframe(t)),e&&"inline"===e.config.displayMode&&s.closeModalContainer(),n="",t="",y=!1,ee(r)})),b=!0)},H=function(){b||(pn.janrain.registerCallback("userChanged",(function(e){if(e&&e.user_token){var r={token_list:e.access_token.value,user_token:e.user_token,userToken:e.user_token,cookie_domain:e.access_token.cookie_domain,user:e.user,allowReturnToStartState:y,termId:n};if(t)s.getIframe(t)?(i.send("externalLoginSuccess",r,t),delete r.termId,ee(r,t)):ee(r);else ee(r)}})),pn.janrain.addEventHandler("onCaptureSessionEnded",(function(){var e,r={};r.userProvider=a.getProvider().getName(),r.userToken=a.getProvider().getToken()&&a.getProvider().getToken().length>0?a.getProvider().getToken():"",r.noNeedStartCheckout=!0,t&&(e=s.getIframe(t)),e&&"inline"===e.config.displayMode&&s.closeModalContainer(),n="",t="",y=!1,ee(r)})),b=!0)},W=function(){b||(pn.pianoId.setCallbacks({loggedIn:function(e){o.log("offer.js - piano id user logged in");var r={user_token:e.token,userToken:e.token,user:e.user,reloadAfterLogin:!0,termId:n};t?s.getIframe(t)?(i.send("externalLoginSuccess",r,t),Z(t,r),delete r.termId,ee(r,t)):ee(r):ee(r)},loggedOut:function(e){if(e.source!==h){var r={};r.userProvider=a.getProvider().getName(),r.userToken=a.getProvider().getToken()&&a.getProvider().getToken().length>0?a.getProvider().getToken():"",r.noNeedStartCheckout=!0,ee(r)}n="",t=""}}),b=!0)};function J(e){return s.showPreloadedContainer(e)}var G=function(e){var n=e.offerId===s.fakeOfferId?"showTemplate":"showOffer";S.hasCallback(n)&&S.fireCallbacks(n,e,void 0,!0)},Q=function(e){[{queryParam:"promo_code",configParam:"promoCode"}].forEach((function(n){var t=o.getQueryParamByName(n.queryParam);t.length&&(e[n.configParam]=t)}))},X=function(e){if(e.offerId||!0===e.preview){if(function(e){var n=O(e);return!!m[n]}(e))return!1;e.preview||function(e){var n=O(e);m[n]=!0}(e),setTimeout((function(){R(e)}),1e4),o.waitCall("refreshUserToken",(function(){o.waitCall("refreshAccessTokenList",(function(){o.waitCall("myAccountLogin",(function(){var n;if(o.startCall("offerCreate"),e.createIframeFn?(Q(e),n=e.createIframeFn(e)):n=L(e),!n)return o.doneCall("offerCreate"),void o.error("Could not initialize offer; check configuration");$(e)&&Y(n.iframeId),G(e)}))}))}))}else o.error("Must specify offerId")};var $=function(e){return!!e.directCheckout&&"inline"!==e.displayMode},Y=function(e){o.waitCall("offerCreate",(function(){i.send("startDirectCheckout",{},e)}))},K=function(e,n){if(!function(e){return!e.offerId&&!e.isRedemption&&!e.preview}(e)){var t=S.hasCallback("loginRequired");e.isSiteLicensing&&t&&(te()||re())?f.refreshUser(C.iframeId):(s.hasModalIframe()&&s.closeModalContainer(),o.debug("creating checkout: ",e),e.displayMode="popup"===e.displayMode?"popup":"modal",e.isCheckout=!0,e.parent=n,o.waitCall("refreshUserToken",(function(){o.waitCall("refreshAccessTokenList",(function(){var t;o.startCall("offerCreate"),t=e.createIframeFn?e.createIframeFn(e):L(e),s.__protected__.addChildToInlineIframe(t,n),t?w&&o.waitCall("offerCreate",(function(){w=!1;var e={};e.userProvider=a.getProvider().getName(),a.getProvider().getToken()&&a.getProvider().getToken().length>0?e.userToken=a.getProvider().getToken():e.userToken="",e.noNeedStartCheckout=!0,e.noNeedStartCheckoutAfterLogin=!0,ee(e,t.iframeId)})):(o.doneCall("offerCreate"),o.error("Could not start checkout; check configuration"))}))})))}},Z=function(e,n){i.send("reloadOffer",n,e)},ee=function(e,n){i.broadcast("reloadOffer",e,n)},ne=function(e,n){var t={reloadAfterLogin:!0};return Object.assign(t,e.config),t.singleContainer&&delete t.singleContainer,n.termId&&(t.termId=n.termId),n.term&&(t.term={},t.term=q(t.term,n.term)),n.startScreen&&(t.startScreen=n.startScreen),n.isRedemption&&(t.isRedemption=n.isRedemption,t.voucherCode=n.redemption&&n.redemption.form&&n.redemption.form.redeemCode,t.termId=null),n&&n.currentState&&"modal"===e.config.displayMode&&(t.allowReturnToStartState=!0),n.preventExternalLogin&&(t.preventExternalLogin=n.preventExternalLogin),n.sharedAccountCode&&(t.sharedAccountCode=n.sharedAccountCode),n.isSiteLicensing&&(t.isSiteLicensing=n.isSiteLicensing),n.campaignCode&&(t.campaignCode=n.campaignCode),n.campaignGroupId&&(t.campaignGroupId=n.campaignGroupId),t.displayMode="modal",t},te=function(){return"publisher_user_ref"===a.getProvider().getName()},re=function(){return"piano_id_lite"===a.getProvider().getName()};return{name:"offer",show:function(e){"inline"===e.displayMode?s.operationWithContainer(e.containerSelector,(function(){X(e)})):X(e)},deferredShow:function(e){return function(e){var n,t,r,i=new Promise((function(e,r){n=e,t=r})),a=new Promise((function(e,n){r=e}));return"popup"!==e.displayMode&&e.offerId?o.waitCall("refreshAccessTokenList",(function(){var i;e.isPreload=!0,o.startCall("offerCreate"),e.createIframeFn?(Q(e),i=e.createIframeFn(e)):i=L(e),i?(i.element.onload=function(){r(i)},n(i)):(o.doneCall("offerCreate"),o.error("Could not initialize offer; check configuration"),t())})):t(),{promise:i,show:function(){i.then(J).then((function(){return a})).then((function(n){B(n),$(e)&&Y(n.iframeId),G(e)}),(function(){X(e),delete e.isPreload}))}}}(e)},close:function(){s.closeModalContainer()},closeInline:function(e){s.__protected__.closeInlineContainers(e)},startCheckout:K,startRedeemVoucher:function(e,n){s.closeModalContainer(),e||(e={}),e.isRedemption=!0,o.debug("starting redeem voucher: ",e),e.displayMode="popup"===e.displayMode?"popup":"modal",e.isCheckout=!1,e.parent=n,o.waitCall("refreshAccessTokenList",(function(){o.startCall("offerCreate"),(e.createIframeFn?e.createIframeFn(e):L(e))||(o.doneCall("offerCreate"),o.error("Could not start redeem; check configuration"))}))},createOfferIframe:L,showBackdrop:function(){s.showBackdrop()},hideBackdrop:function(){s.hideBackdrop()},centerBackdrop:function(e){s.centerBackdrop(e)},registerCallback:function(e,n){S.addEvent(e),S.registerCallback(e,n)},reload:Z,reloadAll:function(e,n){var t=e||{};o.waitCall("refreshUserToken",(function(){ee(Object.assign(t,{userToken:pn.user.getProvider().getToken()}),n)}))},resetUserAndReloadAll:function(e,n){var t=e||{};ee(Object.assign(t,{userToken:""}),n)},checkThreeDSRedirect:function(){var e="pn_rurl_3ds",n=o.getQueryParamByName(e);if(n){var t={offerId:"pn_offer_id",oid:"pn_oid",termId3ds:"pn_term_id",providerId:"pn_provider_id",thirdPartyParams:"third_party_params"},r=[e],i=Object.keys(t).reduce((function(e,n){var i=Object.assign({},e);return i[n]=o.getQueryParamByName(t[n]),r.push(t[n]),i}),{});o.removeQueryParamByName(r),X(Object.assign({displayMode:"modal",rurl_3ds:n},i))}}}};pn.container.register("offer",{useValue:Ge()}),pn.offer=pn.container.resolve("offer");var Qe=function(){var e,n=pn.container.resolve("jqUtils"),t=pn.container.resolve("util"),r=pn.container.resolve("postmessage"),o=pn.container.resolve("offer"),i=pn.container.resolve("user"),a=pn.container.resolve("containerUtils"),s=pn.container.resolve("pianoId"),c=pn.container.resolve("logging"),l={},u=!1,d={loginRequired:[],loginSuccess:[]},p=function(){return pn.getEndpointRoot()+"/checkout/myaccount/show"},f=function(e,n){e.element.style.height=(e.config.maxHeight?Math.min(n.height,e.config.maxHeight):n.height)+"px",e.container.style.height=(e.config.maxHeight?Math.min(n.height,e.config.maxHeight):n.height)+"px",e.element.style.width=n.width+"px","modal"===e.config.displayMode&&(e.container.style.width=n.width+"px"),r.send("resized",{height:e.config.maxHeight?Math.min(n.height,e.config.maxHeight):n.height,width:n.width},e.iframeId)},m=function(t,r,i){return function(){e&&(n.removeClass("tp-active",e),o.hideBackdrop(),window.setTimeout((function(){n.remove(e)}),250),r.result=i,t(r))}},g=function(e){var t=n.winSize();e.offsetHeight>t.height?(!1===u&&(e.style.position="absolute",u=!0),e.style.marginTop=window.scrollY-.5*t.height+""):(!0===u&&(e.style.position="fixed",u=!1),e.style.marginTop=0-.5*e.offsetHeight+""),o.centerBackdrop(e),e.style.marginLeft=0-.5*e.offsetWidth+""},v=function(t,i){!function(t,r){var i=document.createElement("div");n.addClass("tp-modal",i);var a=document.createElement("div");n.addClass("tp-close",a);var s=document.createElement("div");n.addClass("tp-message",s),i.style.width=(t.width?t.width:400)+"px",s.innerHTML=t.message;var c=document.createElement("div");n.addClass("tp-btn-container",c);var l=document.createElement("button");n.addClass("tp-btn",l),n.addClass("tp-ok-btn",l),l.innerHTML=t.ok?t.ok:"Ok";var u=document.createElement("button");n.addClass("tp-btn",u),n.addClass("tp-cancel-btn",u),u.innerHTML=t.cancel?t.cancel:"Cancel",n.on(a,"click",m(r,t,"cancel")),n.on(u,"click",m(r,t,"cancel")),n.on(l,"click",m(r,t,"ok")),n.append(i,a),n.append(i,s),n.append(c,l),n.append(c,u),n.append(i,c),n.append(document.body,i),o.showBackdrop(),n.addClass("tp-active",i),g(i),e=i}(i.params,(function(e){r.send("closeDialog",e,l[i.sender].iframeId)}))},h=function(e,n){d[e]=d[e]||[],d[e].push(n)},w=function(e,n,o){if(t.debug("received event: "+e,n),void 0!==d[e]){for(var i=0;i<d[e].length;++i){t.debug("firing callback for event: "+e);var a=d[e][i](n);n&&n.resultCallbackId&&(n.result=a,n.event=e,r.send("resultCallback",n,o))}!d[e].length&&n&&n.resultCallbackId&&(n.callbackNotFound=!0,n.event=e,r.send("resultCallback",n,o))}},y=function(e){switch(t.log("*** My account event received",e.event,e.params),e.event){case"resize":t.debug("*** Resize event",e.params.width,e.params.height),f(l[e.sender],e.params),"modal"===l[e.sender].config.displayMode&&g(l[e.sender].container);break;case"loaded":r.send("initMaxHeight",{height:l[e.sender].config.maxHeight},l[e.sender].iframeId),f(l[e.sender],e.params),"pianoId"===i.getProvider().name&&s.__protected__.executePostMessagesBatch(),"modal"===l[e.sender].config.displayMode&&window.setTimeout((function(){n.addClass("tp-active",l[e.sender].container),g(l[e.sender].container)}),25);break;case"cancel":case"complete":case"error":case"loginRequired":case"customEvent":w(e.event,e.params,e.sender);break;case"openDialog":v(e.event,e);break;case"pianoIdProfileUpdated":s.onProfileUpdate(e.params,(function(){var n=e.params;n&&n.resultCallbackId&&r.send("resultCallback",n,e.sender);var t={userToken:e.params.token,user:e.params.user};b(t)}));break;case"extendedUserLoginRequired":s.onExtendedUserLoginRequired();break;case"loginSuccess":i.getProvider().onLoginSuccess(e.params);var o={reloadAfterLogin:!0,userToken:e.params.user_token,user:e.params.user};b(o),w(e.event,e.params,e.sender);break;case"logout":i.logout((function(){var e={};e.userProvider=i.getProvider().getName(),e.userToken=i.getProvider().getToken()&&i.getProvider().getToken().length>0?i.getProvider().getToken():"",b(e)})),w(e.event,e.params,e.sender);break;case"userProfileUpdateSuccess":var a=e,c=a.event,u=a.params,d=a.sender;i.getProvider().onLoginSuccess(u);var p={userProvider:u.user_provider,userToken:u.user_token};for(var m in b(p),w(c,u,d),l)if(l.hasOwnProperty(m)){var h=l[m].config;h.hasOwnProperty("userToken")&&delete h.userToken,I(h)}break;case"langChangedWithinMyAccount":s.isConfigured()&&s.updateLang(e.params.lang);break;case"requestScrollData":k(e.sender);break;case"downForMaintenance":f(l[e.sender],{width:300,height:200});break;case"removeQueryParamByName":Array.isArray(e.params.paramsToRemove)&&e.params.paramsToRemove.forEach((function(e){t.removeQueryParamByName(e)}));break;case"getTrackingData":r.send("getTrackingDataResponseEvent",{pageViewId:pn.main.fetchPageViewId(),tbc:t.getTbcCookie()},e.sender);break;default:return void t.log("Received invalid event type: "+e.event)}},b=function(e){r.broadcast("reloadOffer",e)},k=function(e){var n=l[e].element.getBoundingClientRect(),t={iframeRect:{bottom:n.bottom,height:n.height,left:n.left,right:n.right,top:n.top,width:n.width}};r.send("returnScrollData",t,e)};function _(e){var o={widget:"myaccount"};if(e.templateId&&(o.templateId=e.templateId),void 0===e.displayMode)e.displayMode="inline";else if("modal"!==e.displayMode&&"inline"!==e.displayMode)return void t.log("Invalid offer displayMode; must be one of: modal, inline");if(o.displayMode=e.displayMode,o.iframeId=t.randomString(16),o.url=window.location.href,o.initialWidth=e.width,o.initialHeight=e.height,o.maxHeight=e.maxHeight,pn.locale&&(o.lang=pn.locale),!pn.janrain.isConfigured()||void 0!==e.loginRequired&&e.loginRequired)if(!pn.gigya.isConfigured()||void 0!==e.loginRequired&&e.loginRequired)if(pn.pianoId.isConfigured()){v=e;if(pn.pianoId.setCallbacks({loggedIn:function(n){var t;o.userToken!==n.token&&(e.loginSuccess&&(t=e.loginSuccess(n)),(void 0===t||t)&&(v.userToken=n.token,I(v)))},loggedOut:function(){var e={};e.userProvider=i.getProvider().getName(),e.userToken=i.getProvider().getToken()&&i.getProvider().getToken().length>0?i.getProvider().getToken():"",b(e)}}),void 0===e.loginRequired||!e.loginRequired){var s=0;e.loginRequired=function(){if(++s>10)t.log("Too many attemps to login for myAccount");else{var e=t.getQueryParamByName("verification_code");pn.pianoId.show({verificationCode:e})}}}o.pianoIdUrl=pn.pianoId.getIframeUrl();var u=pn.pianoId.getLang();u&&(o.lang=u),pn.pianoId.onLangChange((function(e){r.send("langChanged",{lang:e},o.iframeId)}),o.iframeId)}else pn.pianoIdLite.isConfigured()&&(o.pianoIdUrl=pn.pianoId.getIframeUrl());else{m=[];pn.gigya.registerCallback("onHide",(function(){a.activateContainers(m),t.doneCall("myAccountLogin")})),e.loginRequired=function(){var n=e;t.waitCall("refreshAccessTokenList",(function(){t.waitCall("offerCreate",(function(){t.startCall("myAccountLogin"),m=a.hideModalContainer(),pn.gigya.login((function(t){var r;e.loginSuccess&&(r=e.loginSuccess(t)),(void 0===r||r)&&(n.userToken=t.user_token,I(n))}))}))}))}}else{var m=[],v=e;pn.janrain.addEventHandler("onModalClose",(function(){a.activateContainers(m),t.doneCall("myAccountLogin")})),pn.janrain.registerCallback("userChanged",(function(n){var t;n&&n.user_token&&(e.loginSuccess&&(t=e.loginSuccess(n)),(void 0===t||t)&&(v.userToken=n.user_token,I(v)))})),pn.janrain.addEventHandler("onCaptureSessionEnded",(function(n){var t;e.loginSuccess&&(t=e.loginSuccess(n)),(void 0===t||t)&&(v.userToken=null,I(v))})),e.loginRequired=function(){return t.waitCall("refreshAccessTokenList",(function(){t.waitCall("offerCreate",(function(){t.startCall("myAccountLogin"),m=a.hideModalContainer(),pn.janrain.login()}))})),!1}}return new Promise((function(a){t.waitCall("refreshUserToken",(function(){var s,u={};if("inline"===e.displayMode){if(!e.containerSelector)return void t.log("My account must have a valid containerSelector");if(!(s=n.queryEl(e.containerSelector)))return void t.log("My account must have a valid containerSelector");o.width=n.getWidth(s)}else s=function(){var e=document.createElement("div");n.addClass("tp-modal",e);var t=document.createElement("div");return n.addClass("tp-close",t),n.append(e,t),n.append(document.body,e),e}();for(var m in o.pageViewId=pn.main.fetchPageViewId(),o.tbc=t.getTbcCookie(),o.userProvider=i.getProvider().getName(),e.userToken?o.userToken=e.userToken:o.userToken=i.getProvider().getToken(),d)"function"==typeof e[m]&&(t.debug("Registering "+m+" callback for iframe "+o.iframeId),h(m,e[m]));o.aid=pn.aid,pn.isSensitiveDataProtectionEnabled&&(u={userToken:o.userToken,iframeId:o.iframeId},delete o.userToken);var v=p()+"?"+n.param(o),w=document.createElement("iframe"),b={scrolling:"no",allowtransparency:"true",name:o.iframeId,id:o.iframeId,allow:"payment"};pn.isSensitiveDataProtectionEnabled||(b.src=v),Object.keys(b).forEach((function(e){n.setAttr(e,b[e],w)}));var k={overflow:"hidden",border:"0",height:"0"};if("inline"===e.displayMode?k.width=o.width+"px":k.width=0,Object.keys(k).forEach((function(e){w.style[e]=k[e]})),l[o.iframeId]={iframeId:o.iframeId,config:e,element:w,container:s,containerWidth:n.getWidth(s),containerHeight:n.getHeight(s)},r.init({postMessageUrl:p(),receive:y,iframe:l[o.iframeId]}),n.on(window,"keyup",(function(e){})),"modal"===e.displayMode&&n.on(window,"resize",(function(){g(s)})),"modal"===e.displayMode?g(s):n.empty(s),pn.isSensitiveDataProtectionEnabled){u.iframeSrc=v;var _=C(u);n.append(s,w),n.append(s,_),_.submit()}else n.append(s,w);if(n.on(window,"resize",(function(){!function(){for(var e in l){var t=l[e],o=!1,i=n.getWidth(t.container);i!==t.containerWidth&&(t.element.style.width=i+"",t.containerWidth=i,o=!0);var a=n.getHeight(t.container);a!==t.containerHeight&&(t.element.style.height=a+"",t.containerHeight=a,o=!0),o&&r.send("resize",{width:i,height:a},e)}}()})),"inline"===e.displayMode&&window.ResizeObserver){var I=new ResizeObserver((function(e){var t=n.getWidth(s);t>0&&f(l[o.iframeId],{width:t})}));I.observe(s),l[o.iframeId].resizeObserver=I}pn.offer&&pn.offer.registerCallback("complete",(function(){r.send("refreshNow",{},o.iframeId)})),a(l[o.iframeId]),c.setTime("myAccountShow")}))}))}var C=function(e){var t=document.createElement("form"),r={id:"form_"+e.iframeId,method:"post",action:e.iframeSrc,target:e.iframeId};return n.setAttrs(r,t),[{name:"userToken",value:e.userToken}].forEach((function(e){var r=document.createElement("input"),o={type:"hidden",name:e.name};n.setAttrs(o,r),r.value=e.value,n.append(t,r)})),t},I=function(e){t.waitCall("offerCreate",(function(){t.waitCall("refreshAccessTokenList",(function(){var n;null===(n=_(e))||void 0===n||n.then((function(e){e||t.log("Could not initialize my account; check configuration")}))}))}))};return{name:"myaccount",show:I,registerCallback:h}}();pn.container.register("myaccount",{useValue:Qe}),pn.myaccount=pn.container.resolve("myaccount");var Xe=function(){var e=pn.container.resolve("jqUtils"),n=pn.container.resolve("util"),t=pn.container.resolve("api"),r=pn.container.resolve("offer"),o=pn.container.resolve("eventUtils").createEventManager(["onCheckoutSuccess","onMeterExpired","onMeterError","onAccessGranted","onMeterActive","onMeterInactive","meterSelector"]),i={state:"ok",views_left:null,offer_id:"",curtain_template_id:"",reminder_template_id:"",cookie_name:"",cookie_value:"",cookie_expires:"",show_reminder:!1,show_close_button:!1},a=function(e,t){return o.fire(void 0,e,!0,t),!u[e]||"function"!=typeof u[e]||(n.debug("_customCaller called with "+e),u[e](t))},s=function(n){(n=n||{}).offerId||(n.offerId=i.offer_id),n.templateId||(n.templateId=i.curtain_template_id),n.displayMode||(n.displayMode=u.displayMode),n.containerSelector||(n.containerSelector=u.containerSelector),n.showCloseButton||(n.showCloseButton=i.show_close_button),"function"===e.type(u.close)&&(n.close=u.close),"function"===e.type(u.loginRequired)&&(n.loginRequired=u.loginRequired),"function"===e.type(u.customEvent)&&(n.customEvent=u.customEvent),"function"===e.type(u.onCheckoutSuccess)&&(n.complete=u.onCheckoutSuccess),r.createOfferIframe(n)},c=function(e){if(a("___onProcessMeter",e),!e.user_meter)return n.log("Could not load meter",e),void a("onMeterError",e);if((i=e.user_meter)&&i.cookie_name&&i.cookie_value&&i.cookie_expires){var t={path:"/",expires:i.cookie_expires};i.cookie_domain&&(t.domain=i.cookie_domain),n.__protected__.setCookie(i.cookie_name,i.cookie_value,t)}"ok"===i.state?function(e){n.debug("_handleMeterActive",e),e.show_reminder&&e.reminder_template_id&&e.track_page_view&&a("onShowOffer",e)&&s({templateId:e.reminder_template_id}),a("onMeterActive",e)}(i):"ap"===i.state?function(e){n.debug("_handleAccessGranted",e),a("onAccessGranted",e)}(i):"ia"===i.state?function(e){n.debug("_handleMeterInactive",e),a("onMeterInactive",e)}(i):function(e){n.debug("_handleExpired",e),a("onMeterExpired",e),e.track_page_view&&a("onShowOffer",e)&&s()}(i)},l=function(e,r,o){if(null!==u.paywallId&&""!==u.paywallId){var i=document.URL;e&&"function"==typeof e.getAttribute&&e.getAttribute("href")?i=e.getAttribute("href"):e&&"function"==typeof e.attr&&e.attr("href")&&(i=e.attr("href"));var a=u.trackPageview;a&&delete u.trackPageview;var s=u.meterSelector();s||(s="");var l={paywall_id:u.paywallId,url:encodeURI(i),referer:encodeURI(u.referer),track_page_view:a,meter_name:s,pageview_id:pn.main.fetchPageViewId()};r&&(l.transaction_id=r),u.referer="";var d=n.__protected__.getCookie("umc");if(d)l.umc=d;else{var p=n.__protected__.getCookie("umc_"+u.paywallId);p&&(l.umc=p)}t.callApi("/anon/meter/load",l,(function(e){c(e),"function"==typeof o&&o()}))}else n.debug("You must specify a paywallId in your configuration")},u={paywallId:null,trackPageview:!0,trackExternalReferrer:!0,referer:document.referrer,offerURL:"",displayMode:"modal",containerSelector:"",onCheckoutSuccess:function(){},onMeterExpired:function(){},onMeterError:function(){},onAccessGranted:function(){},onMeterActive:function(){},onMeterInactive:function(){},meterSelector:function(){}};return{name:"meter",init:function(e){if(void 0!==e)if(void 0!==e.paywallID||void 0!==e.paywallId){for(var t in void 0===e.paywallId&&(e.paywallId=e.paywallID),e)u[t]=e[t];u.referer=document.referrer,n.debug("Initializing paywall: "+u.paywallId),l()}else n.error("Must specify paywallId to load Piano paywall");else n.error("Must specify paywall configuration to load Piano paywall")},isExpired:function(){return i.state&&"ex"===i.state},isExpiredNextClick:function(){return void 0!==i.views_left&&0===i.views_left},checkMeter:function(e){u.trackPageview=!0,l(e)},showCurtain:s,last:function(){return i},registerCallback:function(e,n){o.addEvent(e),o.registerCallback(e,n)}}}();pn.container.register("meter",{useValue:Xe}),pn.meter=pn.container.resolve("meter");var $e=function(){var e=pn.container.resolve("util"),n=pn.container.resolve("sha1"),t="",r=function(){var e="";return["ShockwaveFlash.ShockwaveFlash.6","ShockwaveFlash.ShockwaveFlash.7","SWCt1.SWCt1.9","SWCtl.SWCtl","Adobe.SVGCtl","WMPlayer.OCX","AgControl.AgControl","AcroPDF.PDF","PDF.PdfCtrl","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealPlayer","Skype.Detection","3dmlw.IEPlugin","GoogleTalk.Plugin","GoogleTalk.Plugin.1"].map((function(n){try{new window.ActiveXObject(n),e+=n+"|"}catch(e){}})),e},o=function(){if(t)return t;var o=function(){try{var e;return e=window.navigator.userLanguage||window.navigator.language,(new Date).getTimezoneOffset()+":"+e}catch(e){return""}}();return o+=function(){if(window.ActiveXObject)return r();try{var e="",n=navigator.plugins.length;if(n>0)for(var t=0;t<n;t++)e+=navigator.plugins[t].name+"|";return e}catch(e){return""}}(),o+=function(){try{return screen.height+"x"+screen.width+"+"+screen.colorDepth}catch(e){return""}}(),o+=navigator.userAgent,o+=function(){var e="";try{e+=document.getElementById?1:0,e+=window.getComputedStyle?1:0,e+=screen.globalStorage?1:0,e+=window.localStorage?1:0,e+=window.sessionStorage?1:0,e+=document.getElementsByClassName?1:0,e+=document.querySelector?1:0,e+=document.all?1:0,e+=window.attachEvent?1:0,e+=window.createPopup?1:0,e+=window.XMLHttpRequest?1:0,e+=window.ActiveXObject?1:0,e+=window.XDomainRequest?1:0,e+=window.msPerformance?1:0,e+=document.documentMode?1:0,e+=navigator.cpuClass?1:0,e+=navigator.browserLanguage?1:0,e+=window.opera?1:0,e+=window.chrome?1:0}catch(e){}return e}(),t=n.hash(o),e.debug("Current browser fingerprint is: "+t),t};return o(),{name:"fingerprint",getFingerprint:o}}();pn.container.register("fingerprint",{useValue:$e}),pn.fingerprint=pn.container.resolve("fingerprint");var Ye=function(){var e,n=pn.container.resolve("jqUtils"),t=0,r=0,o=200,i=0,a=[];n.on(window,"scroll",(function(){c()}));var s=function(){var e=n.scrollTop();e>i&&(i=e)},c=function(){s(),u()},l=function(e){if(e.consumeEventFn())return"pixels"===e.measureType?e.position<=i:"percentage"===e.measureType?i/(t-n.winSize().height)>=e.position/100:void 0},u=function(){for(var e,n=[],t=[],r=0;r<a.length;r++)e=a[r],l(e)?n.push(e):t.push(e);a=t;for(r=0;r<n.length;r++)n[r].callback()};return{name:"scrollDepth",initialize:function(i){var a=document;i&&i>0&&(o=i||o);var s=function(){var i=a.body||{},c=a.documentElement||{},l=Math.max(i.scrollHeight,c.scrollHeight,i.offsetHeight,c.offsetHeight,i.clientHeight,c.clientHeight);l>t&&(t=l);var u=n.scrollTop()+n.winSize().height;u>r&&(r=u)>t&&(t=r),e&&clearTimeout(e),e=setTimeout(s,o)};s()},getMaxScrollDepth:function(){return r},getMaxDocumentHeight:function(){return t},addListener:function(e,n,t){"function"!=typeof t&&(t=function(){return!0}),a.push({callback:e,position:n.scrollDepth,measureType:n.measureType,repeat:"once",consumeEventFn:t}),s(),u()},removeListeners:function(){a=[]},clearMaxScrolledPosition:function(){i=0}}}();pn.container.register("scrollDepth",{useValue:Ye}),pn.scrollDepth=pn.container.resolve("scrollDepth");var Ke=function(){var e,n=pn.container.resolve("util"),t=pn.container.resolve("jqUtils"),r=!1,o=[];function i(){r||(r=!0,t.on(document,"mousemove",(function(){return s()})),t.on(document,"keypress",(function(){return s()})),t.on(window,"scroll",(function(){return s()})))}function a(){o.length&&function(){for(var e,t,r=[],i=[],a=Date.now(),s=0;s<o.length;s++)t=!1,a-(e=o[s]).startTime>=e.idleTime&&(e.consumeEventFn()?t=!0:e.startTime=a),t?r.push(e):i.push(e);r.length&&n.debug("idle: run fire");o=i;for(s=0;s<r.length;s++)(e=r[s]).callback()}(),e&&clearTimeout(e),o.length&&(e=setTimeout((function(){return a()}),200))}function s(){for(var n=Date.now(),t=0;t<o.length;t++)o[t].startTime=n;clearTimeout(e),o.length&&(e=setTimeout((function(){return a()}),200))}return{name:"idle",initialize:i,addListener:function(n,t,r){i(),"function"!=typeof r&&(r=function(){return!0}),o.push({callback:n,idleTime:1e3*t,startTime:Date.now(),consumeEventFn:r}),e||(e=setTimeout((function(){return a()}),200))},removeListeners:function(){o=[]}}}();pn.container.register("idle",{useValue:Ke}),pn.idle=pn.container.resolve("idle");var Ze=function(){var e=pn.container.resolve("util"),n=pn.container.resolve("jqUtils"),t=[];return{name:"interaction",bind:function(r,o,i){var a=function(e){for(var n={click:"click",doubleClick:"dblclick",rightClick:"contextmenu",mouseOut:"mouseout",mouseIn:"mouseover"},t=[],r=0;r<e.length;r++){var o=e[r];t.push(n[o])}return t};"function"!=typeof i&&(i=function(){return!0}),e.__protected__.documentReady((function(){for(var e=0;e<o.length;e++){var s=o[e],c=a(s.elementActions).join(" "),l=s.elementSelector,u=s.repetitive;c.trim().length&&function(e,o,a){var s=function(){i()&&(a||n.undelegate(document.body,e),r())};n.delegate(document.body,e,o,s),t.push({action:c,selector:l,func:s})}(l,c,u)}}))},unbindAll:function(){t.forEach((function(e){n.undelegate(document.body,e.selector)})),t=[]}}}();pn.container.register("interaction",{useValue:Ze}),pn.interaction=pn.container.resolve("interaction");var en=function(){var e=pn.container.resolve("jqUtils"),n=pn.container.resolve("util"),t=pn.container.resolve("containerUtils"),r=function(e){return"inline"===e.displayMode},o=function(e){return"modal"===e.displayMode};return{name:"recWidgetService",__protected__:{getInstance:function(){var i,a=[];function s(n){var s=n||{},c=s.widget||{};r(c.config)?e.empty(c.container):o(c.config)&&(!function(n){if(!i)return;t.closeModal(i),e.empty(i.container);var r=t.__private__.mobileModalFix;r.isIphoneCaretFixed&&r.modalClosed();i=null}(),e.remove(c.container)),!s.skipOnclose&&e.isFunction(c.onclose)&&c.onclose(),a=a.filter((function(e){return e.uuid!==c.uuid}))}function c(e){return a.filter((function(n){return e===n.widgetId}))[0]}return{showRecommendation:function(l){var u=l.widgetConfig||{},d=l.createPlaceholderFn,p=u.widgetId;if(!p)throw new Error("widgetId should be specified");if(c(p))n.log("widget with id "+u.widgetId+" already initialize");else if(o(u)&&i)n.log("modal widget already shown");else{var f=function(t){var r=e.queryEl(t.containerSelector),o="widget-id-"+n.randomString(),i={singleContainer:r||void 0,displayMode:t.displayMode||"modal",showCloseButton:t.showCloseButton,iframeParams:{iframeId:o,containerSelector:t.containerSelector,width:t.width,height:t.height}};return{uuid:o,widgetId:t.widgetId,placeholder:t.placeholder,trackingId:t.trackingId,config:i}}(u),m=f.config,g=d();if(f.container=function(e,n){var i;return r(e)?i=t.initInlineContainer(e).container:o(e)&&(i=t.getModalContainer(e,(function(){n instanceof Function&&n()}))),i}(m,(function(){s({widget:f})})),f.container)return e.append(f.container,g),f.element=g,o(m)&&(i=f,(n.isIphone()||n.isSafariOrIOsUiWebView()||n.isAndroid())&&t.__private__.mobileModalFix.modalOpened()),function(n,t){void 0===t&&(t={}),Object.keys(t).forEach((function(r){e.isFunction(t[r])&&(n[r]=t[r](n))}))}(f,l.widgetCallbacks),a.push(f),f;n.log('widget has invalid selector "'+m.iframeParams.containerSelector+'"')}},fireWidgetCallback:function(n,t,r){a.forEach((function(o){if(o.widgetId===t.toString()){var i=o["on"+n];e.isFunction(i)&&i(r)}}))},findWidget:c,clearWidgets:function(){a=[],i=null},closeWidget:s,fixWidgetModalWidth:function(n,r){if(!n||o(n.config)){var i=n.container,a=r?e.queryEl("iframe",i):e.queryEl(".tp-widget-placeholder",i);t.checkBackdropAndContainer(n,!0,!0),setTimeout((function(){a&&t.__protected__.setElementSizes(i,{width:e.getWidth(a)})}),100)}}}},insertWidgetLib:function(n){var t=document.getElementsByTagName("script")[0],r=document.createElement("script");n.id&&r.setAttribute("id",n.id),e.isFunction(n.onerror)&&(r.onerror=n.onerror),e.isFunction(n.onload)&&(r.onload=n.onload),n.defer&&(r.defer=!0),r.type="text/javascript",r.src=n.src,t&&t.parentNode&&t.parentNode.insertBefore(r,t)}}}}();pn.container.register("recWidgetService",{useValue:en}),pn.recWidgetService=pn.container.resolve("recWidgetService");var nn=function(){pn.container.resolve("predefinedOptions");return{testPianoOption:""}}();pn.container.register("piano",{useValue:nn});var tn=pn.container.resolve("piano");for(var rn in tn)pn[rn]=tn[rn];var on=function(e){void 0===e&&(e=pn.container);var n=e.resolve("util"),t=e.resolve("log"),r=e.resolve("user");e.resolve("api");var o,i=e.resolve("jqUtils"),a=e.resolve("recWidgetService"),s="__pnml",c="EXTERNAL_EVENT",l={granted:"ALLOWED",default:"UNKNOWN",denied:"FORBIDDEN"},u=a.__protected__.getInstance();function d(){return o||(o=new Promise((function(e,t){var r=window.PianoESPConfig||{};r.id?(Object.assign(r,{onload:function(){return e(null)},widget_init_on_event:{rec:!0,"opt-in":!1},onclick:function(e){u.fireWidgetCallback("click",e.widgetId,e)},onwidgetinit:function(e){u.fireWidgetCallback("init",e.widgetId,e)},onrecsloaded:function(e){u.fireWidgetCallback("recsloaded",e.widgetId,e)}}),window.PianoESPConfig=r,n.debug("pianoESP: loading PianoESP with config:",window.PianoESPConfig),a.__protected__.insertWidgetLib({id:"pnesplucidsdksel",src:p()+"/public/sdk/v04/sdk.js?v="+(localStorage&&localStorage.lucidsdkver||"xxx"),onerror:function(){return t()}})):t()})))}setTimeout((function(){pn.addHandler("logout",(function(){m([])}));var e=r.getProvider();e.registerCallback&&e.registerCallback("logout",(function(){m([])}))}),300);var p=function(){var e="//api-esp.piano.io";return pn.espEndpoint?e=pn.espEndpoint:pn.isSandbox()&&(e="//sandbox-api-esp.piano.io"),e},f=function(e,r){d().then((function(){window.PianoESP.getCurrentPushState().then((function(e){"prompt"===e&&t.logMicroConversion(r,"showPrompt")})),window.PianoESP.subscribeToPushSquads([e]).then((function(o){var i=o||{};!0===i.result?(n.setPushListsCookie(e),n.debug("pianoESP: Push notification was set:",i),t.logMicroConversion(r,"enrollPushCampaign")):!1===i.result&&("closed"===i.reason?t.logMicroConversion(r,"closePrompt"):t.logMicroConversion(r,"declineEnrollPushCampaign"))})).catch((function(e){n.log("pianoESP: Push notification error:",e)}))}))},m=function(e){try{var t=JSON.stringify(e);localStorage.setItem(s,t)}catch(e){n.debug("can't save mailing lists to storage",e)}},g=function(){var e=[];try{var t=localStorage.getItem(s);if(!t)throw new Error("MAINLING_LIST should be array");if(e=JSON.parse(t),!Array.isArray(e))throw new Error("MAINLING_LIST should be array")}catch(e){n.debug("can't load mailing lists from storage",e)}return e||[]};var v=function(e){return function(){var n=document.createElement("pnespwgtplaceholder");return i.setAttr("holdername",e,n),n}};function h(){return{onrecsloaded:function(e){return function(r){0!==r.countOfRecs?(u.fixWidgetModalWidth(e,!0),t.logEspMicroConversion(e.trackingId,e.widgetId,"init",c),n.debug("creating recommendation widget: ",e.config)):u.closeWidget({widget:e,skipOnclose:!0})}},onclick:function(e){return function(n){var r={href:n.url};t.logEspMicroConversion(e.trackingId,e.widgetId,"click","EXTERNAL_LINK",r)}},onclose:function(e){return function(){t.logEspMicroConversion(e.trackingId,e.widgetId,"close",c,{event:"widgetClosed"})}}}}return{name:"pianoEsp",__protected__:{init:d,setVisitorId:function(e){window.PianoESPConfig=Object.assign({},window.PianoESPConfig,{visitor:e})},showRecommendation:function(e){var n=h();return u.showRecommendation({widgetConfig:e,widgetCallbacks:n,createPlaceholderFn:v(e.placeholder)}),d().then((function(){window.PianoESP.initWidget(parseInt(e.widgetId))}))},showPushSignup:function(e){var n=e||{};n.templateId?(t.__protected__.logCustomFormImpression(n.trackingId,"pushSignup","show_form"),pn.template.show({templateId:n.templateId,templateVariantId:n.templateVariantId,displayMode:"modal",customEvent:function(e){switch(e.eventName){case"push-allow":t.logMicroConversion(n.trackingId,"allowSoftEnrollPushCampaign"),f(n.pushListId,n.trackingId);break;case"push-dont-allow":t.logMicroConversion(n.trackingId,"declineSoftEnrollPushCampaign");break;case"push-close":t.logMicroConversion(n.trackingId,"close")}}})):f(n.pushListId,n.trackingId)},getNotificationStatus:function(){if(window.Notification)return l[window.Notification.permission]||l.default},showNewsletterSignup:function(e){if(e&&e.mailingListIds){var t=g().indexOf(e.mailingListIds)>-1;e.notShowIfFilled&&t?n.log("Mailing list with ids "+e.mailingListIds+" already shown"):pn.template.show(e)}else n.log("mailingListIds should be specified")},offerMessageReceiver:function(e){if("newsletterSignupSubmission"===e.event){var n=g();-1===n.indexOf(e.params.mailingListIds)&&(n.push(e.params.mailingListIds),m(n))}},loadCompleteMailingLists:g},__private__:{removeWidgetsAndSdk:function(){u.clearWidgets(),o=null,delete window.PianoESP},getWidgetCallbacks:h,onInit:function(e){o&&"function"==typeof e&&o.then(e)}}}};pn.container.register("pianoEsp",{useValue:on()}),pn.pianoEsp=pn.container.resolve("pianoEsp");var an=function(){var e,n=pn.container.resolve("postmessage"),t=pn.container.resolve("user"),r=pn.container.resolve("util"),o=pn.container.resolve("eventUtils"),i="externalCheckoutComplete",a="loginPrompt",s="deferredAccountCreation",c="buy",l=o.createEventManager([i]),u=!1,d=!1;window.SWG=window.SWG||[],window.SWG.push((function(n){n.setOnPaymentResponse((function(n){d||(r.debug("swg: onPaymentResponse is triggered"),d=!0,n.then((function(n){r.debug("swg: onPaymentResponse",n),e&&g(n,n.purchaseData,n.userData,e,c)})).catch((function(e){r.log("swg: onPaymentResponse failed",e)})))}))})),n.subscribe("swgCheckoutStart",(function(n){u||r.log("swg: incorrect SwG configuration. Please make sure that Experience user segment is configured properly. Details at https://docs.piano.io/subscribe-with-google/#SwGscript");var t=n.params.sku;e=n.params.termId,window.SWG.push((function(e){e.subscribe(t)}))}));var p=function(e){if(l.hasCallback(i)){var n={type:"swg",flow:e};l.fireCallbacks(i,n,void 0,!0)}},f=function(e){return new Promise((function(n,t){pn.api.callApi("/swg/check",{entitlement:JSON.stringify(e)},(function(e){0!==e.code&&(r.log("swg: check subscription response - "+e.message),t()),n(e.CheckSubscriptionResponse)}))}))},m=function(e){return new Promise((function(n,t){pn.api.callApi("/swg/check/external",{entitlements:JSON.stringify(e)},(function(e){0!==e.code&&(r.log("swg: check external entitlement response - "+e.message),t());var o=e.data;o||(r.log("swg: check external entitlement empty response"),t()),n(o)}))}))},g=function(e,t,o,i,a){pn.api.callApi("/swg/subscribe",{term_id:i,purchase_data:JSON.stringify(t),user_data:JSON.stringify(o)},(function(t){if(0===t.code){var o=t.data;v(o),n.broadcast("swgCheckoutComplete"),e.complete().then((function(){p(a)})).catch((function(e){r.log("swg: complete failed:",e)}))}else r.log("swg: subscribe response - "+t.message)}))},v=function(e){e&&t.getProvider().loginByToken&&t.getProvider().loginByToken(e)},h=!1,w=!1;return{name:"swg",__protected__:{injectMarkup:function(e){var n;if(!h&&e){r.debug("swg: rendering swg markup with config:",e);var t='{\n   "@context": "http://schema.org",\n   "@type": "CreativeWork",\n   "isAccessibleForFree": '+e.isAccessibleForFree;!1===e.isAccessibleForFree&&e.productId&&(t=t+',\n   "isPartOf": {\n       "@type": ["CreativeWork", "Product"],\n       "name" : "'+e.resourceName+'",\n       "productID": "'+e.productId+'"\n   }'),t+="\n}";var o=document.createElement("script");o.type="application/ld+json",o.innerHTML=t,null===(n=document.getElementsByTagName("script")[0].parentNode)||void 0===n||n.appendChild(o),h=!0}},addLibrary:function(){var e;if(!w){r.debug("swg: adding swg.js library");var n=document.createElement("script");n.type="text/javascript",n.setAttribute("subscriptions-control","manual"),n.async=!0,n.src="https://news.google.com/swg/js/v1/swg.js",null===(e=document.getElementsByTagName("script")[0].parentNode)||void 0===e||e.appendChild(n),w=!0}},initSwgFlow:function(){window.SWG.push((function(e){e.getEntitlements().then((function(n){if(u=!0,r.debug("swg: getEntitlements",n),n.enablesThis()){var o=n.getEntitlementForSource("google");if(!o){var i=n.entitlements;return void(i&&m(i).then((function(){r.debug("swg: checkExternalEntitlement"),n.ack()}),(function(){r.log("swg: checkExternalEntitlement failed")})))}f(o).then((function(o){if(d)r.debug("swg: onPaymentResponse is already triggered. Skipping entitlements flow.");else if(o)switch(o.type){case"USER_FOUND":if(t.isUserValid())return void r.error("swg: user found, but not valid");r.debug("swg: user found, initiate login prompt");var i=o.user_token;e.showLoginPrompt().then((function(){v(i),p(a)})).catch((function(e){r.log("swg: showLoginPrompt failed",e)}));break;case"TERM_FOUND":r.debug("swg: term found, initiate deferred account creation");var c=o.term_id;e.completeDeferredAccountCreation({entitlements:n,consent:!0}).then((function(e){r.debug("swg: completeDeferredAccountCreation",e),g(e,e.purchaseData,e.userData,c,s)})).catch((function(e){r.log("swg: completeDeferredAccountCreation failed",e)}));break;default:r.debug("swg: check subscription response type "+o.type+". Nothing to do")}}),(function(){r.log("swg: checkSubscription failed")})),n.ack()}})).catch((function(e){r.log("swg: get entitlements failed",e)}))}))}},registerCallback:function(e,n){l.addEvent(e),l.registerCallback(e,n)}}}();pn.container.register("swg",{useValue:an}),pn.swg=pn.container.resolve("swg");var sn=function(){var e=pn.container.resolve("util"),n=!1,t=function(t,r,o){n?(o||(o={}),e.log("fbpixel: Track Facebook Pixel event",r,o),window.fbq(t,r,o)):e.log("fbpixel: Skip tracking event - Facebook Pixel is not initalized",r,o)},r=function(){return n};return{name:"fbpixel",isInitialized:r,__private__:{isInitialized:r},__protected__:{init:function(){if(!n){var t,r,o,i,a,s,c=pn.getFbPixelId();if(c)e.log("fbpixel: Initialize Facebook Pixel tracking",c),t=window,r=document,o="script",t.fbq||(i=t.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},t._fbq||(t._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(a=r.createElement(o)).async=!0,a.src="https://connect.facebook.net/en_US/fbevents.js",(s=r.getElementsByTagName(o)[0]).parentNode.insertBefore(a,s)),window.fbq("set","autoConfig","false",c),window.fbq("init",c),n=!0;else e.error("fbpixel: Facebook Pixel ID is not defined")}}},trackEvent:function(e,n){t("track",e,n)},trackCustomEvent:function(e,n){t("trackCustom",e,n)}}}();pn.container.register("fbpixel",{useValue:sn}),pn.fbpixel=pn.container.resolve("fbpixel");var cn=function(){var e=pn.container.resolve("util"),n=pn.container.resolve("fbpixel"),t=pn.container.resolve("offer"),r=pn.container.resolve("user"),o=pn.container.resolve("api"),i=!1,a="",s={},c={};function l(n){return new Promise((function(t){var i={aid:pn.aid,rid:"",account_linking_token:e.getQueryParamByName("account_linking_token"),user_token:r.getProvider().getToken(),user_provider:r.getProvider().getName()};n&&(i.rid=n),o.callApi("/fbia/subscriptionPayload/generate",i,(function(e){e&&e.data&&(a=e.data),t(null)}))}))}var u=function(){l().then((function(){a&&p()}))},d=function(n){if(n){var t=new Promise((function(e){setTimeout((function(){e(null)}),1e3*pn.redirectToFbTimeout)})),r=l(n);e.__protected__.waitAllPromises([t,r]).then((function(){p()}))}else e.error("fbsubscriptions: 'rid' could not be empty on generating subscription payload")},p=function(){var n=e.getQueryParamByName("account_linking_token"),t=e.getQueryParamByName("redirect_uri")+"?account_linking_token="+encodeURIComponent(n);a&&(t+="&subscription_payload="+encodeURIComponent(a)),window.location.href=t},f=function(e,t){s[e]||(s[e]=!0,n.trackEvent(e,t))},m=function(e,t){c[e]||(c[e]=!0,n.trackCustomEvent(e,t))},g=function(){return i};return{name:"fbsubscriptions",checkUserAccessAndRedirectToFb:function(){l().then((function(){p()}))},isInitialized:g,__private__:{isInitialized:g},__protected__:{init:function(){if(!i){n.__protected__.init(),t.registerCallback("loaded",(function(){var n=e.getQueryParamByName("surface");"meter_limit_reached"!==n&&"locked_article"!==n||pn.inappBrowserReturn||m("ViewPaywall",{surface:"IA"})}));pn.addHandler("loginSuccess",(function(e){l().then((function(){e.registration?m("CreateAccount"):m("LogIntoAccount",{is_subscriber:!!a}),a&&setTimeout((function(){p()}),200)}))})),pn.addHandler("experienceExecute",(function(){r.isUserValid()&&u()})),t.registerCallback("alreadyPurchased",(function(e){d(e.rid)})),t.registerCallback("startCheckout",(function(e){f("InitiateCheckout",{offer_code:e.offerId,campaign_code:e.termId})})),t.registerCallback("complete",(function(e){e.hasOwnProperty("chargeCurrency")&&e.hasOwnProperty("chargeAmount")&&f("Purchase",{currency:e.chargeCurrency,value:e.chargeAmount,offer_code:e.offerId,campaign_code:e.termId}),d(e.rid)})),t.registerCallback("close",(function(){p()})),i=!0}}}}}();pn.container.register("fbsubscriptions",{useValue:cn}),pn.fbsubscriptions=pn.container.resolve("fbsubscriptions");var ln=function(e){void 0===e&&(e=pn.container);var n=e.resolve("jqUtils"),t=e.resolve("util"),r=e.resolve("recWidgetService").__protected__.getInstance(),o=[],i=function(){return void 0!==pn.cxCdnUrl&&""!==pn.cxCdnUrl?pn.cxCdnUrl:"https://cdn.cxense.com"},a=function(){return void 0!==pn.cxenseSiteId&&""!==pn.cxenseSiteId},s=function(e){return void 0!==window.cX&&void 0!==window.cX.library&&(e||void 0!==window.cX.CCE&&void 0!==window.cX.CCE.library)},c=function(e){return void 0!==e.cxenseCustomerPrefix&&""!==e.cxenseCustomerPrefix},l=function(e){var n,r,o=window.cX=window.cX||{};o.callQueue=o.callQueue||[];var i="anon";e.uid&&"anon"!==e.uid&&""!==e.uid&&(i=!!(null===(r=null===(n=e.eventExecutionContext)||void 0===n?void 0:n.accessList)||void 0===r?void 0:r.length)?"hasActiveAccess":"registered",o.callQueue.push(["addExternalId",{id:e.uid,type:e.cxenseCustomerPrefix}]),t.debug("c1x: adding externalId",{uid:e.uid,prefix:e.cxenseCustomerPrefix}));o.callQueue.push(["setCustomParameters",{userState:i}]),t.debug("c1x: adding CustomParameters userState",{userState:i}),d(!1,e.browserId,e.pageViewId,pn.cxenseSiteId),t.debug("c1x: sending pageview event"),o.callQueue.push(["sendPageViewEvent"])},u=function(e,n,t,r){t&&(!0===r?e.callQueue.unshift([n,t]):e.callQueue.push([n,t]))},d=function(e,n,r,o){var i=window.cX=window.cX||{};i.callQueue=i.callQueue||[],u(i,"setSiteId",o,e),n&&u(i,"invoke",(function(){window.cXNative={getUserId:function(){return n}}}),e),u(i,"setRandomId",r,e),t.debug("c1x: injecting ids",{browserId:n,pageViewId:r,siteId:o})},p=function(e){var n=null,t=[];function r(){n&&clearTimeout(n),n=null,e(t),t=[]}return function(e){n||(n=setTimeout(r,10)),t.push(e)}}((function(e){if(a()){for(var n=[],i=function(){var t=e[s]||{};r.showRecommendation({widgetConfig:t,createPlaceholderFn:f(t.widgetId,t.displayMode)})&&n.push({widgetParams:{widgetId:t.widgetId,targetElementId:"cxense-"+t.widgetId,experienceId:t.experienceId},widgetCallback:function(e){var n=e&&e.response;if(n&&!e.response.error){"modal"===t.displayMode&&r.fixWidgetModalWidth(r.findWidget(t.widgetId));for(var i=0;i<n.items.length;i++){var a=n.items[i].id;-1===o.indexOf(a)&&o.push(a)}}}})},s=0;s<e.length;s++)i();m((function(){var e;e=pn.cxenseSiteId,t.debug("c1x: setting siteId: ",e),window.cX.setSiteId(e),window.cX.CCE.runMulti(n,["id"],o)}))}else t.debug("c1x: can not show recommendation because siteId is not configured using `setCxenseSiteId`")})),f=function(e,t){return function(){var r=document.createElement("div");n.addClass("tp-cxense-placeholder-"+t,r),n.addClass("tp-widget-placeholder",r);var o=document.createElement("div");return o.id="cxense-"+e,r.appendChild(o),r}},m=function(e){window.cX=window.cX||{},window.cX.CCE=window.cX.CCE||{},window.cX.CCE.callQueue=window.cX.CCE.callQueue||[],window.cX.CCE.callQueue.push(["invoke",e])},g=function(e){return s(e)};return{name:"cxense",__protected__:{showRecommendation:p,sendPageViewEvent:function(e){(a()||c(e))&&(a()||!c(e)?!a()||c(e)?l(e):t.debug("cxense: can not send pageview because customer prefix is not configured in app settings"):t.debug("cxense: can not send pageview because siteId is not configured using `setCxenseSiteId`"))},isActivated:a,isCustomerPrefixConfigured:c,isConfiguredPollingAsync:function(e,n,t){n=n||0,t=t||0;var r=0;return new Promise((function(o,i){var a=function(){g(e)?o(!0):r>=t?i(e?"c1x: cX object is not found after "+t+" retries with "+n+"ms interval":"c1x: cX and cX.CCE objects are not found after "+t+" retries with "+n+"ms interval"):(r++,setTimeout(a,n))};g(e)?o(!0):setTimeout(a,n)}))},invokeCxenseFn:m,getC1XIntegrationVersion:function(){return void 0!==pn.c1XIntegrationVersion&&""!==pn.cxenseSiteId?pn.c1XIntegrationVersion:"N/A"},getOrGenerateCxCompatibleBid:function(){var e=t.__protected__.getCookie("cX_P"),n=null;try{t.__protected__.hasLocalStorage()&&(n=localStorage.getItem("_cX_P"))}catch(e){}var r=e||n;return r?(t.debug("c1x: existing cX_P value has been found: ",r),r):(t.debug("c1x: can not find existing cX_P value, generating a new one"),t.__protected__.randomStringCxCompatible())},loadCxLibIfNeeded:function(){var e;if(!a()||!s(!0)){var n=document.getElementsByTagName("script")[0],r=document.createElement("script");r.onerror=function(e){t.debug("c1x: error during load of cx.js. ",e)},r.onload=function(){t.debug("c1x: cx.js has been successfully loaded")},r.async=!0,r.type="text/javascript",pn.c1XLoadCce?r.src=i()+"/cx.cce.js":r.src=i()+"/cx.js",t.debug("c1x: start loading cx.js on the page..."),null===(e=n.parentNode)||void 0===e||e.insertBefore(r,n)}},setCxBidCookie:function(e,n){var r;r={path:"/",expires:730},n&&(r.domain=n,t.__protected__.deleteTLDCookieForSpecificDomains("cX_P",n)),t.deleteCookie("cX_P"),t.__protected__.setCookie("cX_P",e,r)},tryToGetCxPageViewId:function(e){var n,t,r=window.cX;return(null===(t=null===(n=null==r?void 0:r.getPageContext)||void 0===n?void 0:n.call(r))||void 0===t?void 0:t.pageViewRandom)||e},injectIds:d}}};pn.container.register("cxense",{useValue:ln()}),pn.cxense=pn.container.resolve("cxense");var un=function(e){void 0===e&&(e=pn.container);var n,t,r=e.resolve("jqUtils"),o=e.resolve("util"),i=e.resolve("api"),a=e.resolve("eventUtils"),s=e.resolve("scrollDepth"),c=e.resolve("log"),l=e.resolve("ajax"),u=e.resolve("viewportExit"),d=e.resolve("idle"),p=e.resolve("interaction"),f=e.resolve("pianoEsp"),m=e.resolve("swg"),g=e.resolve("fbsubscriptions"),v=e.resolve("user"),h=e.resolve("cxense"),w=e.resolve("logging"),y=[],b={},k="",_=!1,C="reader_id",I=!1,S={},x=(n={applyCss:{fn:function(e){e.eventParams.ruleList.forEach((function(e){var n,t=e.classes,i=e.elements;t&&(t=t.replace(/[,.]/g," ").split(" ").filter((function(e){return""!==e})),"add"===e.type&&(n=r.qa(i))&&n.length&&n.forEach((function(e){t.forEach((function(n){r.addClass(n,e)}))})),"remove"===e.type&&(n=r.qa(i))&&n.length&&n.forEach((function(e){t.forEach((function(n){r.removeClass(n,e)}))})));o.debug("exp: css applied with rule:",e)}))},isAction:!0,shouldFireCallback:!0},runJs:{fn:function(e){if(e.eventParams&&e.eventParams.snippet){var n=e.eventParams.snippet;o.debug("exp: run js with snippet:",n);var t=e.eventExecutionContext;o.debug("exp: set publisher's context and custom:",t),fe("var context = "+JSON.stringify(t)+";\nvar custom = "+JSON.stringify(pn.customVariables)+";\n"+n)}},isAction:!0,shouldFireCallback:!0},setCookie:{fn:function(e){var n=e.eventParams;if(n&&void 0!==n.cookieName&&void 0!==n.cookieValue){o.debug("exp: set cookie with parameters:",n);var t=(n.isReadableCookie?"_pc_":"")+n.cookieName,r={domain:n.cookieDomain,path:n.cookiePath};if(!n.isSessionCookie){var i=new Date;switch(n.expirationUnit){case"seconds":i.setSeconds(i.getSeconds()+n.expirationValue);break;case"minutes":i.setMinutes(i.getMinutes()+n.expirationValue);break;case"hours":i.setHours(i.getHours()+n.expirationValue);break;case"days":i.setDate(i.getDate()+n.expirationValue);break;case"months":i.setMonth(i.getMonth()+n.expirationValue);break;case"years":i.setFullYear(i.getFullYear()+n.expirationValue);break;default:o.log("Wrong eventParams.expirationUnit : ",n.expirationUnit)}r.expires=i}o.__protected__.setCookie(t,n.cookieValue,r)}},isAction:!0,shouldFireCallback:!0},nonSite:{fn:function(e){o.debug("exp: non-site action:",e)},isAction:!0,shouldFireCallback:!0},showForm:{fn:function(e){var n=e.eventParams;if(n&&n.formName){var t={formName:n.formName,hideIfComplete:n.hideCompletedFields,trackingId:e.eventExecutionContext.trackingId,displayMode:n.displayMode,containerSelector:n.containerSelector,showCloseButton:n.showCloseButton,accessToken:v.getProvider().getToken()};n.formWidth&&n.formWidth.enabled&&(t=r.deepExtend({},{width:n.formWidth.width},t)),o.debug("exp: show form with params:",n),pn.pianoId.showForm(t)}},isAction:!0,shouldFireCallback:!0},showRecommendations:{fn:function(e){return me(e,function(e){return{ESP:f.__protected__.showRecommendation.bind(f),CXENSE:h.__protected__.showRecommendation.bind(h)}[e]||function(){}}(e.eventParams.type))},isAction:!0,shouldFireCallback:!0},showOffer:{fn:function(e){return me(e,(function(e){return pn.offer.show(e)}))},isAction:!0,shouldFireCallback:!1},showTemplate:{fn:ge,isAction:!0,shouldFireCallback:!1},showZuoraOffer:{fn:ge,isAction:!0,shouldFireCallback:!1},showNewscycleOffer:{fn:ge,isAction:!0,shouldFireCallback:!1},showNewsletterSignup:{fn:function(e){return me(e,(function(e){return f.__protected__.showNewsletterSignup(e)}))},isAction:!0,shouldFireCallback:!1},showPushSignUp:{fn:function(e){return me(e,(function(e){return f.__protected__.showPushSignup(e)}))},isAction:!0,shouldFireCallback:!1},showLogin:{fn:function(){v.showLogin({})},isAction:!0,shouldFireCallback:!0},continueExecution:{fn:function(e,n){o.debug("exp: continue execution action:",e,"with requestParameters",n);var t=n||{};t.experience_id=e.eventExecutionContext.experienceId,t.experience_version=e.eventExecutionContext.experienceVersion,t.context_data=e.eventParams.contextData,Q("auto",t,!0)},shouldFireCallback:!0},continueExecutionCompleted:{fn:be,shouldFireCallback:!0},meterActive:{fn:be,shouldFireCallback:!0},meterExpired:{fn:be,shouldFireCallback:!0},userSegmentTrue:{fn:pe,shouldFireCallback:!0},userSegmentFalse:{fn:pe,shouldFireCallback:!0},experienceExecutionFailed:{fn:be,shouldFireCallback:!0},log:{fn:function(e){ee(e.eventModuleParams.moduleId,e)},shouldFireCallback:!1},experienceExecute:{fn:function(e,n,t){e.eventParams.result=t},shouldFireCallback:!0},setResponseVariable:{fn:function(e){return e.eventParams},isAction:!0,shouldFireCallback:!0},creditRedeemed:{fn:function(e){o.debug("exp: credit redeemed action:",e)},isAction:!0,shouldFireCallback:!0}},t={},Object.keys(n).forEach((function(e){if("function"!=typeof n[e].fn)throw new Error("Unsupported config for "+e+" handler");t[e]=function(e,n){return function(t,r,i){if(e.isAction){var a=function(e){var n=e.eventParams,t=e.eventModuleParams,r=e.eventExecutionContext;return o.debug("exp: fire event 'beforeComposerAction' with eventParams:",n,", moduleParams:",t,", context:",r),B.fireCallbacksAndStopOnFirstFalse("beforeComposerAction",n,t,r)}(t);if(!a)return;var s=re(t),c=te(t);(s||c)&&ee(t.eventModuleParams.moduleId,t)}var l,u=t.eventModuleParams.moduleId;S[u]||"N/A"===u||(S[u]={experienceId:t.eventExecutionContext.experienceId,moduleName:t.eventModuleParams.moduleName}),e.fn(t,r,i),e.shouldFireCallback&&(l=n,function(e){var n=e.eventParams.callback,t=e.eventParams,r=e.eventModuleParams,i=e.eventExecutionContext;o.debug("exp: fire event ",l," with eventParams:",t,", moduleParams:",r,", context:",i),B.fire("experience",l,!0,t,r,i),n&&l!==n&&(o.debug("exp: execute event ",l," with callback: ",n),fe(n))})(t)}}(n[e],e)})),t),P={showOffer:function(e){return ve(e,(function(e){return pn.offer.deferredShow(e)}))},showTemplate:he,showZuoraOffer:he,showNewscycleOffer:he},E=o.profile((function(e){Q("manual",e,!1)})),T=function(e,n){B.addEvent(e),B.registerCallback(e,n)},A="xbc",M={},O="",R="",L="",N=[],U="handler",j="eventCondition",D="innerEventCondition",F="preload",B=a.createEventManager([]),V=["showOffer","showZuoraOffer","showNewscycleOffer","showTemplate"];var q,z=function(){return y},H=function(){y=[]},W=function(){return pn.getTrackingEndpoint(pn.composerHost)+"/api/v3"},J=function(){g.__protected__.init()},G=function(e){var n=z();n.length&&(c.logBeaconRequest(W()+"/composer/logExecutionStats",{aid:pn.aid,items:JSON.stringify(n),execution_stats_context:k,ts:(new Date).getTime(),source:e}),H()),window.clearTimeout(q),q=window.setTimeout((function(){G("timer"+q)}),2e3)},Q=function(e,n,t){void 0===pn.main.appHasApplePay()&&B.fireCallbacks("experienceFlow",null,"experience",!0);var i=new Promise((function(e){setTimeout((function(){e({})}),3e4)}));return Promise.race([pn.main.externalResourcesDelay(),i]).then((function(i){if(r.isPlainObject(i)||(o.error("exp: error get external resources ",i),i={}),h.__protected__.isActivated()){o.debug("c1x: integration is activated"),h.__protected__.loadCxLibIfNeeded();var a=r.deepExtend({},n,i,{c1x_integration_version:"v2",new_bid:pn.main.fetchCxBrowserId()});X(e,a,t)}else X(e,r.deepExtend({},n,i),t)})).catch((function(e){}))},X=function(e,n,t){n=n||{};var a=r.deepExtend({},{protocol_version:1},n);$(a),Y(a),o.hasQueryParamByName(C)&&(a.reader_id=o.getQueryParamByName(C)),o.waitCall("refreshUserToken",(function(){if(t)a.executed_nodes=JSON.stringify(S);else{pn.main.trackPageUnloadIfNecessary(),K(a),i.getCallParams(a,v.getProvider()),o.removeAffiliateToken();var n={url:window.location.href,tags:pn.tags,submitType:e};pn.main.buildPageTrackParams(a,n)}o.debug("exp: Experience initialized with params:",a),o.waitCall("refreshAccessTokenList",(function(){o.startCall("experienceExecute");var e,n,i=(o.__protected__.cameFromFbSubscriptions()?(e="/xbuilder/experience/executeFbia",J()):e="/xbuilder/experience/execute",pn.getExperienceEndpoint(!1)+e);if(-1!==navigator.appVersion.indexOf("MSIE 9"))n={dataType:"jsonp",url:i+"?"+r.param(a)};else{var s="?"+r.param({aid:a.aid});n={type:"post",url:i+s,data:a,xhrFields:{withCredentials:!0}}}n.success=function(e){o.doneCall("experienceExecute");var n=r.deepExtend({},a);t||(we(),pn.main.registerTrackUnload()),Z(e.errors),de(e.models,n)},n.error=function(){o.doneCall("experienceExecute"),t||we();var e={code:503,message:"Error: Received error when requesting API response from URL: "+i};o.debug(e.message)},l.request(n)}))}))},$=function(e){var n=o.__protected__.getCookie(A);n&&(e.xbc=n);var t=o.getTbcCookie();t&&t.length>0&&(e.tbc=t),o.getCampaigns(e),e.custom_cookies=JSON.stringify(o.getCustomCookies())},Y=function(e){var n=o.getPushListsCookie(),t=f.__protected__.getNotificationStatus();n&&n.length>0&&(e.push_list_subscriptions=JSON.stringify(n)),t&&(e.push_notification_settings=t)},K=function(e){return[{property:"debug",parameter:"debug"},{property:"trackPageView",parameter:"increment_pageview_meter"}].forEach((function(n){void 0!==pn[n.property]&&(e[n.parameter]=pn[n.property])})),e},Z=function(e){Array.isArray(e)&&(e.length&&o.debug("exp: composer execution has been failed with errors"),e.forEach((function(e){o.debug("exp: "+e.msg)})))},ee=function(e,n){var t;t={mId:e,eId:n.eventExecutionContext.experienceId,eV:n.eventExecutionContext.experienceVersion,eeId:n.eventExecutionContext.executionId},y.push(t)};function ne(e,n,t,r){return{type:U,eventType:n.eventType,children:[],run:function(){e.bind(this,n,t,r)()}}}var te=function(e){var n,t=e.eventParams.delayBy||{};return t.value&&("time"===t.type?n={type:"timer",timer:t.value}:"scroll"===t.type&&(n={type:"scrollDepth",scrollDepth:t.value,measureType:"pixels"})),n},re=function(e){return e.eventConditions&&Array.isArray(e.eventConditions)?e.eventConditions.length:0},oe=function(e,n){return r=!1,{type:F,eventType:n.eventType,children:[],run:function(){!1===r&&(t=e(n),r=!0)},getPreloadResult:function(){return t}};var t,r};function ie(e,n){var t=function(){return B.fireCallbacksAndStopOnFirstFalse("beforeBrowserEvent",e)};switch(e.type){case"viewportExit":u.addListener(n,{detectExitMode:e.detectExitMode,detectBackButtonForMobile:e.detectBackButtonForMobile,clientDevice:e.clientDevice},t);break;case"scrollDepth":s.addListener(n,{scrollDepth:e.scrollDepth,measureType:e.measureType},t);break;case"timer":var r=setTimeout((function(){t()&&n()}),1e3*e.timer);N.push(r);break;case"interaction":p.bind(n,e.interactions,t);break;case"idle":d.addListener(n,e.idleTime,t)}}var ae=function(e){return e.type===U&&-1===["continueExecution","meterActive","meterExpired"].indexOf(e.eventType)};function se(e,n){return t=!1,r=function(){ee(e.moduleId,n);for(var r=b[e.moduleId].children,i=0;i<r.length;i++){var a=r[i],s=b[a];if(!1===t||ae(s))try{s.run()}catch(e){o.error("exp: error execute chain event",s,e)}}t=!0,_&&G("chain")},{type:j,children:[],run:function(){ie(e,r)}};var t,r}function ce(e,n){return t=!1,r=function(){for(var e=b[n+D].children,r=0;r<e.length;r++){var i=e[r],a=b[i];if(!1===t||ae(a))try{a.run()}catch(e){o.error("exp: error execute chain event",a,e)}}t=!0},{type:D,children:[n],run:function(){ie(e,r)}};var t,r}var le=function(e){var n;e.swgMarkupData&&(o.debug("exp: swg markup data :",e.swgMarkupData),n=e.swgMarkupData,m.__protected__.injectMarkup(n),e.swgMarkupData.isAccessibleForFree||m.__protected__.addLibrary()),e.swgEnabled&&m.__protected__.initSwgFlow()},ue=function(e){if(e){for(var n={},t=0;t<e.events.length;t++){var i=e.events[t];try{"experienceExecute"===i.eventType&&((n=r.deepExtend({},i.eventExecutionContext)).result=r.deepExtend({},e))}catch(e){o.error("exp: error on execute event: ",i,e)}}return n}o.debug("exp: no composer execution result")},de=function(e,n){if(e){var t,i;if(o.setTbcCookieFromResponse(e),o.setTacCookieFromResponse(e),t=e,h.__protected__.isActivated()&&h.__protected__.isCustomerPrefixConfigured(t)&&t&&t.bid&&h.__protected__.setCxBidCookie(t.bid,null===(i=t.tbc)||void 0===i?void 0:i.cookie_domain),o.setAppTimezoneOffsetFromResponse(e),o.setCurrentDomainFromResponse(e),function(e){f.__protected__.setVisitorId(e.bid)}(e),function(e){h.__protected__.sendPageViewEvent({browserId:e.bid,uid:e.uid,cxenseCustomerPrefix:e.cxenseCustomerPrefix,pageViewId:pn.main.fetchPageViewId(),eventExecutionContext:ue(e.result)})}(e),function(e){O=e.bid}(e),function(e){e.iss&&(R=e.iss)}(e),function(e){L=e.itemId}(e),e.xbc&&e.xbc.cookie_value){var a={path:"/",expires:730};if(e.xbc.cookie_domain&&"localhost"!==e.xbc.cookie_domain&&(a.domain=e.xbc.cookie_domain,o.__protected__.deleteTLDCookieForSpecificDomains(A,e.xbc.cookie_domain)),pn.cookieDomain||pn.cookiePath){var s=o.getPossibleCookieDomains();for(var c in s)o.deleteCookie(A,s[c]);a.domain=pn.cookieDomain?pn.cookieDomain:a.domain,o.__protected__.deleteTLDCookieForSpecificDomains(A,a.domain,a.path),a.path=pn.cookiePath?pn.cookiePath:a.path,o.__protected__.deleteTLDCookieForSpecificDomains(A,a.domain,a.path)}o.deleteCookie(A),o.__protected__.setCookie(A,e.xbc.cookie_value,a)}var l=e.result,u={};if(l){le(l),o.debug("exp: processed experiences :",l.experiences),k=e.executionStatsContext,l.debugMessages.forEach((function(e){o.debug("exp: execute :",e)}));for(var d,p=function(e,n,t){for(var r=e.eventConditions,i=0;i<r.length;i++){var a=r[i],s=a.moduleId,c=r[i-1],l=!r[i+1];if(b[s]||(b[s]=se(a,e)),l)if(b[s].children.push(n),-1!==V.indexOf(e.eventType)&&"viewportExit"===a.type&&!te(e)){var u=P[e.eventType];if(!u){o.error("exp: not found preload handler for event: ",e);continue}var d=n+F;b[d]=oe(u,e),c?b[c.moduleId].children.push(d):t.push(d)}c&&-1===b[c.moduleId].children.indexOf(s)&&b[c.moduleId].children.push(s)}},m=[],g=0,v=0;v<l.events.length;v++){var w=l.events[v];try{var y=w.eventType,C=w.eventModuleParams||{};if(o.debug("exp: process event '"+y+"' ("+C.moduleId+")"),"experienceExecute"===y&&((u=r.deepExtend({},w.eventExecutionContext)).result=r.deepExtend({},l)),!(d=C.moduleId)){o.error("exp: not found moduleId for linked node event: ",w);continue}var I=x[y];if(!I){o.error("exp: not found handler for event: ",w);continue}b[d]=ne(I,w,n,l);var S=re(w),E=te(w);if(S||E){var T=d;if(E){var N=ce(E,d);b[T=d+D]=N}S?-1===m.indexOf(w.eventConditions[0].moduleId)&&m.push(w.eventConditions[0].moduleId):E&&m.push(T),p(w,T,m),g++}else m.push(d)}catch(e){o.error("exp: error on execute event: ",w,e)}}g<=3&&(_=!0);for(var U=0;U<m.length;U++)d=m[U],b[d]&&b[d].run();window.clearTimeout(q),q=window.setTimeout((function(){G("rootTimer"+q)}),2e3),M=u}else o.debug("exp: no composer execution result")}};function pe(e){re(e)&&ee(e.eventModuleParams.moduleId,e)}function fe(e){try{eval.call(window,"(function () {"+e+"\n})();")}catch(e){o.log("Error occurred in RunJS\n",e)}}function me(e,n){var t=b[e.eventModuleParams.moduleId+F];return t&&t.getPreloadResult?t.getPreloadResult().show():ye(e,n)}function ge(e){return me(e,(function(e){return pn.template.show(e)}))}function ve(e,n){return o.debug("exp: run preloading for:",e),ye(e,(function(e){return n(e)}))}function he(e){return ve(e,(function(e){return pn.template.deferredShow(e)}))}function we(){G("reset"),N.forEach((function(e,n){clearTimeout(n)})),N=[],u.removeListeners(),d.removeListeners(),s.removeListeners(),p.unbindAll(),b={},S={}}function ye(e,n){var t=r.deepExtend({},e.eventParams),i=e.eventExecutionContext.splitTests,a=e.eventExecutionContext.activeMeters,s=e.eventParams.formNameByTermId,c=e.eventParams.hideCompletedFields,l=function(e){var n;if(!R)return null;var t=e||{};return{issuerId:R,premium:t.user&&t.user.premium||null,redemptionCandidateItemId:L||null,creditStates:t.creditStates||null,userId:(null===(n=t.user)||void 0===n?void 0:n.uid)||null,targetGroups:{l1:"target",l2:null}}}(e.eventExecutionContext);if(t.trackingId=e.eventExecutionContext.trackingId,t.experienceId=e.eventExecutionContext.experienceId,t.experienceExecutionId=e.eventExecutionContext.executionId,t.experienceActionId=e.eventModuleParams.moduleId,t.experienceConditions=e.eventConditions,t.browserId=O,t.onStartCreditRedemption=function(n){var t=r.deepExtend({},n),o="https://www.piano.io"===R,i=e.eventExecutionContext.user&&"anon"!==e.eventExecutionContext.uid;return t.trackingId=e.eventExecutionContext.trackingId||void 0,o&&i&&(t.uid=e.eventExecutionContext.user.uid||void 0),pn.credit.redeem(t)},i&&i.length>0){var u=i.map((function(e){return e.variantId}));t.splitTestIds=JSON.stringify(u)}if(t.additionalParamNames=[],a&&a.length>0&&(t.activeMeters=JSON.stringify(a)),"showZuoraOffer"===e.eventType){var d=e.eventParams.ratePlanIds;d&&d.length>0&&(t.zuoraSelectedRatePlanIds=JSON.stringify(d),t.additionalParamNames.push("zuoraSelectedRatePlanIds"))}if("showNewscycleOffer"===e.eventType){var p=e.eventParams.ids;p&&p.length>0&&(t.newscycleSelectedIds=JSON.stringify(p),t.additionalParamNames.push("newscycleSelectedIds","campaignCode","campaignGroupId"))}if("showNewsletterSignup"===e.eventType){var f=e.eventParams.mailingListIds,m=e.eventParams.siteId;f&&f.length>0&&(t.mailingListIds=JSON.stringify(f),t.siteId=m,t.additionalParamNames.push("mailingListIds","siteId"))}return"showRecommendations"===e.eventType&&(t.widgetId=e.eventParams.widgetId,t.placeholder=e.eventParams.placeholder),s&&(t.formNameByTermId=JSON.stringify(s),t.hideCompletedFields=c),l&&(t.affiliateState=l),o.debug("exp: show with params:",t),n(t)}function be(){return function(){}}return{name:"experience",init:function(){if(!I&&!o.__protected__.isCxenseBot()){I=!0;var e=!0;if(pn.customPreChecks&&pn.customPreChecks.length)for(var n=null,t=pn.customPreChecks.length;t--;)try{1!==(n=pn.customPreChecks[t]())&&!0!==n&&(e=!1)}catch(e){}e&&Q("auto").then((function(){w.setTime("expExec")}))}},execute:E,_getLastExecutionResult:function(){return M},registerCallback:T,__private__:{handlers:x,executedNodes:y,linkedNodes:b,processResult:de,processErrors:Z,show:ye,getTrackingEndpoint:W,initialized:I,registerCallback:T},__protected__:{sendStatisticsExecutedNodes:G}}};pn.container.register("experience",{useValue:un()}),pn.experience=pn.container.resolve("experience");var dn=function(){var e,n,t,r,o,i=0,a=document,s=!1,c="active",l=6e4,u=(r={},t="__ceGUID",{add:function(e,n,o){return e[t]=void 0,e[t]||(e[t]="ifvisible.object.event.identifier"),r[e[t]]||(r[e[t]]={}),r[e[t]][n]||(r[e[t]][n]=[]),r[e[t]][n].push(o)},remove:function(e,n,o){var i,a,s,c,l;if(o){if(e[t]&&r[e[t]]&&r[e[t]][n])for(a=s=0,c=(l=r[e[t]][n]).length;s<c;a=++s)if((i=l[a])===o)return r[e[t]][n].splice(a,1),i}else if(e[t]&&r[e[t]]&&r[e[t]][n])return delete r[e[t]][n]},fire:function(e,n,o){var i,a,s,c,l;if(e[t]&&r[e[t]]&&r[e[t]][n]){for(l=[],a=0,s=(c=r[e[t]][n]).length;a<s;a++)i=c[a],l.push(i(o||{}));return l}}}),d=function(e,n,t){return o||(o=e.addEventListener?function(e,n,t){return e.addEventListener(n,t.bind(dn),!1)}:e.attachEvent?function(e,n,t){return e.attachEvent("on"+n,t,!1)}:function(e,n,t){return e["on"+n]=t}),o(e,n,t)},p=function(){var e,n=a.createElement("div"),t=n.getElementsByTagName("i"),r=3;for(e=function(){return n.innerHTML="\x3c!--[if gt IE "+ ++r+"]><i></i><![endif]--\x3e",t[0]};e(););return r>4?r:void 0}();function f(){var t,r,o;return!!s||(e?d(a,n,(function(){return a.hidden?g():m()}),!1):(t="blur",p&&p<9&&(t="focusout"),d(window,t,(function(){return dn.blur()})),d(window,"focus",(function(){return dn.focus()}))),s=!0,(o=function(){return clearTimeout(r),"active"!==c&&h(),i=+new Date,r=setTimeout((function(){if("active"===c)return v()}),l)})(),d(a,"mousemove",o),d(a,"mouseup",o),d(a,"keyup",o),d(a,"touchstart",o),d(window,"scroll",o),d(window,"resize",o),m(o),h(o))}void 0!==a.hidden?(e="hidden",n="visibilitychange"):void 0!==a.mozHidden?(e="mozHidden",n="mozvisibilitychange"):void 0!==a.msHidden?(e="msHidden",n="msvisibilitychange"):void 0!==a.webkitHidden&&(e="webkitHidden",n="webkitvisibilitychange");function m(e){return"function"==typeof e?w("focus",(function(n){e(n)})):(c="active",u.fire(dn,"focus"),u.fire(dn,"wakeup"),u.fire(dn,"statusChanged",{status:c})),dn}function g(e){return"function"==typeof e?w("blur",(function(n){e(n)})):(c="hidden",u.fire(dn,"blur"),u.fire(dn,"idle"),u.fire(dn,"statusChanged",{status:c})),dn}function v(e){return"function"==typeof e?w("idle",(function(n){e(n)})):(c="idle",u.fire(dn,"idle"),u.fire(dn,"statusChanged",{status:c})),dn}function h(e){return"function"==typeof e?w("wakeup",(function(n){return e(n)})):(c="active",u.fire(dn,"wakeup"),u.fire(dn,"statusChanged",{status:c})),dn}function w(e,n){return f(),u.add(dn,e,n),dn}return{name:"ifvisible",setIdleDuration:function(e){return l=1e3*e},getIdleDuration:function(){return l},getIdleInfo:function(){var e,n;return e=+new Date,n={},"idle"===c?(n.isIdle=!0,n.idleFor=e-i,n.timeLeft=0,n.timeLeftPer=100):(n.isIdle=!1,n.idleFor=e-i,n.timeLeft=i+l-e,n.timeLeftPer=(100-100*n.timeLeft/l).toFixed(2)),n},wakeup:h,idle:v,focus:m,blur:g,on:w,off:function(e,n){return f(),u.remove(dn,e,n),dn},onEvery:function(e,n){var t,r=!1;return f(),n&&(t=setInterval((function(){if("active"===c&&!r)return n()}),1e3*e)),{stop:function(){return clearInterval(t)},pause:function(){return r=!0},resume:function(){return r=!1},code:t,callback:n}},now:function(e){return f(),c===(e||"active")}}}();pn.container.register("ifvisible",{useValue:dn}),pn.ifvisible=pn.container.resolve("ifvisible");var fn=function(){var e,n=pn.container.resolve("jqUtils"),t=pn.container.resolve("ifvisible"),r=0,o=[],i=60,a=!0,s=function(){m();var e=o[o.length-1];void 0!==e&&void 0===e.stopTime||o.push({startTime:new Date,startMinute:r,stopTime:void 0})},c=function(){if(0!==o.length&&!a)if(d())f();else{var e=o[o.length-1];void 0===e.stopTime&&(e.stopTime=new Date,e.stopMinute=r)}},l=function(e,n,t,r){var o=Math.abs(e.getTime()-n.getTime()),i=t-r;return o>6e4*(i+10)&&(o=6e4*i),o},u=function(e){var n=parseFloat(e);if(isNaN(n))throw{name:"InvalidDurationException",message:"An invalid duration time ("+e+") was provided."};t.setIdleDuration(n),i=n},d=function(){return!!(e=n.filter("video,audio",(function(e){return!e.paused}))).length},p=function(){setTimeout((function(){c()}),15e3)},f=function(){e&&e.forEach((function(e){n.on(e,"pause",p)}))},m=function(){e&&e.forEach((function(e){n.off(e,"pause",p)}))};return{name:"activetimer",setIdleDurationInSeconds:u,getActiveTimeInSeconds:function(){for(var e=0,n=0;n<o.length;n++){var t=o[n].startTime,i=o[n].stopTime,a=o[n].startMinute,s=o[n].stopMinute;void 0===i&&(i=new Date,s=r),e+=l(i,t,s,a)}return Math.floor(e/1e3)},getTotalTimeInSeconds:function(){var e=0,n=o[0];if(void 0!==n){var t=n.startTime,i=n.startMinute,a=new Date;e=l(a,t,r,i)}return Math.floor(e/1e3)},resetRecordedTime:function(){o=[],s()},startTimer:s,stopTimer:c,initialize:function(e){e&&u(e),t.on("blur",(function(){a=!1,c()})),t.on("focus",(function(){a=!0,s()})),t.on("idle",(function(){i>0&&(a=!1,c())})),t.on("wakeup",(function(){i>0&&(a=!0,s())})),s(),setInterval((function(){r++}),6e4)}}}();pn.container.register("activetimer",{useValue:fn}),pn.activetimer=pn.container.resolve("activetimer");var mn=function(){var e,n={},t=[],r=!1,o=1,i=2,a=3;function s(e){e&&(u(),r=!1),function(){if(r)return!1;r=!0;try{var e=window.googletag=window.googletag||{};e.cmd=e.cmd||[],e.cmd.push((function(){e.pubads().addEventListener("slotRenderEnded",f),e.pubads().addEventListener("impressionViewable",m),e.companionAds().addEventListener("slotRenderEnded",f),e.companionAds().addEventListener("impressionViewable",m)})),e.apiReady&&e.cmd.push((function(){d(e.pubads().getSlots()),d(e.companionAds().getSlots())}))}catch(e){return v(e),!1}}()}function c(n,t){"function"==typeof e&&e(n,t)}function l(e){return e&&void 0!==n[e]&&null!==n[e]&&n.hasOwnProperty(e)}function u(){n={},t=[]}function d(e){for(var n=0;n<e.length;n++){var t=e[n];f({eventSource:a,slot:t})}}function p(e){var n;try{var t=e.serviceName,r=e.slot;if(!t){var o=e.slot.getServices();o&&o.length&&(t=o[0].getName())}var i=r.getResponseInformation()||{},a=r.getSlotId?r.getSlotId():{},s=r.getSlotElementId?r.getSlotElementId():a.getDomId?a.getDomId():null;n={companion:!!t&&"companion_ads"===t,adUnit:r.getAdUnitPath?r.getAdUnitPath():0,isEmpty:e.isEmpty,elementId:s,advertiserId:e.advertiserId||i.advertiserId,campaignId:e.campaignId||i.campaignId,lineItemId:e.lineItemId||i.lineItemId,creativeId:e.creativeId||i.creativeId,eventSource:e.eventSource||null,size:e.size&&e.size.slice(0,2)||null,viewed:!1,position:null};var c=document.getElementById(s);if(s&&c&&(n.position={top:c.offsetTop,left:c.offsetLeft},void 0===e.isEmpty&&(n.isEmpty=c.offsetWidth<=0&&c.offsetHeight<=0,!n.isEmpty&&!n.size))){var l=r.getSizes();l&&l.length&&(n.size="object"==typeof l[0]?[l[0].getWidth(),l[0].getHeight()]:l[0])}}catch(e){v(e)}return n}function f(e){e.eventSource=e.eventSource||o;var r=p(e),i=g(e.slot);i&&(n[i]?r.viewed=n[i].viewed:t.push(i),n[i]=r,c(r,i))}function m(e){var r=g(e.slot);if(r){var o=n[r]||p(e);l(r)||(n[r]=o,t.push(r)),void 0===o.companion&&(o.companion="companion_ads"===e.serviceName),(!o.eventSource||o.eventSource>i)&&(o.eventSource=i),o.viewed=!0,c(o,r)}}function g(e){try{var n=e.getSlotId?e.getSlotId():{},t=e.getSlotElementId?e.getSlotElementId():n.getDomId?n.getDomId():null,r=e.getAdUnitPath?e.getAdUnitPath():0;return[t,n.getId?n.getId():0,r].join(":")}catch(e){v(e)}}function v(e){pn&&pn.util&&pn.util.error&&pn.util.error("DFP module error: ",e)}return s(),{name:"doubleClickForPublisher",initialize:s,setCustomHandler:function(n){e=n},getAds:function(e){var r,o=[],i=0,a=t.length;e&&("number"==typeof(r=e)&&isFinite(r)&&Math.floor(r)===r)&&e>0&&e<a&&(i=a-e);for(var s=i;s<a;s++){var c=t[s];l(c)&&o.push(n[c])}return o},resetAds:u}}();pn.container.register("doubleClickForPublisher",{useValue:mn}),pn.doubleClickForPublisher=pn.container.resolve("doubleClickForPublisher");var gn=function(){var e,n,t,r,o,i,a=pn.container.resolve("postmessage"),s=pn.container.resolve("util"),c="https://js.braintreegateway.com/web/3.79.1/js/client.min.js",l="https://js.braintreegateway.com/web/3.79.1/js/apple-pay.min.js",u="";a.subscribe("loaded",(function(){d()})),a.subscribe("startCheckout",(function(){d()})),a.subscribe("applePayBtClientToken",(function(e){g(e.params.clientToken)})),a.subscribe("applePayBtCheckoutFlowProperties",(function(e){r=e.params.requestEmail,o=e.params.requestPostalAddress})),a.subscribe("applyTaxFailed",(function(n){e.abort()})),a.subscribe("checkApplePayBtInstance",(function(e){n&&a.broadcast("applePayInit",{})})),a.subscribe("applyTaxCompleted",(function(e){m(e.params.nonce)})),a.subscribe("applePayBtBeginSession",(function(i){var s={},c=i.params;c.resourceTitle&&(s=c),c.termId&&(u=c.termId||"");var l={currencyCode:c.currencyCode,total:{label:c.resourceTitle,amount:c.chargeAmount}};p(l);try{t=n.createPaymentRequest(l)}catch(e){a.broadcast("payment-error",{errorCode:101})}(e=new window.ApplePaySession(2,t)).onvalidatemerchant=function(t){n.performValidation({validationURL:t.validationURL,displayName:c.resourceTitle||s.resourceTitle},(function(n,t){if(n)return e.abort(),void a.broadcast("payment-error",{errorCode:102});e.completeMerchantValidation(t)}))},e.onpaymentauthorized=function(t){n.tokenize({token:t.payment.token},(function(n,i){if(n)return a.broadcast("payment-error",{errorCode:103}),void e.completePayment(window.ApplePaySession.STATUS_FAILURE);var s={nonce:i.nonce};r||o?f(t,s):m(s)}))},e.begin()}));var d=function(){var e=s.__protected__.isApplePayAllowed();a.broadcast("EVENT_APPLE_PAY_CAN_MAKE_PAYMENTS",{canMakePayments:e})},p=function(e){r&&(e.requiredShippingContactFields=["email"]),o&&(e.requiredBillingContactFields=["postalAddress"])},f=function(e,n){e.payment.shippingContact&&(n.user={email:e.payment.shippingContact.emailAddress});var t=e.payment.billingContact,r={countryCode:t.countryCode?t.countryCode.toUpperCase():t.countryCode,zipCode:t.postalCode,billingZipCode:t.postalCode,nonce:n};a.broadcast("applePayPaymentAuthorized"+u,r)},m=function(n){e.completePayment(window.ApplePaySession.STATUS_SUCCESS),a.broadcast("applePayNonce"+u,n)},g=function(e){i=e,v()},v=function(){y()||w(c,(function(){h()}))},h=function(){b()||w(l,(function(){window.braintree.client.create({authorization:i}).then((function(e){window.braintree.applePay.create({client:e},(function(e,t){e?a.broadcast("payment-error",{errorCode:101}):(n=t,a.broadcast("applePayInit",{}))}))})).catch((function(e){if(e)return a.broadcast("payment-error",{errorCode:100}),void s.error("[TP] Client error: "+e.message)}))}))},w=function(e,n){s.addScript(e,n)},y=function(){for(var e=document.getElementsByTagName("script"),n=0,t=e.length;n<t;n++)if(e[n].src.indexOf(c)>-1)return!0},b=function(){for(var e=document.getElementsByTagName("script"),n=0,t=e.length;n<t;n++)if(e[n].src.indexOf(l)>-1)return!0};return{name:"applePay"}}();pn.container.register("applePay",{useValue:gn}),pn.applePay=pn.container.resolve("applePay");var vn=function(){var e=pn.container.resolve("postmessage"),n=pn.container.resolve("util"),t="",r={environment:"",billingRequestFlowId:""},o={customer:"",mandate:"",bank_account_ending:"",bank_account_holder:"",bank_name:"",currency:""},i=!1,a="https://pay.gocardless.com/billing/static/dropin/v2/initialise.js";e.subscribe("loaded",(function(e){t=e.sender,i||"inline"===e.displayMode||c(a,(function(){i=!0}))})),e.subscribe("LOAD_GOCARDLESS_DROPIN",(function(n){t=n.sender,i?e.send("GOCARDLESS_DROPIN_LOADED",null,t):c(a,(function(){i=!0,e.send("GOCARDLESS_DROPIN_LOADED",null,t)}))})),e.subscribe("GOCARDLESS_DROPIN_MANDATE_CREATION_INIT",(function(e){r=e.params,i&&s()}));var s=function(){window.GoCardlessDropin.create({billingRequestFlowID:r.billingRequestFlowId,environment:r.environment,onSuccess:function(n){var r=n.links,i=r.customer,a=r.mandate_request_mandate,s=n.resources.customer_bank_account,c=s.account_number_ending,l=s.account_holder_name,u=s.bank_name,d=n.mandate_request.currency;o={customer:i,mandate:a,bank_account_ending:c,bank_account_holder:l,bank_name:u,currency:d},e.send("GOCARDLESS_DROPIN_MANDATE_CREATION_COMPLETE",o,t)},onExit:function(n){n?e.send("payment-error",{message:n},t):e.send("GOCARDLESS_DROPIN_ENABLE_PLUGIN",null,t)}}).open()},c=function(e,t){n.addScript(e,t)};return{name:"goCardlessDropin"}}();pn.container.register("goCardlessDropin",{useValue:vn}),pn.goCardlessDropin=pn.container.resolve("goCardlessDropin");var hn=function(){var e,n,t,r=pn.container.resolve("postmessage"),o=pn.container.resolve("util"),i=!1;return{name:"applePayIntegrationService",initialize:function(){var a=function(){i=o.__protected__.isApplePayAllowed(),r.broadcast("EVENT_APPLE_PAY_CAN_MAKE_PAYMENTS",{canMakePayments:i})};r.subscribe("provider-component-initiated",(function(){i&&r.broadcast("apple-pay-init",{})})),r.subscribe("initPwApplePay",(function(){a()})),r.subscribe("startCheckout",(function(){a()})),r.subscribe("pay-session-received",(function(e){try{n.completeMerchantValidation(e.params.applePaySession)}catch(e){r.broadcast("payment-error",{errorCode:111,errors:e})}})),r.subscribe("apple-pay-complete-payment",(function(e){var r;(r=e.params.termId,t&&t!==r)||n.completePayment(e.params.status,e.params.errors)})),r.subscribe("start-purchase",(function(o){t=o.params.termId||"",e=o.params.resourceName,n=new window.ApplePaySession(3,function(e){return{countryCode:e.params.countryCode,currencyCode:e.params.currencyCode,supportedNetworks:["visa","masterCard","amex","discover"],merchantCapabilities:["supports3DS"],requiredShippingContactFields:e.params.requiredShippingContactFields||[],requiredBillingContactFields:e.params.requiredBillingContactFields||[],total:{label:e.params.resourceName,amount:e.params.chargeAmount}}}(o)),n.onvalidatemerchant=function(n){var o,i;o=n.validationURL,i={validationUrl:o,displayedCaption:e,userToken:null,userProvider:null,userRef:null,janrainCaptureToken:null,domainName:window.location.hostname,aid:null,termId:t},r.broadcast("apple-pay-pay-session-request",i)},n.onpaymentauthorized=function(e){try{r.broadcast("apple-pay-payment-authorized",{paymentData:e.payment,termId:t})}catch(e){r.broadcast("payment-error",{errorCode:110,error:e})}};try{n.begin()}catch(e){r.broadcast("payment-error",{errorCode:112,error:e,termId:t})}})),r.subscribe("abort-apple-pay-session",(function(){!function(){try{n.abort()}catch(e){o.error(e)}}()}))},__protected__:{applePayCanMakePaymentsWithActiveCard:function(){var e={then:function(e){return e(null)},catch:function(){}};return pn.applePayMerchantId&&o.__protected__.isApplePayAllowed()&&pn.applePayMerchantId?window.ApplePaySession.canMakePaymentsWithActiveCard(pn.applePayMerchantId):e}}}}();pn.container.register("applePayIntegrationService",{useValue:hn}),pn.applePayIntegrationService=pn.container.resolve("applePayIntegrationService");var wn=function(){var e,n,t=pn.container.resolve("postmessage"),r=pn.container.resolve("util"),o=pn.container.resolve("ajax"),i="datatrans-applepay-button",a=null,s=null,c=!1,l=function(n){e=n.sender,m().then(g).then(v)},u=function(n){var r=null;n||(r={message:n}),t.send("datatrans-applepay-service-error",r,e)},d=function(e){n=e.params,m().then(g).then(p).catch((function(){u("Apple Pay button init error")}))},p=function(){PaymentButton.init(n.applePayConfig)},f=function(){var e=document.getElementById(i);null!==e&&null!==e.firstElementChild?e.firstElementChild.click():u("Could not process with Apple Pay. Please, try again.")},m=function(){return null!==s?s:s=new Promise((function(e){o.request({url:tp.getApiEndpoint()+"/anon/datatrans/applepay/config",data:{aid:tp.aid},dataType:"jsonp",jsonpCallback:"jsonpCallback",success:function(n){var t=n.config;e(t.url)}})}))},g=function(e){if(null!==a)return a;var n="datatrans-apple-pay";if(!document.getElementById(n)){var t=document.createElement("script");return t.src=e,t.id=n,document.body.appendChild(t),a=new Promise((function(e){t.onload=function(){e(null)}}))}},v=function(){c||(PaymentButton.on("init",h),PaymentButton.on("create",w),PaymentButton.on("token",y),PaymentButton.on("abort",(function(){u(null)})),PaymentButton.on("unsupported",(function(){u("No payment method is supported")})),PaymentButton.on("error",(function(e){e&&(r.error("datatransApplePayIntegrationService. apple pay button error: "+e),u("Could not process with Apple Pay. Please, try again."))})),c=!0)},h=function(){var e=b();PaymentButton.create(e,n.paymentConfig).catch((function(){u("Apple Pay button create error")}))},w=function(){r.log("datatransApplePayIntegrationService paymentButtonOnCreate"),t.send("datatrans-applepay-service-ready",null,e)},y=function(n){r.log("datatransApplePayIntegrationService paymentButtonOnToken"),t.send("datatrans-applepay-service-token",n.token.details.token,e)},b=function(){var e=document.getElementById(i);return null===e&&((e=document.createElement("div")).setAttribute("id",i),e.style.display="none",document.body.appendChild(e)),e.innerHTML="",e};return{name:"datatransApplePayIntegrationService",initialize:function(){r.__protected__.isApplePayAllowed()&&(t.subscribe("datatrans-applepay-loaded",l),t.subscribe("datatrans-applepay-checkout-initiate-purchase",d),t.subscribe("datatrans-applepay-make-purchase",f))}}}();pn.container.register("datatransApplePayIntegrationService",{useValue:wn}),pn.datatransApplePayIntegrationService=pn.container.resolve("datatransApplePayIntegrationService");var yn=function(){var e,n=pn.container.resolve("postmessage"),t=pn.container.resolve("util"),r=null,o=null,i=!1,a="";n.subscribe("stripe-applepay-initialized",(function(){s()})),n.subscribe("stripe-applepay-initiate-purchase",(function(e){s().then((function(){var n=e.params.apiKey;null===r&&(r=window.Stripe(n));var t=e.params.paymentRequestPayload;return r.paymentRequest(t)})).then((function(e){return o=e,e.canMakePayment()})).then((function(e){i=e&&e.applePay,n.broadcast("stripe-applepay-initiate-purchase-complete",{canMakePayment:i}),i&&(o.on("cancel",(function(){n.broadcast("stripe-applepay-start-purchase-complete"+a,{status:"fail"})})),o.on("paymentmethod",(function(e){var t=e.paymentMethod.billing_details.address,r={countryCode:t.country,zipCode:t.postal_code,billingZipCode:t.postal_code},o=e.paymentMethod.id;n.broadcast("stripe-applepay-start-purchase-complete"+a,{status:"success",paymentMethodId:o,payerEmail:e.payerEmail,billingAddress:r}),e.complete("success")})))})).catch((function(e){t.error(e),n.broadcast("stripe-applepay-initiate-purchase-complete",{canMakePayment:!1})}))})),n.subscribe("stripe-applepay-start-purchase",(function(e){a=e.params.termId||"";var n=e.params.paymentRequestPayload;o.update(n),o.show()})),n.subscribe("stripe-applepay-abort-request",(function(){o&&o.abort(),n.broadcast("stripe-applepay-reopen-request")}));var s=function(){if(null!=e)return e;if(!document.getElementById("stripe.js")){var n=document.createElement("script");return n.src="https://js.stripe.com/v3/",n.id="stripe.js",document.body.appendChild(n),e=new Promise((function(e){n.onload=function(){e(null)}}))}};return{name:"stripeApplePayIntegrationService"}}();pn.container.register("stripeApplePayIntegrationService",{useValue:yn}),pn.stripeApplePayIntegrationService=pn.container.resolve("stripeApplePayIntegrationService");var bn=function(){var e=pn.container.resolve("postmessage"),n=pn.container.resolve("util");e.subscribe("obi-handle-3ds-challenge",(function(e){var r=e.params;if(window.obick)t(r);else{if(-1===["https://jsl.qat.obi.aol.com/obipmservice/obick.umd.js","https://jsl.prod.obi.aol.com/obipmservice/obick.umd.js"].indexOf(r.obickUrl))return void n.error("Untrusted obickUrl detected: "+r.obickUrl);var o=document.createElement("script");o.src=r.obickUrl,o.id="obick.js",document.body.appendChild(o),o.onload=function(){n.log(o.id+" onload"),t(r)}}}));var t=function(t){if(t.stepUpUrl&&0!==t.stepUpUrl.indexOf("http"))n.error("There is no link in params.stepUpUrl for OBI");else{var r={stepUpUrl:t.stepUpUrl,jwt:t.jwt,transactionId:t.transactionId,zIndex:t.zIndex};window.obick.handle3dsChallenge(r).then((function(t){n.debug(t),e.broadcast("obi-3ds-challenge-complete",{threeDSTransactionId:t.threeDSTransactionId,challengeStatus:t.challengeStatus})})).catch((function(t){n.error(t),e.broadcast("obi-3ds-challenge-complete",{error:"challenge-error",payload:t})}))}};return{name:"obi3DSChallenge"}}();pn.container.register("obi3DSChallenge",{useValue:bn}),pn.obi3DSChallenge=pn.container.resolve("obi3DSChallenge");var kn=function(){var e=pn.container.resolve("jqUtils"),n=pn.container.resolve("util"),t=pn.container.resolve("api"),r=pn.container.resolve("user"),o=pn.container.resolve("pianoId"),i={displayMode:"inline",containerSelector:"body",loginSuccess:d},a="reader_id",s=function(){return"/"+pn.aid+"/execution/amp"},c=function(){window.location.href=n.getQueryParamByName("return")+"#success=true"};var l=function(e){return/^\w+$/i.test(e)},u=function(e){var r={};if(r.reader_id=n.getQueryParamByName(a),r.reader_id){var o=pn.getExperienceEndpoint(!1);t.callApi(s()+"/logout",r,e,o,!1,!0)}else n.log("reader_id cannot be empty")};function d(e,r){var o=e||{};if(o.reader_id||(o.reader_id=n.getQueryParamByName(a)),o.reader_id){var i=pn.getExperienceEndpoint(!1);t.callApi(s()+"/login",o,r,i,!1,!0)}else n.log("reader_id cannot be empty")}return{name:"amp",showLogin:function(t){t=t||{};var a=r.getProvider();if(a.getName()===o.getName()){var s;s=t.loginSuccess&&e.isFunction(t.loginSuccess)?t.loginSuccess:c;var l=function(){d({},s)},u=Object.assign({},i,t);r.isUserValid()?l():(u.loginSuccess=l,o.show(u))}else n.log("Current user provider"+a.name+" is not allowed for amp")},logout:function(n){n=e.isFunction(n)?n:c,r.getProvider().getName()===o.getName()?o.logout((function(){u(n)})):u(n)},login:function(t){var i=r.getProvider().getName();i===o.getName()&&(t=t?e.deepExtend({},t,{userProvider:i}):{userProvider:i});var a={user_transient:!0,user_provider:"publisher_user"};if(t&&t.readerId&&(a.reader_id=t.readerId),t&&t.userToken&&(a.user_token=t.userToken),t&&t.userProvider&&(a.user_provider=t.userProvider,a.user_transient=!1),!function(t){if(t&&t.userState&&e.isPlainObject(t.userState)){var r=Object.keys(t.userState);if(r.filter(l).length!==r.length)return n.error("user_state accept only contain letters, numbers and underscore"),!1}return!0}(t))return!1;t&&t.userState&&(a.user_state=JSON.stringify(t.userState));d(a,(function(n){0===n.code?t.loginSuccess&&e.isFunction(t.loginSuccess)&&t.loginSuccess():t.loginFail&&e.isFunction(t.loginFail)&&t.loginFail()}))}}}();pn.container.register("amp",{useValue:kn}),pn.amp=pn.container.resolve("amp");var _n=function(){var e,n=pn.container.resolve("postmessage"),t=[{resourceRegExp:new RegExp("/checkout/offer/show"),label:"showOffer"},{resourceRegExp:new RegExp("tinypass.min.js$"),label:"tinypassMinJS"},{resourceRegExp:new RegExp("/xbuilder/experience/execute"),label:"experienceExecute"}],r=!1,o=[];function i(e){e.forEach((function(e){!function(e){if(!function(e){return t.some((function(n){return e.name.match(n.resourceRegExp)}))}(e))return;!function(e){if(!a())return void o.push(e);o.push(e),s()}(e)}(e)}))}function a(){return r&&e}function s(){a()&&(o.forEach((function(t){n.send("EVENT_TP_PERFORMANCE_DATA",{entry:t},e)})),o=[])}return function(){if(window.performance&&window.PerformanceObserver&&"function"==typeof performance.getEntries){var t=window.PerformanceObserver.prototype.observe;window.PerformanceObserver.prototype.observe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{t.apply(this,e)}catch(e){}},n.subscribe("EVENT_LOGGER_READY",(function(n){e=n.sender,r=!0,s()})),i(performance.getEntries()),new PerformanceObserver((function(e){i(e.getEntries())})).observe({entryTypes:["measure","resource"]})}}(),{name:"performanceMetrics"}}();pn.container.register("performanceMetrics",{useValue:_n}),pn.performanceMetrics=pn.container.resolve("performanceMetrics");var Cn=function(){var e=pn.container.resolve("api"),n=pn.container.resolve("pianoId");return{name:"doubleOptIn",check:function(){pn.user.isUserValid()&&new Promise((function(n){e.callApi("/email/confirmation/check",{},(function(e){n(e)}))})).then((function(e){e&&!1===e.data&&n.showEmailConfirmationRequired()}))}}}();pn.container.register("doubleOptIn",{useValue:Cn}),pn.doubleOptIn=pn.container.resolve("doubleOptIn");var In=function(){var e=pn.container.resolve("api"),n=pn.container.resolve("postmessage"),t=pn.container.resolve("util"),r=t.debounce((function(){new Promise((function(n,t){var r={aid:pn.aid};e.callApi(o,r,(function(e){e&&e.data&&n(e.data),t(e.message)}))})).then(i,a)}),1500),o="/externalVerification/synchronizeSubscriptions",i=function(e){n.broadcast("NEWSCYCLE_HAS_BEEN_SYNCHRONIZED_SUCCESS",{data:e})},a=function(e){t.error("newscycle module: sync request failed with error: "+e)};return{name:"newscycle",syncSubscriptions:r}}();pn.container.register("newscycle",{useValue:In}),pn.newscycle=pn.container.resolve("newscycle");var Sn=function(){var e=pn.container.resolve("ajax"),n=pn.container.resolve("postmessage"),t=pn.container.resolve("util"),r={enabled:!1,captcha3_site_key:"",aid:""},o=function(n){e.request({url:tp.getApiEndpoint()+"/anon/captcha/get.js",data:{aid:tp.aid},dataType:"jsonp",jsonpCallback:"jsonpCallback",cache:!0,success:function(e){!function(e,n){e.config&&e.config.enabled?(r=e.config,n&&n()):e.message&&t.error(e.message)}(e,n)}})};function i(){window.grecaptcha.ready(a),c()}var a=function(){var e=document.createElement("div");e.id="tp-recaptcha",document.body.appendChild(e),window.grecaptcha.render("tp-recaptcha",{sitekey:r.captcha3_site_key,size:"invisible","error-callback":function(){e.style.display="none"}})},s=function(){window.onCaptchaV3Load=i;var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js?onload=onCaptchaV3Load&render=explicit",e.type="text/javascript",e.async=!0,e.defer=!0,document.head.appendChild(e)},c=function(){n.subscribe("get-captcha-v3-enabled",(function(){l()})),n.subscribe("get-captcha-v3-token",(function(e){window.grecaptcha.ready((function(){return u(e.params.action)}))}))},l=function(){n.broadcast("captcha-v3-enabled-value",{isEnabled:r.enabled})},u=function(e){window.grecaptcha.execute({action:e}).then((function(e){n.broadcast("captcha-v3-token",{token:e})})).catch((function(){n.broadcast("captcha-v3-token",{token:""})}))};return{name:"captchaV3",addCaptchaV3:function(){o(s)}}}();pn.container.register("captchaV3",{useValue:Sn}),pn.captchaV3=pn.container.resolve("captchaV3");var xn=function(e){void 0===e&&(e=pn.container);var n=e.resolve("log"),t=e.resolve("postmessage"),r=e.resolve("api"),o=e.resolve("util"),i=e.resolve("versionService"),a="EVENT_TP_ERROR_HANDLER",s="sdk",c=[],l=!0,u=function(e){if(h()&&!g(c,e)){e.tags||(e.tags=["unknown"]),e.aid=pn.aid,e.v=i.getTinypassVersion();var n={details:e};c.push(n)}};var d=function(e){var n=e.params;Array.isArray(n)&&n.forEach((function(e){u(e)}))};function p(e){var n,t;if(e.message.toLowerCase().indexOf("script error")>-1)u({message:"Probably that is Piano error.",url:window.location.href,tags:[s]});else{var r=null==e?void 0:e.error;if(v(null==r?void 0:r.stack))return!1;u({stack:null!==(n=null==r?void 0:r.stack)&&void 0!==n?n:"n/a",message:null!==(t=null==r?void 0:r.message)&&void 0!==t?t:"n/a",userAgent:navigator.userAgent,tags:[s]})}return!1}var f=function(){setInterval((function(){m(),l=!1}),15e3)},m=function(){var e=c.filter((function(e){return!e.send}));if(0!==e.length){var t=e.map((function(e){return e.details})),o={type:"console-error-message",srcType:"ts",log_message:JSON.stringify(t)};n.logBeaconRequest(r.getEndpoint()+"/anon/error/log",o),e.forEach((function(e){return e.send=!0}))}},g=function(e,n){var t=e.map((function(e){return JSON.stringify(e.details)})),r=JSON.stringify(n);return-1!==t.indexOf(r)},v=function(e){return-1===(null==e?void 0:e.indexOf("tinypass"))},h=function(){return!!o.__protected__.getLocalStorageItem("tinypassErrorHandlerTestMode")||0===w(0,1e3)},w=function(e,n){var t=e-.5+Math.random()*(n-e+1);return Math.round(t)},y=function(e,n){return void 0===e&&(e=[]),n?e.concat(n):e};return{name:"tinypassErrorHandler",addError:function(e,n){try{var t={place:n,tags:[s]};e instanceof Error?(t.stack=e.stack,t.message=e.message):t.stack=JSON.stringify(e),l&&(t.tags=y(t.tags,"initError")),u(t)}catch(e){}},initialize:function(){try{pn.isSandbox()||(t.subscribe(a,d),null===(e=window.addEventListener)||void 0===e||e.call(window,"error",p),f())}catch(e){console.warn("Cannot start watching errors",e)}var e}}};pn.container.register("tinypassErrorHandler",{useValue:xn()}),pn.tinypassErrorHandler=pn.container.resolve("tinypassErrorHandler");var Pn=function(e){void 0===e&&(e=pn.container);var n=e.resolve("api"),t=e.resolve("cookie"),r=e.resolve("log"),o=e.resolve("jqUtils"),i=e.resolve("util"),a=e.resolve("logging"),s=e.resolve("fingerprint"),c=e.resolve("user"),l=e.resolve("sha1"),u=e.resolve("activetimer"),d=e.resolve("scrollDepth"),p=e.resolve("doubleClickForPublisher"),f=e.resolve("offer"),m=e.resolve("viewportExit"),g=e.resolve("idle"),v=e.resolve("experience"),h=e.resolve("pianoId"),w=e.resolve("pianoEsp"),y=e.resolve("applePayIntegrationService"),b=e.resolve("datatransApplePayIntegrationService"),k=e.resolve("cxense");e.resolve("tinypassErrorHandler");var _=e.resolve("captchaV3"),C=pn.container.resolve("postmessage"),I="exrs",S=null,x="voucher_code",P="__pvi",E=!1,T=!1,A={},M=null,O=k.__protected__.getOrGenerateCxCompatibleBid(),R={APPLE_PAY_BT:25,APPLE_PAY_SS:38,APPLE_PAY_STRIPE:41,APPLE_PAY_PW:42,DATATRANS_APPLE_PAY:61},L=new Set(Object.values(R)),N=void 0,U=[],j=!1,D=!1,F=function(){if("iP"===navigator.platform.substr(0,2)){var e=/constructor/i.test(window.HTMLElement),n=window.navigator,t=n.userAgent,r=!!window.indexedDB;if(-1===t.indexOf("Safari")||-1===t.indexOf("Version")||n.standalone){if(!r&&e||!window.statusbar.visible);else if(window.webkit&&window.webkit.messageHandlers||!e||r)return!0}else;}return!1}();var B,V,q,z=function(){var e;try{e=JSON.parse(i.__protected__.getCookie(P))}catch(n){e={}}return e},H=function(){return i.getCurrentDomainFromCookie(P)},W=function(e,n){var t=A;A={};var r={};for(var o in t)if(t.hasOwnProperty(o))for(var i in r[o]=r[o]||[],t[o])t[o].hasOwnProperty(i)&&r[o].push(t[o][i]);be(r,e,n)},J=function(){if(v.execute.invokeCount>0){var e=G();return Ce()&&Ie(re(),e,pn.cxenseSiteId),e}return Ce()?k.__protected__.tryToGetCxPageViewId(Se()):G()};function G(){function e(e,n,t){t=t||"0";var r=String(e);return r.length>=n?r:new Array(n-r.length+1).join(t)+r}if(Ce())return Se();var n=i.randomString(16),t=l.hash([s.getFingerprint(),window.location.href].join("")),r=new Date;return[[e(r.getFullYear(),4),e(r.getMonth()+1,2),e(r.getDate(),2),e(r.getHours(),2),e(r.getMinutes(),2),e(r.getSeconds(),2),e(r.getMilliseconds(),3)].join("-"),n,t].join("-")}var Q=function(e){var n={path:"/",expires:1,domain:V.currentDomain};return e&&(n.domain=e),n},X=function(e,n){e.domain=n.domain,e.time=(new Date).getTime(),i.__protected__.setCookie(P,JSON.stringify(e),n)},$=function(e){var n=(new Date).getTime(),t=6e4*i.getBrowserTimezoneOffset(),r=i.getAppTimezoneOffset(),o=new Date(e.time).setHours(0,0,0,0)+864e5-t-r;return e.time+18e5<n||n>=o},Y=function(){if(i.__protected__.cameFromFbSubscriptions())return!1;if(!V.currentDomain)return!1;var e=i.getReferrer();if(M&&M===e)return!1;var n=i.getHostname(e),t=new RegExp(V.currentDomain.replace(/\./g,"\\.").replace(/^\\./,"\\.?")+"$").test(n);return Boolean(n)&&!t},K=function(){var e=z();(!e||!e.id||!e.time||$(e)||Y())&&(e.id="v-"+G()),function(e){var n=Q();e.domain||V.currentDomain?X(e,n):i.waitCall("domainIsReceived",(function(t){ce(t),n.domain=t,X(e,n)}))}(e),V.visit=e},Z=function(e,n,t){var r,a,c="manual";if(void 0===n)n=window.location.href;else{if("object"!=typeof n)throw new Error("First parameter to track page must be a URL or an object");var l=n;if(void 0===l.url)throw new Error("Must supply url property");n=l.url,void 0!==l.tags&&(t=l.tags),void 0!==l.submitType&&(c=l.submitType)}t||(t=pn.tags),pn.customPageUrl&&(e.custom_page_url=i.prepareUrlParameter(pn.customPageUrl)),void 0!==t?"[object Array]"!==Object.prototype.toString.call(t)&&"[object String]"!==Object.prototype.toString.call(t)?(i.log("Tags must be an array or a comma-separated string, ignoring supplied tags"),t=""):t instanceof Array&&(t=t.join(",")):t="",q.track(),e.page_session_id=q.pageSessionId,e.track_count=q.trackCount,we(e),pn.contentCreated?a=pn.contentCreated:pn.contentCreatedSelector&&o.queryEl(pn.contentCreatedSelector)&&(a=null===(r=o.queryEl(pn.contentCreatedSelector))||void 0===r?void 0:r.innerHTML),a&&(e.content_created=a),"boolean"==typeof pn.contentIsNative&&(e.content_is_native=pn.contentIsNative),pn.zone&&(e.zone=pn.zone),pn.itemId&&(e.item_id=pn.itemId);var u=pn.contentSection||se("section");u&&(e.content_section=u);var d=pn.contentAuthor||se("author");d&&(e.content_author=d);var p=pn.contentId||se("id");p&&(e.content_id=p);var f,m=i.__protected__.getCookie("sailthru_hid");m&&(e.sailthru_hid=m),M&&M===i.getReferrer()?f="":(f=i.getReferrer(),M=f),e.referer=i.prepareUrlParameter(f),t&&(e.tags=t),e.url=i.prepareUrlParameter(n),e.fingerprint=s.getFingerprint(),e.adblocker=i.getAdblockStatus(),e.adblocker!==i.ADBLOCKER_STATUS.ENABLED_AFTER_DISABLED&&e.adblocker!==i.ADBLOCKER_STATUS.ENABLED||(pn.setCustomParam("_abr",i.getAdblockerStatusReason(),"user",!0),pn.setCustomParam("_absh",i.getAdblockerHistoryCookieInfo().cookieValue+"","user",!0)),e.timezone_offset=i.getBrowserTimezoneOffset(),e.submit_type=c;var g=ae();return e.visit_id=g,e.new_visit=oe(g),e.keywords=o.getAttr('meta[name="keywords"]',"content")||o.getAttr('meta[name="news_keywords"]',"content")||"",e.title=o.getAttr('meta[property="og:title"]',"content")||"",e.description=o.getAttr('meta[property="og:description"]',"content")||"",e.content_type=o.getAttr('meta[property="og:type"]',"content")||"",["keywords","title","description","content_type"].forEach((function(n){e[n]=e[n].substr(0,8192)})),e.custom_variables=JSON.stringify(pn.customVariables),ne(e),e},ee=function(){var e={aid:pn.aid},n=i.getTbcCookie(),t={active:u.getActiveTimeInSeconds(),total:u.getTotalTimeInSeconds()};n&&(e.tbc=n),t.total<t.active&&(t.total=t.active),e.time_spent=JSON.stringify(t),e.scroll=JSON.stringify({max_page_height:d.getMaxDocumentHeight(),max_depth:d.getMaxScrollDepth()}),e.viewport_exit=m.getSumOfCodesDirection(),e.url=i.prepareUrlParameter(window.location.href),we(e),e.visit_id=ae(),ie();var r={},a=p.getAds(200);return a.length&&(r.dfp=a),o.isEmptyObject(r)||(e.ads=JSON.stringify(r)),e},ne=function(e){var n={};return pn.customParams&&(n=o.deepExtend({},pn.customParams)),o.isEmptyObject(n)||(e.custom_params=JSON.stringify(n)),e},te=function(){return q.id},re=function(){return O},oe=function(e){var n=V.lastTrackedVisitId!==e;return V.lastTrackedVisitId=e,n},ie=function(){V.checkForRefresh=!0},ae=function(){return V.checkForRefresh&&(K(),V.checkForRefresh=!1),V.visit.id},se=function(e){return(document.head.querySelector("meta[name="+e+"]")||{}).content},ce=function(e){V.currentDomain=e},le=function(){return!(pn.endpoint&&pn.endpoint.match(/sandbox/))},ue=function(e,t,r,o){pn.aid&&0!==pn.aid.length?le()&&i.waitCall("refreshAccessTokenList",(function(){i.waitCall("offerCreate",(function(){a.setTime("track"),i.startCall("pageTrack"),n.callApi(e,t,(function(e){i.doneCall("pageTrack"),r&&r(e)}),pn.getTrackingEndpoint()+"/api/v3",o)}))})):i.log("Must supply a valid tp.aid before calling tp.init()")},de=function(){E&&q.trackCount>0&&(pe(),he())},pe=function(e){if(le())try{var n=ee();m.isInitialized()&&m.resetSumOfCodesDirectionToDefault(),r.logBeaconRequest(pn.getTrackingEndpoint()+"/api/v3/page/unload",n),ge()}catch(e){i.error("main: error on tracking page unload event: ",e)}},fe=function(){T||(T=!0,pe())},me=function(){E=!0},ge=function(){E=!1},ve=function(){E&&fe(),W(!0,"beacon_request"),v.__protected__.sendStatisticsExecutedNodes("unload")},he=function(){u.resetRecordedTime()},we=function(e){e&&(e.pageview_id=te())},ye=function(e,n){if(le())try{de();var t=Z({},e,n);ue("/page/track",t),me()}catch(e){i.error("main: error on page tracking event: ",e)}},be=function(e,n,t){},ke=function(){var e=i.getQueryParamByName(x);e&&f.startRedeemVoucher({voucherCode:e})},_e=function(){return S||(S=new Promise((function(e){if(null!==i.__protected__.getLocalStorageItem(I)&&e({has_active_apple_pay_card:i.__protected__.getLocalStorageItem(I)}),!pn.applePayMerchantId)return e({has_active_apple_pay_card:null}),S;Pe().then((function(n){var t=function(n){e({has_active_apple_pay_card:n}),i.__protected__.setLocalStorageItem(I,n,7200)};n?y.__protected__.applePayCanMakePaymentsWithActiveCard().then(t):t(null)}))})),S)};function Ce(){return k.__protected__.isActivated()}var Ie=function(e,n,t){return k.__protected__.injectIds(!1,e,n,t)},Se=function(){return i.__protected__.randomStringCxCompatible()};function xe(e){return function(n){var t=n.params;void 0===N&&(N=function(e){if(!Array.isArray(e)||!e.length)return!1;for(var n=0,t=e;n<t.length;n++){var r=t[n];if(L.has(r))return!0}return!1}(t)),U=t||[],e(N)}}function Pe(){return void 0!==N?Promise.resolve(N):F?(N=!1,Promise.resolve(!1)):new Promise((function(e){v.registerCallback("experienceFlow",(function(){N=!0,e(!0)})),C.subscribe("ACTIVE_PAYMENT_METHODS_IDS_INITIALIZED",xe(e)),C.subscribe("MY_ACCOUNT_ACTIVE_PAYMENT_METHODS_IDS_INITIALIZED",xe(e))}))}return{name:"main",fetchVisitId:ae,trackPageUnloadIfNecessary:de,externalResourcesDelay:_e,pageTrack:ye,trackPage:function(e,n){return ye(e,n)},buildPageTrackParams:Z,fetchPageViewId:te,fetchCxBrowserId:re,trackPageUnload:pe,registerTrackUnload:me,isRegisteredTrackUnload:function(){return E},unregisterTrackUnload:ge,resetTimer:he,resetAds:function(){p.resetAds()},trackAd:function(e,n,t){A[e]||(A[e]={}),A[e][n]=t,B()},init:function(){if(pn.aid&&0!==pn.aid.length){var e,n,t;B=i.debounce(W,3e3),V={currentDomain:H(),lastTrackedVisitId:z().id,visit:{},checkForRefresh:!1},q={id:J(),pageSessionId:"s-"+G(),trackCount:0,tracked:!1,track:function(){q.tracked?q.id=J():q.tracked=!0,q.trackCount++}},Ce()&&(e=re(),n=te(),t=pn.cxenseSiteId,k.__protected__.injectIds(!0,e,n,t)),K(),pn.isMockMode||(o.isFunction(p.initialize)&&p.initialize(),o.isFunction(u.initialize)&&u.initialize(),o.isFunction(d.initialize)&&d.initialize()),o.isFunction(g.initialize)&&g.initialize(),Pe().then((function(e){e&&(!j&&o.isFunction(y.initialize)&&(j=!0,y.initialize()),D||-1!==U.indexOf(R.DATATRANS_APPLE_PAY)&&o.isFunction(b.initialize)&&(D=!0,b.initialize()))})),o.isFunction(w.__protected__.init)&&setTimeout((function(){w.__protected__.init().catch((function(){}))}),5e3),o.isFunction(c.refreshAccessToken)&&c.refreshAccessToken(),_e();var r=c.getProvider();r&&o.isFunction(r.extendUserToken)&&r.extendUserToken(),o.on(window,"beforeunload",(function(){return ve()})),o.on(window,"unload",(function(){return ve()})),_.addCaptchaV3()}else i.log("Must supply a valid tp.aid before calling tp.init()")},checkToRunWidgetImmediately:function(){var e;ke(),(e=i.getQueryParamByName("verification_code"))&&"pianoId"===c.getProvider().name&&i.waitCall("offerCreate",(function(){h.isUserValid()?h.__protected__.showEmailConfirmation({verification_code:e}):h.show({verification_code:e})})),h.checkAndShowEmailIsNotConfirmed(),o.isFunction(f.checkThreeDSRedirect)&&f.checkThreeDSRedirect()},trackAds:be,appHasApplePay:function(){return N},__private__:{VISIT_ID_COOKIE:P,VOUCHER_QUERY:x,collectedAds:A,unloadRegistered:E,unloadTriggered:T,getPageView:function(){return q},getVisitContainer:function(){return V},track:ue,checkVoucher:ke,setPageViewId:we,currentEnvironmentSupportsPageTrack:le,buildPageUnloadParams:ee,invalidateLastVisit:function(){var e=Q();t.remove(P,e)},getCurrentDomain:H,loadLastVisit:z,setVisitCurrentDomain:ce,saveVisitCookie:X,getVisitCookieOptions:Q,isTimeExpired:$,refreshVisit:K,generatePageViewId:G,trackCollectedAds:W,unloadHandler:ve,unloadAction:fe,buildPageCustomParams:ne,hasExternalReferrer:Y}}};pn.container.register("main",{useValue:Pn()}),pn.main=pn.container.resolve("main");var En={predefineValues:[]};window.tp&&window.tp.length&&(En.predefineValues=_e([],window.tp||[],!0)),pn.tpPredefinedOptions=En,pn.container.register("tpPredefinedOptions",{useValue:En});var Tn=function(){function e(e,n,t,r,o){this.tpPredefinedOptions=e,this.css=n,this.tinypassErrorHandler=t,this.gaService=r,this.utilService=o,this.fullTPVersion=!1,this.isInitialized=!1,this.aid="",this.isSensitiveDataProtectionEnabled=!1,this.affiliateTokenName="affiliateToken",this.cxCdnUrl="https://cdn.cxense.com",this.c1XLoadCce=!0,this.c1XIntegrationVersion="v2",this.cxenseLibAwaitingTimeout=0,this.cxenseLibAwaitingRetryCount=0,this.trackPages=!0,this.debug=!1,this.userRef="",this.usePianoIdLiteUserProvider=!1,this.useTinypassAccounts=!1,this.useCondeUserProvider=!1,this.useGigyaUserProvider=!1,this.usePianoIdUserProvider=!1,this.useAidSpecifiedCookies=!1,this.sandbox=!1,this.zIndexes={backdrop:3e5,modal:300050,close:300100},this.customPreChecks=[],this.customParams={},this.externalLibraries=[],this.externalLibrariesCallbacks=[],this.customVariables={},this.locale="",this.trackPageView=!0,this.redirectToFbTimeout=3,this.isDoubleOptInCheckOnAccessCheckEnabled=!1,this.isMockMode=!1,this.inappBrowserReturn=!1,this.events=[],this.appList=[],this.cacheableShowTemplate=!0,this.initCallbacks=[],this.mainModuleInited=!1,this.restCallbacks=[],this.initTries=0,this.callbacks=[],n.loadOfferCss()}return e.prototype.initTp=function(){var e=this;try{var n=this.tpPredefinedOptions.predefineValues;if(this.tpPredefinedOptions.predefineValues=[],n.forEach((function(n){"function"==typeof n[1]?"init"===n[0]?e.initCallbacks.push(n[1]):e.restCallbacks.push(n):"init"===n[1]&&"function"==typeof n[2]?e.initCallbacks.push(n[2]):e.push(n)})),!this.aid&&this.initTries<10)return this.initTries++,void setTimeout((function(){return e.initTp()}),50);if(!this.aid)return;for(this.tinypassErrorHandler.initialize();this.restCallbacks.length;)try{var t=this.restCallbacks.shift();this.push(t)}catch(e){console.error(e),pn.tinypassErrorHandler.addError(e)}this._init(),this.externalLibraries.length&&this.realizeExternalLibraries(),this.isInitialized=!0,window.___tp=function(){}}catch(e){pn.tinypassErrorHandler.addError(e,"initTP")}},e.prototype.realizeExternalLibraries=function(){var e=this,n=[];this.externalLibraries.forEach((function(t){var r=e.requireJsFile(t);n.push(r)})),Promise.all(n).then((function(){if(e.externalLibraries=[],e.externalLibrariesCallbacks)for(var n=0;n<e.externalLibrariesCallbacks.length;++n)Mn.externalLibrariesCallbacks[n]();Mn.externalLibrariesCallbacks=[]}))},e.prototype.push=function(){for(var e,n,t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];for(e=0;e<r.length;e++)if("string"==typeof(n=(t=r[e]).shift())||n instanceof String){if(!this[n])return void console.error("Undefined method "+n);this[n].apply(this,t)}else n.apply(this,t)},e.prototype.init=function(e){this.isInitialized?(this.mainModuleInited||(this.mainModuleInited=!0,this.initMainModuleAfterInitCbk()),e&&e()):(e&&this.tpPredefinedOptions.predefineValues.push(["init",e]),this.initTp())},e.prototype._init=function(){if(pn.util&&pn.util.hasQueryParamByName&&pn.util.hasQueryParamByName("xpdebug")&&pn.setDebug(!0),pn.util.setTpccCookies(),pn.util.isSafariOrIOsUiWebView()&&!pn.user.isUserValid()&&pn.util.getQueryParamByName("userToken")){var e=pn.util.getQueryParamByName("cookieDomain"),n=pn.util.getQueryParamByName("userToken"),t=pn.util.getQueryParamByName("tokenListValue");pn.util.setAccessTokenListCookie({cookie_domain:e,value:t},n),pn.util.removeQueryParamByName("userToken"),pn.util.removeQueryParamByName("cookieDomain"),pn.util.removeQueryParamByName("tokenListValue")}if(this.mainModuleInited||(this.mainModuleInited=!0,this.initMainModuleAfterInitCbk()),!this.aid){var r=new Error("Incorrect aid integration: "+Mn.aid+" url: "+window.location.href);this.tinypassErrorHandler.addError(r)}pn.logging.setTime("completeInit")},e.prototype.initMainModuleAfterInitCbk=function(){for(pn.user.providerInit(),this.appList.indexOf(this.aid)<0&&(this.appList.push(this.aid),pn.main.init());this.initCallbacks.length;)try{this.initCallbacks.shift()()}catch(e){console.error(e),pn.tinypassErrorHandler.addError(e)}if(pn.main.checkToRunWidgetImmediately(),this.events){for(var e=0;e<this.events.length;e++)this.events[e]();this.events=[]}},e.prototype.requireJsFile=function(e){return new Promise((function(n,t){var r=document.createElement("script");r.onload=n,r.onerror=n,r.type="text/javascript",r.charset="utf-8",r.async=!0,r.src=e,document.getElementsByTagName("head")[0].appendChild(r)}))},e.prototype.setAid=function(e){this.aid=e},e.prototype.enableSensitiveDataProtection=function(e){this.isSensitiveDataProtectionEnabled=e},e.prototype.reload=function(){location.href=pn.util.removeVoucherCodeFromUrl(location.href)},e.prototype.removeSharedAccountCodeFromUrl=function(){location.href=pn.util.removeSharedAccountCodeFromUrl(location.href)},e.prototype.setGAClientId=function(e){this.gaClientId=e,this.gaService.recreateWithClientId(e)},e.prototype.getGAClientId=function(){return this.gaClientId},e.prototype.enableGACrossDomainLinking=function(e){var n=this;this.gaCrossDomainLinking=!0;var t=Date.now(),r=function(){var o=window.ga;if(o&&"function"==typeof o)try{o((function(t){if(void 0!==t&&void 0===e)n.setGAClientId(t.get("clientId"));else if(void 0!==e)for(var r=o.getAll(),i=0;i<r.length;i++){var a=r[i];if(a.get("trackingId")===e){n.setGAClientId(a.get("clientId"));break}}}))}catch(e){}else Date.now()-t<6e4&&setTimeout(r,500)};r()},e.prototype.setTags=function(e){this.tags=e instanceof Array?e.join(","):e},e.prototype.setCookieDomain=function(e){"."!==e[0]&&(e="."+e),this.cookieDomain=e},e.prototype.setCookiePath=function(e){this.cookiePath=e},e.prototype.setDontScrollTopModal=function(e){this.dontScrollTopModal=e},e.prototype.setUseExperience=function(e){this.useExperience=e},e.prototype.setExperimentalIosModal=function(e){this.experimentalIosModal=e},e.prototype.setApplePayMerchantId=function(e){this.applePayMerchantId=e},e.prototype.setContentIsNative=function(e){this.contentIsNative=e},e.prototype.setComposerHost=function(e){this.composerHost=e},e.prototype.setEndpoint=function(e){this.endpoint=e},e.prototype.setAffiliateTokenName=function(e){this.affiliateTokenName=e},e.prototype.setEspEndpoint=function(e){this.espEndpoint=e},e.prototype.setCxCdnUrl=function(e){this.cxCdnUrl=e},e.prototype.setC1XLoadCce=function(e){this.c1XLoadCce=e},e.prototype.setC1XIntegrationVersion=function(e){this.c1XIntegrationVersion=e},e.prototype.setCxenseSiteId=function(e){this.cxenseSiteId=e},e.prototype.setCxenseLibAwaitingTimeout=function(e){this.cxenseLibAwaitingTimeout=e},e.prototype.setCxenseLibAwaitingRetryCount=function(e){this.cxenseLibAwaitingRetryCount=e},e.prototype.setContentId=function(e){this.contentId=e},e.prototype.setTrackPages=function(e){this.trackPages=e},e.prototype.setDebug=function(e){this.debug=e},e.prototype.setUserRef=function(e){this.userRef=e},e.prototype.setUsePianoIdLiteUserProvider=function(e){this.usePianoIdLiteUserProvider=e},e.prototype.setExternalJWT=function(e){this.externalJWT=e},e.prototype.getExternalJWT=function(){return this.externalJWT},e.prototype.setUseTinypassAccounts=function(e){this.useTinypassAccounts=e},e.prototype.setUseCondeUserProvider=function(e){this.useCondeUserProvider=e},e.prototype.setUseGigyaUserProvider=function(e){this.useGigyaUserProvider=e},e.prototype.setUsePianoIdUserProvider=function(e){this.usePianoIdUserProvider=e},e.prototype.setPianoIdUrl=function(e){this.pianoIdUrl=e},e.prototype.setItemId=function(e){this.itemId=e},e.prototype.setUseAidSpecifiedCookies=function(e){this.useAidSpecifiedCookies=e},e.prototype.setSandbox=function(e){this.sandbox=e},e.prototype.setContentCreatedSelector=function(e){this.contentCreatedSelector=e},e.prototype.setContentCreated=function(e){this.contentCreated=e},e.prototype.setContentAuthor=function(e){this.contentAuthor=e},e.prototype.setContentSection=function(e){this.contentSection=e},e.prototype.setZone=function(e){this.zone=e||""},e.prototype.isNonProdEndpoint=function(){return"sandbox"===this.endpoint||/^https?:\/\/(.*sandbox.*|\d+\.dev)\.(tinypass\.com|piano\.io)/i.test(this.endpoint)},e.prototype.setZIndexes=function(e){this.zIndexes=e},e.prototype.setCustomPreCheck=function(e){this.customPreChecks.push(e)},e.prototype.setCustomParam=function(e,n,t,r){var o=["content","user","request"];if(t||(t="content"),t=t.toLowerCase(),o.indexOf(t)<0)throw new Error("Undefined scope "+t+"\nAvailable scopes: "+o.join(", "));void 0===this.customParams[t]&&(this.customParams[t]={}),(void 0===this.customParams[t][e]||r)&&(this.customParams[t][e]=[]);for(var i=[].concat(n),a=0;a<i.length;a++){if("string"!=typeof i[a])throw new Error("setCustomParam accept only string values or array of strings");this.customParams[t][e].push(i[a])}},e.prototype.resetCustomParam=function(e){e||(e="content"),delete this.customParams[e]},e.prototype.addExternalLibrary=function(e,n){if("string"==typeof e)this.externalLibraries.push(e);else for(var t=0;t<e.length;++t)this.externalLibraries.push(e[t]);n&&this.externalLibrariesCallbacks.push(n),this.isInitialized&&this.realizeExternalLibraries()},e.prototype.setCustomVariable=function(e,n){this.customVariables[e]=n},e.prototype.saveCustomVariablesToLocalStorage=function(e){if(this.customVariables&&"localStorage"in window&&null!==window.localStorage){var n="__tp-customVariables";window.localStorage.setItem(n,JSON.stringify(this.customVariables)),e&&window.localStorage.setItem(n+"-expiration",Math.floor((new Date).getTime()/1e3)+e+"")}},e.prototype.restoreCustomVaribalesFromLocalstorage=function(){if("localStorage"in window&&null!==window.localStorage){var e=Mn.util.__protected__.getLocalStorageItem("customVariables");if(Mn.util.__protected__.removeLocalStorageItem("customVariables"),e)for(var n in e)this.customVariables[n]=e[n]}},e.prototype.handler=function(e,n){var t=this.registerPrefixedEvents;return function(){for(var r,o=[pn.offer,pn.template,pn.meter,pn.experience,pn.myaccount,pn.pianoId,pn.tinypassLogin,pn.swg,pn.user,pn.credit],i=0;i<o.length;i++){var a=o[i];if(a){var s=a.registerCallback(e,n);void 0!==s&&(r=s),void 0!==(s=t(a,e,n))&&(r=s)}}return r}},e.prototype.registerPrefixedEvents=function(e,n,t){for(var r,o,i,a=[{module:"offer",prefix:"checkout"},{module:"pianoId",prefix:"pianoId"}],s=0;s<a.length;s++){var c=a[s];e.name===c.module&&n.substring(0,c.prefix.length)===c.prefix&&(r=n.substring(c.prefix.length,c.prefix.length+1).toLowerCase()+n.substring(c.prefix.length+1,n.length),void 0!==(o=e.registerCallback(r,t))&&(i=o))}return i},e.prototype.addHandler=function(e,n){var t=this.handler(e,n);this.isInitialized?t():this.events.push(t)},e.prototype.setTrackPageview=function(e){this.trackPageView=e},e.prototype.setLocale=function(e){var n=this;this.locale=e,this.utilService.__protected__.setCookie("LANG",this.locale),this.isInitialized?this.changeLocale(e):this.initCallbacks.push((function(){n.changeLocale(e)}))},e.prototype.setPageURL=function(e){this.customPageUrl=e},e.prototype.setAdblockerCookieName=function(e){this.adblockerCookieName=e},e.prototype.setMaxCookieExpirationInDays=function(e){var n="string"==typeof e?parseInt(e,10):e;if(!(isFinite(n)&&n>0))throw new Error("maxCookieExpirationInDays must be a positive number");this.maxCookieExpirationInDays=n},e.prototype.getMaxCookieExpirationInDays=function(){return this.maxCookieExpirationInDays},e.prototype.setFbPixelId=function(e){this.fbPixelId=e},e.prototype.getFbPixelId=function(){return this.fbPixelId},e.prototype.setRedirectToFbTimeout=function(e){this.redirectToFbTimeout=e},e.prototype.enableDoubleOptInCheckOnAccessCheck=function(){this.isDoubleOptInCheckOnAccessCheckEnabled=!0},e.prototype.setCloudflareWorkerUrl=function(e){this.cloudflareWorkerUrl=e},e.prototype.getEndpoint=function(e,n){return e.lastIndexOf("/")===e.length-1&&(e=e.substr(0,e.length-1)),e.match(/\/v3$/)&&(e=e.substr(0,e.lastIndexOf("/v3"))),e.match(/\/api$/)&&(e=e.substr(0,e.lastIndexOf("/api"))),e.match(/^(http[s]?:)?\/\//)||(e="//"+e),void 0!==n&&n&&!e.match(/^http[s]?:/)&&(e="https:"+e),e},e.prototype._getEndpointRoot=function(e){var n="https://buy.tinypass.com";return!0===this.sandbox&&(this.endpoint="sandbox"),this.endpoint&&("sandbox"===this.endpoint?n="https://sandbox.tinypass.com":"prod"!==this.endpoint&&"production"!==this.endpoint&&(n=this.endpoint)),this.getEndpoint(n,e)},e.prototype._getApiEndpoint=function(){return this._getEndpointRoot()+"/api/v3"},e.prototype._getTrackingEndpoint=function(e){void 0===e&&(e="");var n=e||this.endpoint;return!0===this.sandbox?n="https://sandbox.tinypass.com":(void 0===this.endpoint||null===this.endpoint||""===this.endpoint||"prod"===this.endpoint||"production"===this.endpoint||this.endpoint.match(/(buy|api|api-v3)\.tinypass\.com/))&&(n=e||"https://api-v3.tinypass.com"),this.getEndpoint(n,!0)},e.prototype._getExperienceEndpoint=function(e){var n="https://c2.piano.io";return this.composerHost?n=this.composerHost:(!0===this.sandbox&&(this.endpoint="sandbox"),this.endpoint&&("sandbox"===this.endpoint?n="https://c2-sandbox.piano.io":"prod"!==this.endpoint&&"production"!==this.endpoint&&(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=this.endpoint).replace("//buy.tinypass.com","//c2.piano.io")).replace("//api.tinypass.com","//c2.piano.io")).replace("//buy-au.piano.io","//c2-au.piano.io")).replace("//api-au.piano.io","//c2-au.piano.io")).replace("//buy-ap.piano.io","//c2-ap.piano.io")).replace("//api-ap.piano.io","//c2-ap.piano.io")).replace("//buy-eu.piano.io","//c2-eu.piano.io")).replace("//api-eu.piano.io","//c2-eu.piano.io")).replace("//sandbox.tinypass.com","//c2-sandbox.piano.io")).replace("//sandbox.piano.io","//c2-sandbox.piano.io")).replace("//experience-au.piano.io","//c2-au.piano.io")).replace("//experience-eu.piano.io","//c2-eu.piano.io")).replace("//experience-ap.piano.io","//c2-ap.piano.io")).replace("//experience.tinypass.com","//c2.piano.io")).replace("//buy.piano.io","//c2.piano.io")).replace("//api.piano.io","//c2.piano.io")).replace("//experience.piano.io","//c2.piano.io")))),this.getEndpoint(n,e)},e.prototype._isSandbox=function(){return this.sandbox||"sandbox"===this.endpoint||!!this.endpoint&&-1!==this.endpoint.indexOf("//sandbox.tinypass.com")},e.prototype.changeLocale=function(e){pn.pianoId.isConfigured()&&pn.pianoId.updateLang(e),pn.postmessage.broadcast("langChanged",{lang:e})},e.prototype.pageTrack=function(e,n){pn.main.pageTrack(e,n)},e.prototype.trackPage=function(e,n){pn.main.pageTrack(e,n)},e.prototype.trackPageUnload=function(){pn.main.trackPageUnload()},e.prototype.trackAds=function(e){pn.main.trackAds(e)},e.prototype.trackAd=function(e,n,t){pn.main.trackAd(e,n,t)},e.prototype.onLoad=function(e){this.callbacks.push(e)},e.prototype.getEndpointRoot=function(e){return this._getEndpointRoot(e)},e.prototype.getExperienceEndpoint=function(e){return this._getExperienceEndpoint(e)},e.prototype.getApiEndpoint=function(){return this._getApiEndpoint()},e.prototype.getTrackingEndpoint=function(e){return void 0===e&&(e=""),this._getTrackingEndpoint(e)},e.prototype.isSandbox=function(){return this._isSandbox()},e.prototype.setCacheableShowTemplate=function(e){this.cacheableShowTemplate=e},e.prototype.getCacheableShowTemplate=function(){return this.cacheableShowTemplate},e=function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a}([pn.singleton(),be(0,pn.inject("tpPredefinedOptions")),be(1,pn.inject("css")),be(2,pn.inject("tinypassErrorHandler")),be(3,pn.inject("gaService")),be(4,pn.inject("util")),ke("design:paramtypes",[Object,Object,Object,Object,Object])],e),e}();pn.container.registerSingleton("tinypass",Tn);var An=pn.container.resolve("tinypass");[{n:"polyfill",hM:!1},{n:"predefine",hM:!1},{n:"predefineTinypass",hM:!1},{n:"checkTinypass",hM:!1},{n:"css",hM:!0},{n:"ajax",hM:!0},{n:"jqUtils",hM:!0},{n:"cookie",hM:!0},{n:"localStorage",hM:!0},{n:"versionService",hM:!0},{n:"itp",hM:!0},{n:"util",hM:!0},{n:"api",hM:!0},{n:"postmessage",hM:!0},{n:"eventUtils",hM:!0},{n:"janrain",hM:!0},{n:"sha1",hM:!0},{n:"containerUtils",hM:!0},{n:"tinypassLogin",hM:!0},{n:"tinypassAccounts",hM:!0},{n:"condeUserProvider",hM:!0},{n:"gigya",hM:!0},{n:"jwtDecode",hM:!0},{n:"log",hM:!0},{n:"logging",hM:!0},{n:"observer",hM:!0},{n:"gaService",hM:!0},{n:"pianoIdLite",hM:!0},{n:"pianoId",hM:!0},{n:"user",hM:!0},{n:"viewportExit",hM:!0},{n:"template",hM:!0},{n:"offer",hM:!0},{n:"myaccount",hM:!0},{n:"meter",hM:!0},{n:"fingerprint",hM:!0},{n:"scrollDepth",hM:!0},{n:"idle",hM:!0},{n:"interaction",hM:!0},{n:"recWidgetService",hM:!0},{n:"piano",hM:!0},{n:"pianoEsp",hM:!0},{n:"swg",hM:!0},{n:"fbpixel",hM:!0},{n:"fbsubscriptions",hM:!0},{n:"cxense",hM:!0},{n:"experience",hM:!0},{n:"ifvisible",hM:!0},{n:"activetimer",hM:!0},{n:"doubleClickForPublisher",hM:!0},{n:"applePay",hM:!0},{n:"goCardlessDropin",hM:!0},{n:"applePayIntegrationService",hM:!0},{n:"datatransApplePayIntegrationService",hM:!0},{n:"stripeApplePayIntegrationService",hM:!0},{n:"obi3DSChallenge",hM:!0},{n:"amp",hM:!0},{n:"performanceMetrics",hM:!0},{n:"doubleOptIn",hM:!0},{n:"newscycle",hM:!0},{n:"captchaV3",hM:!0},{n:"main",hM:!0},{n:"tinypassErrorHandler",hM:!0},{n:"tinypass",hM:!0},{n:"postProcessing",hM:!1}].forEach((function(e){e.hM&&!pn.container.isRegistered(e.n)&&pn.container.resolve(e.n)})),Object.assign(pn,An),Object.setPrototypeOf(pn,Tn.prototype);var Mn=window.tp=pn;pn.initTp(),console.log("Piano SDK 2.0 loaded.");e.cxense=ln,e.experience=un,e.jqUtils=de,e.log=Oe,e.main=Pn,e.offer=Ge,e.pianoEsp=on,e.pianoId=qe,e.postProcessing="postProcessing",e.tinypassErrorHandler=xn,e.user=He,e.util=Ce,Object.defineProperty(e,"__esModule",{value:!0})}({});


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ AdServer)
/* harmony export */ });
/* harmony import */ var _piano_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./piano/index */ "./src/piano/index.js");
/* harmony import */ var _piano_index__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_piano_index__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _piano_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./piano-adapter */ "./src/piano-adapter.ts");


if (_piano_index__WEBPACK_IMPORTED_MODULE_0__.pianoSDK) {
    console.log('sdk Loaded');
}
/**
 *
 *  When we decide to ad a new ad service we will have to change the type of adServicer
 *  Currently it is just reliant on the PianoAdapter, but it could be any adapter that responds to
 *  .init() and takes the lifecycle methods along with matchers/tags.
 *
 */
class AdServer {
    constructor({ afterAdRender = [], afterAdInit = [], beforeAdInit = [], matchers = [], thirdPartyCallbacks = [], tags = [], adServicer, }) {
        this.afterAdInit = afterAdInit;
        this.afterAdRender = afterAdRender;
        this.beforeAdInit = beforeAdInit;
        this.matchers = matchers;
        this.tags = tags;
        this.thirdPartyCallbacks = thirdPartyCallbacks;
        this.user = this.setUser();
        this.adServicer = this.setAdapter(adServicer);
    }
    /**
     * Sets up the adapter for our Ad Service
     * Adapters api:
     * To render an template it REQUIRES an init() method
     * To interact with third-party services the adapter constructor REQUIRES an interface to receive an array of callbacks.
     * To match on custom variables it MAY have tags, matchers, or user-state
     * Lifecycle methods can be fired from the AdServer class or passed through to the Adapter.
     *
     * @remarks
     * Piano lifecycle methods lives inside the window.tp object so we have to pass through callbacks.
     * @param adServicer
     * @returns Adapter Class
     */
    setAdapter(adServicer) {
        const pianoConfig = {
            afterRenderCallbacks: this.afterAdRender,
            matchers: this.matchers,
            tags: this.tags,
            thirdPartyCallbacks: this.thirdPartyCallbacks,
            user: this.user
        };
        switch (adServicer) {
            case "piano": {
                return new _piano_adapter__WEBPACK_IMPORTED_MODULE_1__["default"](pianoConfig);
            }
            case "atk": {
                //configure in house AdService
            }
            default: {
                return new _piano_adapter__WEBPACK_IMPORTED_MODULE_1__["default"](pianoConfig);
            }
        }
    }
    /**
     * @remarks
     * These methods are private and should be only called through #dispatchAd
     */
    executeBeforeAdInit() {
        this.beforeAdInit.forEach((cb) => cb());
    }
    executeAfterAdRender() {
        this.afterAdRender.forEach((cb) => cb());
    }
    executeAfterAdInit() {
        this.afterAdInit.forEach((cb) => cb());
    }
    /**
     * Gathers needed properties and creates a configuration obj
     *
     * @remarks
     * The user data could come from context or it could come from
     * @returns User
     */
    setUser() {
        return {};
    }
    /**
     * Execute advertisement and lifecycle methods.
     */
    dispatchAd() {
        this.executeBeforeAdInit();
        this.adServicer.init();
        this.executeAfterAdInit();
    }
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFDRCxvQkFBb0I7UUFDbEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUNELGtCQUFrQjtRQUNoQixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQ7Ozs7OztPQU1HO0lBQ0gsT0FBTztRQUNMLE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQztJQUVEOztPQUVHO0lBQ0gsVUFBVTtRQUNOLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdkIsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7SUFDOUIsQ0FBQztDQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRzZXJ2aWNlLy4vc3JjL3BpYW5vLWFkYXB0ZXIudHMiLCJ3ZWJwYWNrOi8vYWRzZXJ2aWNlLy4vc3JjL3BpYW5vL2luZGV4LmpzIiwid2VicGFjazovL2Fkc2VydmljZS8uL3NyYy9waWFuby90aW55cGFzcy5qcyIsIndlYnBhY2s6Ly9hZHNlcnZpY2Uvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYWRzZXJ2aWNlL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2Fkc2VydmljZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYWRzZXJ2aWNlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYWRzZXJ2aWNlL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vYWRzZXJ2aWNlLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVXNlciwgUGlhbm9Db25maWcgfSBmcm9tIFwiLi90eXBlc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpYW5vQWRhcHRlciB7XG4gICAgYWZ0ZXJSZW5kZXJDYWxsYmFja3M/OigoKT0+IHZvaWQpW107XG4gICAgdGhpcmRQYXJ0eUNhbGxiYWNrcz86KCgpPT4gdm9pZClbXTtcbiAgICB0cDphbnk7XG4gICAgdXNlcjpVc2VyO1xuICAgIHJlc3VsdDogYW55O1xuXG4gICAgY29uc3RydWN0b3Ioe1xuICAgICAgdGhpcmRQYXJ0eUNhbGxiYWNrcyA9IFtdLFxuICAgICAgYWZ0ZXJSZW5kZXJDYWxsYmFja3MgPSBbXSxcbiAgICAgIG1hdGNoZXJzID0gW10sXG4gICAgICB0YWdzID0gW10sXG4gICAgICB1c2VyXG4gICAgfSkge1xuICAgICAgICB0aGlzLnRwID0gd2luZG93LnRwIHx8IFtdXG4gICAgICAgIHRoaXMudXNlciA9IHRoaXMuc2V0VXNlcih1c2VyKTtcbiAgICAgICAgdGhpcy5zZXRFbnZDb25maWcoKTtcbiAgICAgICAgdGhpcy5zZXRUaGlyZFBhcnR5Q2FsbGJhY2tzKHRoaXJkUGFydHlDYWxsYmFja3MpO1xuICAgICAgICB0aGlzLnNldEN1c3RvbVZhcmlhYmxlcyhtYXRjaGVycyk7XG4gICAgICAgIHRoaXMuc2V0QWZ0ZXJBZFJlbmRlcihhZnRlclJlbmRlckNhbGxiYWNrcyk7XG4gICAgICAgIGlmKCFBcnJheS5pc0FycmF5KHRhZ3NbMF0pKXtcbiAgICAgICAgICB0YWdzID0gW3RhZ3NdXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRUYWdzKHRhZ3MpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdGhlIEFJRCBiYXNlZCBvbiB0aGUgY3VycmVudCB1cmxcbiAgICAgICAqL1xuICAgICAgI2dldEFpZCgpe1xuICAgICAgICBjb25zdCBbc3ViZG9tYWluLCBkb21haW5dID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLnNwbGl0KCcuJylcbiAgICAgICAgaWYoc3ViZG9tYWluID09PSAnd3d3Jyl7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwiYW1lcmljYXN0ZXN0a2l0Y2hlblwiOiBcIm84aXQ0SktUcHVcIixcbiAgICAgICAgICAgIFwiY29va3NpbGx1c3RyYXRlZFwiOiBcIjBsNENYUkJCcHVcIixcbiAgICAgICAgICAgIFwiY29va3Njb3VudHJ5XCI6IFwidlJxdHRzdTFwdVwiLFxuICAgICAgICAgIH1bZG9tYWluXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcImFtZXJpY2FzdGVzdGtpdGNoZW5cIjogXCJQM01VbW1VOXB1XCIsXG4gICAgICAgICAgICBcImNvb2tzaWxsdXN0cmF0ZWRcIjogXCJDTFJmQU1xcXB1XCIsXG4gICAgICAgICAgICBcImNvb2tzY291bnRyeVwiOiBcInJrSWdkUGF0cHVcIixcbiAgICAgICAgICB9W2RvbWFpbl1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHJpZXZlcyB0aGUgdXNlciB0b2tlbiBmcm9tIGNvb2tpZXMgb3IgZnJvbSBhIHVzZXIgY29udGV4dC5cbiAgICAgICAqL1xuICAgICAgI2dldFVzZXJUb2tlbigpOnN0cmluZ3tcbiAgICAgICAgICB2YXIgYyA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChcIihefDspXFxcXHMqdXNlcl90b2tlblxcXFxzKj1cXFxccyooW147XSspXCIpO1xuICAgICAgICAgIGlmIChjICYmIGMubGVuZ3RoID4gMCkgcmV0dXJuIGMucG9wKCk7XG4gICAgICAgICAgZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXRzIHJlcXVpcmVkIHVzZXIgZmllbGRzIHRvIGV4ZWN1dGUgYSBwaWFubyBleHBlcmllbmNlLlxuICAgICAgICpcbiAgICAgICAqIEByZW1hcmtzXG4gICAgICAgKiBQaWFubyBvbmx5IG5lZWRzIHRoZSBjdXN0b20gdmFyaWFibGUgdG8gbWF0Y2gsIGJ1dCB0aGUgdXNlci10b2tlbiBoYXMgc29tZXRoaW5nIHRvIGRvIG9uIHRoZWlyIHNpZGUuXG4gICAgICAgKiBJIGFtIG5vdCBzdXJlIHdoYXQgaXQgZG9lcywgYnV0IHRvIGJlIGJhY2t3YXJkcyBjb21wYXRpYmxlIHdlIHdpbGwgYWRkIGl0IGluIHRoZXJlLlxuICAgICAgICpcbiAgICAgICAqIFdlIGFyZSBwYXNzaW5nIGluIGEgdXNlciBhcmd1bWVudCBqdXN0IGluLWNhc2Ugd2UgbmVlZCBhZGRpdGlvbmFsIHByb3BlcnRpZXMgZnJvbSBvdXJcbiAgICAgICAqIGNvbnRleHQgb3IgY29va2llIGluIGEgZnV0dXJlIGl0ZXJhdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gdXNlclxuICAgICAgICovXG4gICAgICBzZXRVc2VyKHVzZXIpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFpZDogdGhpcy4jZ2V0QWlkKCksXG4gICAgICAgICAgdG9rZW46IHRoaXMuI2dldFVzZXJUb2tlbigpLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgaW5pdCgpe1xuICAgICAgIC8qKlxuICAgICAgICogSW5pdGlhbGl6ZXMgdGhlIHBpYW5vIGV4cGVyaWVuY2VcbiAgICAgICAqIHRoaXMgaXMgd2hlcmUgd2UgY291bGQgZXZlbnR1YWxseSBleHBhbmQgb3VyIGNhbGxiYWNrcyB1c2luZyB0aGUgdHAgYXBpLlxuICAgICAgICogaHR0cHM6Ly9kb2NzLnBpYW5vLmlvL2NhbGxiYWNrcy9cbiAgICAgICAqXG4gICAgICAgKiBAdHlwZWRlZiB7c3RyaW5nfSBDb21tYW5kIC0gSW5pdGlhbGl6YXRpb24gY29tbWFuZCBmb3IgcGlhbm8gZXhwZXJpZW5jZS5cbiAgICAgICAqIEB0eXBlZGVmIHsoKT0+dm9pZH0gQ2FsbGJhY2sgLSBJbiB0aGlzIGNhbGxiYWNrIHlvdSBjYW4gYWNjZXNzIGEgbG90IG9mIHVzZXIgaW5mb3JtYXRpb24gYmVmb3JlIGluaXRpYWxpemluZyB0aGUgZXhwZXJpZW5jZS5cbiAgICAgICAqIEB0eXBlZGVmIHtbQ29tbWFuZCwgQ2FsbGJhY2tdfSBJbml0UGFyYW1zXG4gICAgICAgKiBAcGFyYW0ge0luaXRQYXJhbXN9XG4gICAgICAgKi9cbiAgICAgICAgdGhpcy50cC5wdXNoKFtcImluaXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cC5leHBlcmllbmNlLmluaXQoKTtcbiAgICAgICAgfSwgXSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ29uZmlndXJhdGlvbiBvYmplY3RzIGNhcnJ5IHRoZSBuZWNlc3NhcnkgZGF0YSB0byB0aGUgdGhpcmQgcGFydHkgY2FsbGJhY2tcbiAgICAgICAqIEVhY2ggY29uZmlndXJhdGlvbiBvYmplY3QgaXMgZ29pbmcgdG8gYmUgZGlmZmVyZW50IGJhc2VkIG9uIHRoZSAnc2VydmljZScuXG4gICAgICAgKiBSZXF1aXJlZCBwcm9wZXJ0aWVzIGFyZSBzZXJ2aWNlLCBhbmQgY2FsbGJhY2tzLlxuICAgICAgICpcbiAgICAgICAqIEB0eXBlZGVmIFNlcnZpY2Uge3N0cmluZ31cbiAgICAgICAqIEB0eXBlZGVmIENhbGxiYWNrcyB7WygpPT52b2lkXX1cbiAgICAgICAqIEB0eXBlZGVmIHtTZXJ2aWNlLCBDYWxsYmFja3N9IENvbmZpZ09ialxuICAgICAgICogQHBhcmFtIHRoaXJkUGFydHlDb25maWdzIENvbmZpZ09ialtdXG4gICAgICAgKi9cbiAgICAgIHNldFRoaXJkUGFydHlDYWxsYmFja3ModGhpcmRQYXJ0eUNvbmZpZ3Mpe1xuICAgICAgICB0aGlyZFBhcnR5Q29uZmlncy5mb3JFYWNoKChjb25maWcpID0+IHtcbiAgICAgICAgICBzd2l0Y2ggKGNvbmZpZy5zZXJ2aWNlKSB7XG4gICAgICAgICAgICBjYXNlICdtaXhwYW5lbCc6e1xuICAgICAgICAgICAgICB0aGlzLnNldE1peHBhbmVsKGNvbmZpZyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnYXRrJzoge1xuICAgICAgICAgICAgICAvL2RvIG90aGVyIHN0dWZmLlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRoaXMuc2V0TWl4cGFuZWwoY29uZmlnKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENvbmZpZ3VyZXMgbWl4cGFuZWwncyBnbG9iYWwgYXBpIGZvciB0cmFja2luZyBldmVudHMgd2l0aCBwaWFubyB0ZW1wbGF0ZSBjb250ZW50IGZpZWxkc1xuICAgICAgICpcbiAgICAgICAqIEByZW1hcmtzXG4gICAgICAgKiBXZSBhcmUgYm9ycm93aW5nIGEgcGF0dGVybiBmcm9tIHJlZHV4LCBpbnN0ZWFkIG9mIGFjdGlvbiBhbmQgcGF5bG9hZCB3ZSBoYXZlIG1peHBhbmVsIHByb3BlcnRpZXMgb2Ygc3RhdHVzIGFuZCBhY3Rpb25zXG4gICAgICAgKiBBY3Rpb25zIGFyZSB0aGUgZXZlbnQgY2FsbGJhY2tzIHRha2luZyBwaWFubyBjb250ZW50IGZpZWxkcyBhbmQgcGFyc2luZyB0aGUgaW5mb3JtYXRpb24gd2UgcmVxdWlyZSBmb3IgZWFjaCBzcGVjaWZpYyBldmVudC5cbiAgICAgICAqXG4gICAgICAgKiBXZSBhcmUgdXNpbmcgZXh0ZXJuYWwgZXZlbnRzIGxhdW5jaCB0aGVzZSBjYWxsYmFjay4gQSBoYWNreSBzb2x1dGlvbiBjdXJyZW50bHkgYnV0IHdlIGFyZSBpbmplY3RpbmcgYSB0aGlyZCBwYXJ0eSBpZnJhbWUgaW50byBvdXJcbiAgICAgICAqIGFwcGxpY2F0aW9uLiBUaGVyZSBpcyBhIGxpbWl0ZWQgc2NvcGUgb2YgaW50ZXJhY3Rpb24gd2UgY2FuIGhhdmUgd2l0aCB0aGUgdGVtcGxhdGUuIEJ1dCB3aGF0IHdlIGRvbid0IHdhbnQgaXMgdG8gY291cGxlIG91ciBjb2RlXG4gICAgICAgKiB3aGVyZSB0aGUgdGVtcGxhdGUgaXMgZ2V0dGluZyByZW5kZXJlZC4gU28gaGFja3kgPiBoZWF2aWx5IGNvdXBsZWQgY3VycmVudGx5LlxuICAgICAgICpcbiAgICAgICAqIGh0dHBzOi8vZG9jcy5waWFuby5pby9vZmZlci10ZW1wbGF0ZS1lc3NlbnRpYWxzLyNleHRlcm5hbGV2ZW50XG4gICAgICAgKlxuICAgICAgICogRXZlcnkgYWN0aW9uIHRoYXQgd2Ugd2FudCB0byB0cmFjayB3aXRoIG1peHBhbmVsIHdlIGFkZCBhbiBhZGRpdGlvbmFsIGNhc2UgYW5kIGFkZCBhbiBleHRlcm5hbCBldmVudCBvbiB0aGUgdGVtcGxhdGVcbiAgICAgICAqIFdlIGhhdmUgdG8gdHJpZ2dlciBpdCB3aXRoIGphdmFzY3JpcHQgb24gdGhlIHRlbXBsYXRlIGlmIGl0IGlzIG5vdCBhIHVzZXIgdHJpZ2dlcmVkIGV2ZW50ICh1bnRpbCB3ZSBmaW5kIGEgYmV0dGVyIHdheSkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIENvbmZpZ09ialxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgc2V0TWl4cGFuZWwoe3N0YXR1cywgYWN0aW9ufSl7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0b2RvOiBhZGQgYWxsIG9mIHRoZSBhdmFpbGFibGUgZmllbGRzIHdlIGdldCBmcm9tIHRoZSBwaWFubyBwYXJhbXMgb2JqIGFuZCB0aGUgcGFyYW1zLnBhcmFtcyBvYmpcbiAgICAgICAgICogVGhpcyBmdW5jdGlvbiBtYXBzIHRoZSBwYXJhbXMgZGF0YSByZWNlaXZlZCBmcm9tIHRoZSBldmVudCB3ZSBnZXQgZnJvbSBwaWFub1xuICAgICAgICAgKiBpbmNsdWRpbmcgY3VzdG9tIHBhcmFtZXRlcnMgd2UgaGF2ZSB0byBzZXQgdXAgaW4gdGhlIGV4dGVybmFsLWV2ZW50IGRhdGEtYXR0cmlidXRlc1xuICAgICAgICAgKiBXZSBjYW4gbm90IHRhcmdldCB0cmFkaXRpb25hbCBkYXRhLWF0dHJpYnV0ZXMgOmZyb3duOlxuICAgICAgICAgKlxuICAgICAgICAgKlxuICAgICAgICAgKkBleGFtcGxlXG4gICAgICAgICAqIDxzcGFuXG4gICAgICAgICAqIGlkPVwibWl4cGFuZWwtcGFyYW1zXCJcbiAgICAgICAgICogZXh0ZXJuYWwtZXZlbnQ9XCJwcmVzZW50ZWRcIlxuICAgICAgICAgKiBleHRlcm5hbC1ldmVudC1wYXJhbXM9XCJ7e3BhcmFtc319XCJcbiAgICAgICAgICogZXh0ZXJuYWwtZXZlbnQtYWR0eXBlPVwiWyUlIGFkLXR5cGUgJSVdXCJcbiAgICAgICAgICogZXh0ZXJuYWwtZXZlbnQtaW5jb2RlPVwiWyUlIGluY29kZSAlJV1cIlxuICAgICAgICAgKiBleHRlcm5hbC1ldmVudC1kZXZpY2VUeXBlPVwiWyUlIGRldmljZVR5cGUgJSVdXCJcbiAgICAgICAgICogZXh0ZXJuYWwtZXZlbnQtY2xpY2tkb21haW49XCJbJSUgY2xpY2stZG9tYWluICUlXVwiXG4gICAgICAgICAqIGV4dGVybmFsLWV2ZW50LW1kYz1cIlslJSBtZGMgJSVdXCJcbiAgICAgICAgICogPjwvc3Bhbj5cbiAgICAgICAgICpcbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhlIGN1c3RvbSBzY3JpcHQgd2UgaGF2ZSB0byBtYW51YWxseSB0cmlnZ2VyIGFuIGV2ZW50IHRoYXQgaXMgbm90IGNhdXNlIGJ5XG4gICAgICAgICAqIHVzZXIgaW50ZXJhY3Rpb24uIEZvciB0aGlzIGV4YW1wbGUgd2Ugd2FudCB0byBiZSBhYmxlIHRvIGZpcmUgYSBwcmVzZW50ZWQgZXZlbnQgdG8gbWl4cGFuZWxcbiAgICAgICAgICogYnV0IGJlY2F1c2UgaXQgaXNuJ3QgdXNlciB0cmlnZ2VyZWQgd2Ugd2lsbCBjbGljayBvbiB0aGUgc3BhbiB0aGF0IHdpbGwgZmlyZSB0aGUgZXh0ZXJuYWwtZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIDxkaXYgY3VzdG9tLXNjcmlwdD5cbiAgICAgICAgICogICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1peHBhbmVsLXBhcmFtc1wiKS5jbGljaygpO1xuICAgICAgICAgKiA8L2Rpdj5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIHRyYWNrTWl4cGFuZWwoe2FjdGlvbiwgc3RhdHVzLCBwYXJhbXMsIGN1c3RvbVBhcmFtczoge2luY29kZSxjbGlja2RvbWFpbn0gfSl7XG4gICAgICAgICAgbGV0IHt1cmx9ID0gYXdhaXQgSlNPTi5wYXJzZShwYXJhbXMpXG4gICAgICAgICAgLy8gVE9ETzogY2hhbmdlIDE3MiB0byBzdXBwb3J0IHN1YmRvbWFpbnNcbiAgICAgICAgICBjb25zdCBbLCBsb2NhdGlvbiA9IFwiaG9tZXBhZ2VcIl0gPSB1cmwuc3BsaXQoXCI6NTUwMC9cIilcbiAgICAgICAgICB3aW5kb3cubWl4cGFuZWwudHJhY2soYWN0aW9uLCB7aW5jb2RlLCBzdGF0dXMsIGxvY2F0aW9uLCB0eXBlOiBjbGlja2RvbWFpbn0pXG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICAgIGNhc2UgJ0FjY2VwdGVkJzp7XG4gICAgICAgICAgICB0aGlzLnRwLnB1c2goW1wiYWRkSGFuZGxlclwiLCBcImN1c3RvbUV2ZW50XCIsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgaWYoZXZlbnQ/LmV2ZW50TmFtZSAhPT0gJ3NpZ24tdXAtYnV0dG9uJylyZXR1cm47XG4gICAgICAgICAgICAgIHRyYWNrTWl4cGFuZWwoe2FjdGlvbiwgc3RhdHVzLCBwYXJhbXM6IGV2ZW50LnBhcmFtcy5wYXJhbXMsIGN1c3RvbVBhcmFtczpldmVudC5wYXJhbXN9KTtcbiAgICAgICAgICAgfSBdKTtcbiAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ1ByZXNlbnRlZCc6e1xuICAgICAgICAgICAgdGhpcy50cC5wdXNoKFtcImFkZEhhbmRsZXJcIiwgXCJjdXN0b21FdmVudFwiLCBhc3luYyBmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgIGlmKGV2ZW50Py5ldmVudE5hbWUgIT09ICdwcmVzZW50ZWQnKXJldHVybjtcbiAgICAgICAgICAgICAgdHJhY2tNaXhwYW5lbCh7YWN0aW9uLCBzdGF0dXMsIHBhcmFtczogZXZlbnQucGFyYW1zLnBhcmFtcywgY3VzdG9tUGFyYW1zOmV2ZW50LnBhcmFtc30pO1xuICAgICAgICAgICB9IF0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBXZSBhdHRhY2ggY2FsbGJhY2tzIHRoYXQgZmlyZSBiZWZvcmUgdGhlIGJyb3dzZXIgcmVuZGVycyB0aGUgdGVtcGxhdGVcbiAgICAgICAqXG4gICAgICAgKiBAcmVtYXJrc1xuICAgICAgICogIFRoaXMgaXMgbm90IGJ1aWx0IHRvIHN1cHBvcnQgdGhpcmQtcGFydHkgY2FsbGJhY2tzLiBUaG9zZSBuZWVkIHRvIGJlIGhhbmRsZWQgaW5kaXZpZHVhbGx5IGJ5IHRoZWlyIGhhbmRsZXJzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBjYnNcbiAgICAgICAqL1xuICAgICAgc2V0QmVmb3JlQWRJbml0KGNiczooKCk9PnZvaWQpW10pIHtcbiAgICAgICAgY2JzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLnRwLnB1c2goW1wiYWRkSGFuZGxlclwiLCBcImJlZm9yZUJyb3dzZXJFdmVudFwiLCBjYWxsYmFja10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogV2UgYXR0YWNoIGNhbGxiYWNrcyB0aGF0IGZpcmUgYWZ0ZXIgdGhlIGJyb3dzZXIgcmVuZGVycyB0aGUgdGVtcGxhdGVcbiAgICAgICAqXG4gICAgICAgKiBAcmVtYXJrc1xuICAgICAgICogIFRoaXMgaXMgbm90IGJ1aWx0IHRvIHN1cHBvcnQgdGhpcmQtcGFydHkgY2FsbGJhY2tzLiBUaG9zZSBuZWVkIHRvIGJlIGhhbmRsZWQgaW5kaXZpZHVhbGx5IGJ5IHRoZWlyIGhhbmRsZXJzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBjYnNcbiAgICAgICAqL1xuICAgICAgc2V0QWZ0ZXJBZFJlbmRlcihjYnM6KCgpPT52b2lkKVtdKSB7XG4gICAgICAgIGNicy5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgIHRoaXMudHAucHVzaCggWyBcImFkZEhhbmRsZXJcIiwgXCJzaG93VGVtcGxhdGVcIiwgZnVuY3Rpb24gKHRlbXBsYXRlUGFyYW1zKXtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfV0pO1xuICAgICAgICB9KTtcblxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCB0aGUgdXNlciBzZWdtZW50cyB0aGF0IHdpbGwgbWF0Y2ggb24gdGhlIHBpYW5vIHNlZ21lbnRcbiAgICAgICAqIGluIHRoZSBpbml0aWFsIHVzZXIgc2VnbWVudHMgcGhhc2Ugb2YgdGhlIGNvbXBvc2VyIGV4cGVyaWVuY2VcbiAgICAgICAqXG4gICAgICAgKiBpLmUuIGV4cGVyaWVuY2UgcnVsZXMsIGluaXRpYWwgdXNlciBzZWdtZW50cywgZXZlbnRzIGFuZCB0cmlnZ2VycywgYWN0aW9uc1xuICAgICAgICogaHR0cHM6Ly9kb2NzLnBpYW5vLmlvL3RyYWNrL292ZXJ2aWV3LWNvbXBvc2VyP2NoYXB0ZXI9NTU1NiNtZW51NTU1NlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBtYXRjaGVyc1xuICAgICAgICovXG4gICAgICBzZXRDdXN0b21WYXJpYWJsZXMobWF0Y2hlcnM6c3RyaW5nW10pIHtcbiAgICAgICAgbWF0Y2hlcnMuZm9yRWFjaCgoY3YpID0+IHtcbiAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBjdjtcbiAgICAgICAgICB0aGlzLnRwLnB1c2goW1wic2V0Q3VzdG9tVmFyaWFibGVcIiwga2V5LCB2YWx1ZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBFYWNoIGV4cGVyaWVuY2UgaW4gY29tcG9zZXIgcmVxdWlyZXMgcHJvcGVyIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgKiBUaGlzIG9iamVjdCB3aWxsIHNldCB1cCBvdXIgY29uZmlndXJhdGlvbiBvYmplY3QgcHJvcGVybHkgdG8gbGF1bmNoIHRoZSBleHBlY3RlZCBleHBlcmllbmNlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIFBpYW5vQ29uZmlnXG4gICAgICAgKi9cblxuICAgICAgLy8gZGVidWcgaWYgbm9uIHByb2RcbiAgICAgIGdldENvbmZpZ1Byb3BlcnRpZXMoKTogUGlhbm9Db25maWcge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNldEFpZDogdGhpcy51c2VyLmFpZCxcbiAgICAgICAgICBzZXREZWJ1ZzogdHJ1ZSxcbiAgICAgICAgICBzZXRFbmRwb2ludDogXCJodHRwczovL2J1eS50aW55cGFzcy5jb20vYXBpL3YzXCIsXG4gICAgICAgICAgc2V0RXh0ZXJuYWxKV1Q6IHRoaXMudXNlci50b2tlbixcbiAgICAgICAgICBzZXRVc2VQaWFub0lkVXNlclByb3ZpZGVyOiB0cnVlLFxuICAgICAgICAgIHNldFVzZVRpbnlwYXNzQWNjb3VudHM6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHMgdXAgdGhlIHdpbmRvdy50cCBwaWFubyBvYmplY3QgaW4gdGhlIHNwZWNpZmljIHdheSBpdCByZXF1aXJlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcmVtYXJrc1xuICAgICAgICogd2luZG93LnRwIGV4cGVjdHMgdG8gcHVzaCB0dXBsZXMgd2l0aCB0aGUgcHJvcGVyICdrZXknIChhdCBwb3NpdGlvbiB0dXBsZVswXSkuXG4gICAgICAgKiB0b2RvOiBleHBhbmQgZXhwbGFuYXRpb25cbiAgICAgICAqL1xuICAgICAgc2V0RW52Q29uZmlnKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldENvbmZpZ1Byb3BlcnRpZXMoKTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnKS5mb3JFYWNoKChkKSA9PiB0aGlzLnRwLnB1c2goZCkpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFRoaXMgY29uZmlndXJlcyB0aGUgd2luZG93IHRwIG9iamVjdCB0byBhY2NlcHQgY3VzdG9tIHRhZ3MuXG4gICAgICAgKlxuICAgICAgICogQHJlbWFya3NcbiAgICAgICAqIFRhZ3MgYXJlIGEgd2F5IGZvciB1cyB0byBtYXRjaCBleHBlcmllbmNlcyB3aXRoIGdyZWF0IHNwZWNpZmljaXR5LiAoRXhwZXJpZW5jZSBSdWxlcyBQaGFzZSlcbiAgICAgICAqIFRhZ3MgYXJlIHVzZWQgaW4gdGhlIGV4cGVyaWVuY2UsIGFuZCBjYW4gYmUgcmVuZGVyZWQgb24gdGhlIHRlbXBsYXRlLlxuICAgICAgICogVGFncyBjYW4gYmUgcmV0dXJuZWQgdG8gYmUgdXNlZCBpbiB0aGlyZC1wYXJ0eSBpbnRlZ3JhdGlvbnNcbiAgICAgICAqIGh0dHBzOi8vZG9jcy5waWFuby5pby9jb250ZW50LXRyYWNraW5nLyNjdXN0YWdzXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHRhZ3NcbiAgICAgICAqL1xuICAgICAgc2V0VGFncyh0YWdzOnN0cmluZ1tdW10pIHtcbiAgICAgICAgdGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGFnKSkge1xuICAgICAgICAgICAgdGhpcy50cC5wdXNoKFtcInNldFRhZ3NcIiwgdGFnXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbn1cbiIsInZhciBwaWFub1NESyA9IHJlcXVpcmUoJy4vdGlueXBhc3MnKTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBwaWFub1NES1xufTtcbiIsIiFmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjt3aW5kb3cucG5GdWxsVFBWZXJzaW9uPSEwLFwiZnVuY3Rpb25cIiE9dHlwZW9mIE9iamVjdC5hc3NpZ24mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3QsXCJhc3NpZ25cIix7dmFsdWU6ZnVuY3Rpb24oZSxuKXtpZihudWxsPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3RcIik7Zm9yKHZhciB0PU9iamVjdChlKSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIG89YXJndW1lbnRzW3JdO2lmKG51bGwhPW8pZm9yKHZhciBpIGluIG8pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8saSkmJih0W2ldPW9baV0pfXJldHVybiB0fSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KTt2YXIgbj1uZXcgV2Vha01hcDtmdW5jdGlvbiB0KGUsdCl7cmV0dXJuIG4uZ2V0KGUpJiZuLmdldChlKS5nZXQodCl9ZnVuY3Rpb24gcihlLG4scil7aWYodm9pZCAwPT09bil0aHJvdyBuZXcgVHlwZUVycm9yO3ZhciBvPXQobixyKTtyZXR1cm4gbyYmby5nZXQoZSl9ZnVuY3Rpb24gbyhlLHIsbyxpKXtpZihpJiYhW1wic3RyaW5nXCIsXCJzeW1ib2xcIl0uaW5jbHVkZXModHlwZW9mIGkpKXRocm93IG5ldyBUeXBlRXJyb3I7KHQobyxpKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1uLmdldChlKXx8bmV3IE1hcDtuLnNldChlLHIpO3ZhciBvPXIuZ2V0KHQpfHxuZXcgTWFwO3JldHVybiByLnNldCh0LG8pLG99KG8saSkpLnNldChlLHIpfWZ1bmN0aW9uIGkoZSxuLHQpe3JldHVybiByKGUsbix0KT9yKGUsbix0KTpPYmplY3QuZ2V0UHJvdG90eXBlT2Yobik/aShlLE9iamVjdC5nZXRQcm90b3R5cGVPZihuKSx0KTp2b2lkIDB9dmFyIGEscz17ZGVjb3JhdGU6ZnVuY3Rpb24oZSxuLHQscil7aWYoIUFycmF5LmlzQXJyYXkoZSl8fDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yO3JldHVybiB2b2lkIDAhPT10P2Z1bmN0aW9uKGUsbix0LHIpe3JldHVybiBlLnJldmVyc2UoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyPWUobix0LHIpfHxyfSkpLHJ9KGUsbix0LHIpOlwiZnVuY3Rpb25cIj09dHlwZW9mIG4/ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5yZXZlcnNlKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZShuKTt0JiYobj10KX0pKSxufShlLG4pOnZvaWQgMH0sZGVmaW5lTWV0YWRhdGE6ZnVuY3Rpb24oZSxuLHQscil7byhlLG4sdCxyKX0sZ2V0TWV0YWRhdGE6ZnVuY3Rpb24oZSxuLHQpe3JldHVybiBpKGUsbix0KX0sZ2V0T3duTWV0YWRhdGE6ZnVuY3Rpb24oZSxuLHQpe3JldHVybiByKGUsbix0KX0saGFzTWV0YWRhdGE6ZnVuY3Rpb24oZSxuLHQpe3JldHVybiEhaShlLG4sdCl9LGhhc093bk1ldGFkYXRhOmZ1bmN0aW9uKGUsbix0KXtyZXR1cm4hIXIoZSxuLHQpfSxtZXRhZGF0YTpmdW5jdGlvbihlLG4pe3JldHVybiBmdW5jdGlvbih0LHIpe28oZSxuLHQscil9fX07d2luZG93LlJlZmxlY3Q9d2luZG93LlJlZmxlY3R8fHt9LE9iamVjdC5hc3NpZ24od2luZG93LlJlZmxlY3QscyksZnVuY3Rpb24oZSl7ZVtlLlRyYW5zaWVudD0wXT1cIlRyYW5zaWVudFwiLGVbZS5TaW5nbGV0b249MV09XCJTaW5nbGV0b25cIixlW2UuUmVzb2x1dGlvblNjb3BlZD0yXT1cIlJlc29sdXRpb25TY29wZWRcIixlW2UuQ29udGFpbmVyU2NvcGVkPTNdPVwiQ29udGFpbmVyU2NvcGVkXCJ9KGF8fChhPXt9KSk7dmFyIGM9YSxsPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGw9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsbil7ZS5fX3Byb3RvX189bn18fGZ1bmN0aW9uKGUsbil7Zm9yKHZhciB0IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh0KSYmKGVbdF09blt0XSl9LGwoZSxuKX07ZnVuY3Rpb24gdShlLG4pe2Z1bmN0aW9uIHQoKXt0aGlzLmNvbnN0cnVjdG9yPWV9bChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KHQucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyB0KX1mdW5jdGlvbiBkKGUpe3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHQ9biYmZVtuXSxyPTA7aWYodClyZXR1cm4gdC5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZyPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtyKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcihuP1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9ZnVuY3Rpb24gcChlLG4pe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCF0KXJldHVybiBlO3ZhciByLG8saT10LmNhbGwoZSksYT1bXTt0cnl7Zm9yKDsodm9pZCAwPT09bnx8bi0tID4wKSYmIShyPWkubmV4dCgpKS5kb25lOylhLnB1c2goci52YWx1ZSl9Y2F0Y2goZSl7bz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7ciYmIXIuZG9uZSYmKHQ9aS5yZXR1cm4pJiZ0LmNhbGwoaSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBhfWZ1bmN0aW9uIGYoKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZT1lLmNvbmNhdChwKGFyZ3VtZW50c1tuXSkpO3JldHVybiBlfXZhciBtPVwiaW5qZWN0aW9uVG9rZW5zXCI7ZnVuY3Rpb24gZyhlKXtyZXR1cm4hIWUudXNlQ2xhc3N9ZnVuY3Rpb24gdihlKXtyZXR1cm4hIWUudXNlRmFjdG9yeX12YXIgaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy53cmFwPWUsdGhpcy5yZWZsZWN0TWV0aG9kcz1bXCJnZXRcIixcImdldFByb3RvdHlwZU9mXCIsXCJzZXRQcm90b3R5cGVPZlwiLFwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIsXCJkZWZpbmVQcm9wZXJ0eVwiLFwiaGFzXCIsXCJzZXRcIixcImRlbGV0ZVByb3BlcnR5XCIsXCJhcHBseVwiLFwiY29uc3RydWN0XCIsXCJvd25LZXlzXCJdfXJldHVybiBlLnByb3RvdHlwZS5jcmVhdGVQcm94eT1mdW5jdGlvbihlKXt2YXIgbix0PXRoaXMscj0hMTtyZXR1cm4gbmV3IFByb3h5KHt9LHRoaXMuY3JlYXRlSGFuZGxlcigoZnVuY3Rpb24oKXtyZXR1cm4gcnx8KG49ZSh0LndyYXAoKSkscj0hMCksbn0pKSl9LGUucHJvdG90eXBlLmNyZWF0ZUhhbmRsZXI9ZnVuY3Rpb24oZSl7dmFyIG49e307cmV0dXJuIHRoaXMucmVmbGVjdE1ldGhvZHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0XT1mdW5jdGlvbigpe2Zvcih2YXIgbj1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyluW3JdPWFyZ3VtZW50c1tyXTtuWzBdPWUoKTt2YXIgbz1SZWZsZWN0W3RdO3JldHVybiBvLmFwcGx5KHZvaWQgMCxmKG4pKX19KSksbn0sZX0oKTtmdW5jdGlvbiB3KGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfHxcInN5bWJvbFwiPT10eXBlb2YgZX1mdW5jdGlvbiB5KGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZcInRva2VuXCJpbiBlJiZcInRyYW5zZm9ybVwiaW4gZX1mdW5jdGlvbiBiKGUpe3JldHVybiEhZS51c2VUb2tlbn1mdW5jdGlvbiBrKGUpe3JldHVybiBudWxsIT1lLnVzZVZhbHVlfXZhciBfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX3JlZ2lzdHJ5TWFwPW5ldyBNYXB9cmV0dXJuIGUucHJvdG90eXBlLmVudHJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnlNYXAuZW50cmllcygpfSxlLnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZW5zdXJlKGUpLHRoaXMuX3JlZ2lzdHJ5TWFwLmdldChlKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3RoaXMuZW5zdXJlKGUpO3ZhciBuPXRoaXMuX3JlZ2lzdHJ5TWFwLmdldChlKTtyZXR1cm4gbltuLmxlbmd0aC0xXXx8bnVsbH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsbil7dGhpcy5lbnN1cmUoZSksdGhpcy5fcmVnaXN0cnlNYXAuZ2V0KGUpLnB1c2gobil9LGUucHJvdG90eXBlLnNldEFsbD1mdW5jdGlvbihlLG4pe3RoaXMuX3JlZ2lzdHJ5TWFwLnNldChlLG4pfSxlLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZW5zdXJlKGUpLHRoaXMuX3JlZ2lzdHJ5TWFwLmdldChlKS5sZW5ndGg+MH0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9yZWdpc3RyeU1hcC5jbGVhcigpfSxlLnByb3RvdHlwZS5lbnN1cmU9ZnVuY3Rpb24oZSl7dGhpcy5fcmVnaXN0cnlNYXAuaGFzKGUpfHx0aGlzLl9yZWdpc3RyeU1hcC5zZXQoZSxbXSl9LGV9KCksQz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gdShuLGUpLG59KF8pLEk9ZnVuY3Rpb24oKXt0aGlzLnNjb3BlZFJlc29sdXRpb25zPW5ldyBNYXB9O2Z1bmN0aW9uIFMoZSxuLHQpe3ZhciByLG8saT1wKGUudG9TdHJpbmcoKS5tYXRjaCgvY29uc3RydWN0b3JcXCgoW1xcdywgXSspXFwpLyl8fFtdLDIpWzFdLGE9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbnVsbD09PWU/XCJhdCBwb3NpdGlvbiAjXCIrbjonXCInK2Uuc3BsaXQoXCIsXCIpW25dLnRyaW0oKSsnXCIgYXQgcG9zaXRpb24gIycrbn0odm9pZCAwPT09aT9udWxsOmksbik7cmV0dXJuIHI9XCJDYW5ub3QgaW5qZWN0IHRoZSBkZXBlbmRlbmN5IFwiK2ErJyBvZiBcIicrZS5uYW1lKydcIiBjb25zdHJ1Y3Rvci4gUmVhc29uOicsdm9pZCAwPT09byYmKG89XCIgICAgXCIpLGYoW3JdLHQubWVzc2FnZS5zcGxpdChcIlxcblwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBvK2V9KSkpLmpvaW4oXCJcXG5cIil9dmFyIHg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbigpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHUobixlKSxufShfKSxQPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB1KG4sZSksbn0oXyksRT1mdW5jdGlvbigpe3RoaXMucHJlUmVzb2x1dGlvbj1uZXcgeCx0aGlzLnBvc3RSZXNvbHV0aW9uPW5ldyBQfSxUPW5ldyBNYXAsQT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5wYXJlbnQ9ZSx0aGlzLl9yZWdpc3RyeT1uZXcgQyx0aGlzLmludGVyY2VwdG9ycz1uZXcgRX1yZXR1cm4gZS5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24oZSxuLHQpe3ZhciByO2lmKHZvaWQgMD09PXQmJih0PXtsaWZlY3ljbGU6Yy5UcmFuc2llbnR9KSxyPWZ1bmN0aW9uKGUpe3JldHVybiBnKGUpfHxrKGUpfHxiKGUpfHx2KGUpfShuKT9uOnt1c2VDbGFzczpufSxiKHIpKWZvcih2YXIgbz1bZV0saT1yO251bGwhPWk7KXt2YXIgYT1pLnVzZVRva2VuO2lmKG8uaW5jbHVkZXMoYSkpdGhyb3cgbmV3IEVycm9yKFwiVG9rZW4gcmVnaXN0cmF0aW9uIGN5Y2xlIGRldGVjdGVkISBcIitmKG8sW2FdKS5qb2luKFwiIC0+IFwiKSk7by5wdXNoKGEpO3ZhciBzPXRoaXMuX3JlZ2lzdHJ5LmdldChhKTtpPXMmJmIocy5wcm92aWRlcik/cy5wcm92aWRlcjpudWxsfWlmKCh0LmxpZmVjeWNsZT09PWMuU2luZ2xldG9ufHx0LmxpZmVjeWNsZT09Yy5Db250YWluZXJTY29wZWR8fHQubGlmZWN5Y2xlPT1jLlJlc29sdXRpb25TY29wZWQpJiYoayhyKXx8dihyKSkpdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdXNlIGxpZmVjeWNsZSBcIicrY1t0LmxpZmVjeWNsZV0rJ1wiIHdpdGggVmFsdWVQcm92aWRlcnMgb3IgRmFjdG9yeVByb3ZpZGVycycpO3JldHVybiB0aGlzLl9yZWdpc3RyeS5zZXQoZSx7cHJvdmlkZXI6cixvcHRpb25zOnR9KSx0aGlzfSxlLnByb3RvdHlwZS5yZWdpc3RlclR5cGU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdyhuKT90aGlzLnJlZ2lzdGVyKGUse3VzZVRva2VuOm59KTp0aGlzLnJlZ2lzdGVyKGUse3VzZUNsYXNzOm59KX0sZS5wcm90b3R5cGUucmVnaXN0ZXJJbnN0YW5jZT1mdW5jdGlvbihlLG4pe3JldHVybiB0aGlzLnJlZ2lzdGVyKGUse3VzZVZhbHVlOm59KX0sZS5wcm90b3R5cGUucmVnaXN0ZXJTaW5nbGV0b249ZnVuY3Rpb24oZSxuKXtpZih3KGUpKXtpZih3KG4pKXJldHVybiB0aGlzLnJlZ2lzdGVyKGUse3VzZVRva2VuOm59LHtsaWZlY3ljbGU6Yy5TaW5nbGV0b259KTtpZihuKXJldHVybiB0aGlzLnJlZ2lzdGVyKGUse3VzZUNsYXNzOm59LHtsaWZlY3ljbGU6Yy5TaW5nbGV0b259KTt0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZWdpc3RlciBhIHR5cGUgbmFtZSBhcyBhIHNpbmdsZXRvbiB3aXRob3V0IGEgXCJ0b1wiIHRva2VuJyl9dmFyIHQ9ZTtyZXR1cm4gbiYmIXcobikmJih0PW4pLHRoaXMucmVnaXN0ZXIoZSx7dXNlQ2xhc3M6dH0se2xpZmVjeWNsZTpjLlNpbmdsZXRvbn0pfSxlLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKGUsbil7dm9pZCAwPT09biYmKG49bmV3IEkpO3ZhciB0PXRoaXMuZ2V0UmVnaXN0cmF0aW9uKGUpO2lmKCF0JiZ3KGUpKXRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIHJlc29sdmUgdW5yZWdpc3RlcmVkIGRlcGVuZGVuY3kgdG9rZW46IFwiJytlLnRvU3RyaW5nKCkrJ1wiJyk7aWYodGhpcy5leGVjdXRlUHJlUmVzb2x1dGlvbkludGVyY2VwdG9yKGUsXCJTaW5nbGVcIiksdCl7dmFyIHI9dGhpcy5yZXNvbHZlUmVnaXN0cmF0aW9uKHQsbik7cmV0dXJuIHRoaXMuZXhlY3V0ZVBvc3RSZXNvbHV0aW9uSW50ZXJjZXB0b3IoZSxyLFwiU2luZ2xlXCIpLHJ9aWYoZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIGh9KGUpKXtyPXRoaXMuY29uc3RydWN0KGUsbik7cmV0dXJuIHRoaXMuZXhlY3V0ZVBvc3RSZXNvbHV0aW9uSW50ZXJjZXB0b3IoZSxyLFwiU2luZ2xlXCIpLHJ9dGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGNvbnN0cnVjdCBhbiB1bmRlZmluZWQgY29uc3RydWN0b3IuIENvdWxkIG1lYW4gYSBjaXJjdWxhciBkZXBlbmRlbmN5IHByb2JsZW0uIFRyeSB1c2luZyBgZGVsYXlgIGZ1bmN0aW9uLlwiKX0sZS5wcm90b3R5cGUuZXhlY3V0ZVByZVJlc29sdXRpb25JbnRlcmNlcHRvcj1mdW5jdGlvbihlLG4pe3ZhciB0LHI7aWYodGhpcy5pbnRlcmNlcHRvcnMucHJlUmVzb2x1dGlvbi5oYXMoZSkpe3ZhciBvPVtdO3RyeXtmb3IodmFyIGk9ZCh0aGlzLmludGVyY2VwdG9ycy5wcmVSZXNvbHV0aW9uLmdldEFsbChlKSksYT1pLm5leHQoKTshYS5kb25lO2E9aS5uZXh0KCkpe3ZhciBzPWEudmFsdWU7XCJPbmNlXCIhPXMub3B0aW9ucy5mcmVxdWVuY3kmJm8ucHVzaChzKSxzLmNhbGxiYWNrKGUsbil9fWNhdGNoKGUpe3Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2EmJiFhLmRvbmUmJihyPWkucmV0dXJuKSYmci5jYWxsKGkpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX10aGlzLmludGVyY2VwdG9ycy5wcmVSZXNvbHV0aW9uLnNldEFsbChlLG8pfX0sZS5wcm90b3R5cGUuZXhlY3V0ZVBvc3RSZXNvbHV0aW9uSW50ZXJjZXB0b3I9ZnVuY3Rpb24oZSxuLHQpe3ZhciByLG87aWYodGhpcy5pbnRlcmNlcHRvcnMucG9zdFJlc29sdXRpb24uaGFzKGUpKXt2YXIgaT1bXTt0cnl7Zm9yKHZhciBhPWQodGhpcy5pbnRlcmNlcHRvcnMucG9zdFJlc29sdXRpb24uZ2V0QWxsKGUpKSxzPWEubmV4dCgpOyFzLmRvbmU7cz1hLm5leHQoKSl7dmFyIGM9cy52YWx1ZTtcIk9uY2VcIiE9Yy5vcHRpb25zLmZyZXF1ZW5jeSYmaS5wdXNoKGMpLGMuY2FsbGJhY2soZSxuLHQpfX1jYXRjaChlKXtyPXtlcnJvcjplfX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYobz1hLnJldHVybikmJm8uY2FsbChhKX1maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19dGhpcy5pbnRlcmNlcHRvcnMucG9zdFJlc29sdXRpb24uc2V0QWxsKGUsaSl9fSxlLnByb3RvdHlwZS5yZXNvbHZlUmVnaXN0cmF0aW9uPWZ1bmN0aW9uKGUsbil7aWYoZS5vcHRpb25zLmxpZmVjeWNsZT09PWMuUmVzb2x1dGlvblNjb3BlZCYmbi5zY29wZWRSZXNvbHV0aW9ucy5oYXMoZSkpcmV0dXJuIG4uc2NvcGVkUmVzb2x1dGlvbnMuZ2V0KGUpO3ZhciB0LHI9ZS5vcHRpb25zLmxpZmVjeWNsZT09PWMuU2luZ2xldG9uLG89ZS5vcHRpb25zLmxpZmVjeWNsZT09PWMuQ29udGFpbmVyU2NvcGVkLGk9cnx8bztyZXR1cm4gdD1rKGUucHJvdmlkZXIpP2UucHJvdmlkZXIudXNlVmFsdWU6YihlLnByb3ZpZGVyKT9pP2UuaW5zdGFuY2V8fChlLmluc3RhbmNlPXRoaXMucmVzb2x2ZShlLnByb3ZpZGVyLnVzZVRva2VuLG4pKTp0aGlzLnJlc29sdmUoZS5wcm92aWRlci51c2VUb2tlbixuKTpnKGUucHJvdmlkZXIpP2k/ZS5pbnN0YW5jZXx8KGUuaW5zdGFuY2U9dGhpcy5jb25zdHJ1Y3QoZS5wcm92aWRlci51c2VDbGFzcyxuKSk6dGhpcy5jb25zdHJ1Y3QoZS5wcm92aWRlci51c2VDbGFzcyxuKTp2KGUucHJvdmlkZXIpP2UucHJvdmlkZXIudXNlRmFjdG9yeSh0aGlzKTp0aGlzLmNvbnN0cnVjdChlLnByb3ZpZGVyLG4pLGUub3B0aW9ucy5saWZlY3ljbGU9PT1jLlJlc29sdXRpb25TY29wZWQmJm4uc2NvcGVkUmVzb2x1dGlvbnMuc2V0KGUsdCksdH0sZS5wcm90b3R5cGUucmVzb2x2ZUFsbD1mdW5jdGlvbihlLG4pe3ZhciB0PXRoaXM7dm9pZCAwPT09biYmKG49bmV3IEkpO3ZhciByPXRoaXMuZ2V0QWxsUmVnaXN0cmF0aW9ucyhlKTtpZighciYmdyhlKSl0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byByZXNvbHZlIHVucmVnaXN0ZXJlZCBkZXBlbmRlbmN5IHRva2VuOiBcIicrZS50b1N0cmluZygpKydcIicpO2lmKHRoaXMuZXhlY3V0ZVByZVJlc29sdXRpb25JbnRlcmNlcHRvcihlLFwiQWxsXCIpLHIpe3ZhciBvPXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5yZXNvbHZlUmVnaXN0cmF0aW9uKGUsbil9KSk7cmV0dXJuIHRoaXMuZXhlY3V0ZVBvc3RSZXNvbHV0aW9uSW50ZXJjZXB0b3IoZSxvLFwiQWxsXCIpLG99dmFyIGk9W3RoaXMuY29uc3RydWN0KGUsbildO3JldHVybiB0aGlzLmV4ZWN1dGVQb3N0UmVzb2x1dGlvbkludGVyY2VwdG9yKGUsaSxcIkFsbFwiKSxpfSxlLnByb3RvdHlwZS5pc1JlZ2lzdGVyZWQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49ITEpLHRoaXMuX3JlZ2lzdHJ5LmhhcyhlKXx8biYmKHRoaXMucGFyZW50fHwhMSkmJnRoaXMucGFyZW50LmlzUmVnaXN0ZXJlZChlLCEwKX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9yZWdpc3RyeS5jbGVhcigpLHRoaXMuaW50ZXJjZXB0b3JzLnByZVJlc29sdXRpb24uY2xlYXIoKSx0aGlzLmludGVyY2VwdG9ycy5wb3N0UmVzb2x1dGlvbi5jbGVhcigpfSxlLnByb3RvdHlwZS5jbGVhckluc3RhbmNlcz1mdW5jdGlvbigpe3ZhciBlLG47dHJ5e2Zvcih2YXIgdD1kKHRoaXMuX3JlZ2lzdHJ5LmVudHJpZXMoKSkscj10Lm5leHQoKTshci5kb25lO3I9dC5uZXh0KCkpe3ZhciBvPXAoci52YWx1ZSwyKSxpPW9bMF0sYT1vWzFdO3RoaXMuX3JlZ2lzdHJ5LnNldEFsbChpLGEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hayhlLnByb3ZpZGVyKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmluc3RhbmNlPXZvaWQgMCxlfSkpKX19Y2F0Y2gobil7ZT17ZXJyb3I6bn19ZmluYWxseXt0cnl7ciYmIXIuZG9uZSYmKG49dC5yZXR1cm4pJiZuLmNhbGwodCl9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fX0sZS5wcm90b3R5cGUuY3JlYXRlQ2hpbGRDb250YWluZXI9ZnVuY3Rpb24oKXt2YXIgbix0LHI9bmV3IGUodGhpcyk7dHJ5e2Zvcih2YXIgbz1kKHRoaXMuX3JlZ2lzdHJ5LmVudHJpZXMoKSksaT1vLm5leHQoKTshaS5kb25lO2k9by5uZXh0KCkpe3ZhciBhPXAoaS52YWx1ZSwyKSxzPWFbMF0sbD1hWzFdO2wuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUub3B0aW9ucy5saWZlY3ljbGU9PT1jLkNvbnRhaW5lclNjb3BlZH0pKSYmci5fcmVnaXN0cnkuc2V0QWxsKHMsbC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm9wdGlvbnMubGlmZWN5Y2xlPT09Yy5Db250YWluZXJTY29wZWQ/e3Byb3ZpZGVyOmUucHJvdmlkZXIsb3B0aW9uczplLm9wdGlvbnN9OmV9KSkpfX1jYXRjaChlKXtuPXtlcnJvcjplfX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYodD1vLnJldHVybikmJnQuY2FsbChvKX1maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19cmV0dXJuIHJ9LGUucHJvdG90eXBlLmJlZm9yZVJlc29sdXRpb249ZnVuY3Rpb24oZSxuLHQpe3ZvaWQgMD09PXQmJih0PXtmcmVxdWVuY3k6XCJBbHdheXNcIn0pLHRoaXMuaW50ZXJjZXB0b3JzLnByZVJlc29sdXRpb24uc2V0KGUse2NhbGxiYWNrOm4sb3B0aW9uczp0fSl9LGUucHJvdG90eXBlLmFmdGVyUmVzb2x1dGlvbj1mdW5jdGlvbihlLG4sdCl7dm9pZCAwPT09dCYmKHQ9e2ZyZXF1ZW5jeTpcIkFsd2F5c1wifSksdGhpcy5pbnRlcmNlcHRvcnMucG9zdFJlc29sdXRpb24uc2V0KGUse2NhbGxiYWNrOm4sb3B0aW9uczp0fSl9LGUucHJvdG90eXBlLmdldFJlZ2lzdHJhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pc1JlZ2lzdGVyZWQoZSk/dGhpcy5fcmVnaXN0cnkuZ2V0KGUpOnRoaXMucGFyZW50P3RoaXMucGFyZW50LmdldFJlZ2lzdHJhdGlvbihlKTpudWxsfSxlLnByb3RvdHlwZS5nZXRBbGxSZWdpc3RyYXRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzUmVnaXN0ZXJlZChlKT90aGlzLl9yZWdpc3RyeS5nZXRBbGwoZSk6dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuZ2V0QWxsUmVnaXN0cmF0aW9ucyhlKTpudWxsfSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Q9ZnVuY3Rpb24oZSxuKXt2YXIgdD10aGlzO2lmKGUgaW5zdGFuY2VvZiBoKXJldHVybiBlLmNyZWF0ZVByb3h5KChmdW5jdGlvbihlKXtyZXR1cm4gdC5yZXNvbHZlKGUsbil9KSk7dmFyIHI9VC5nZXQoZSk7aWYoIXJ8fDA9PT1yLmxlbmd0aCl7aWYoMD09PWUubGVuZ3RoKXJldHVybiBuZXcgZTt0aHJvdyBuZXcgRXJyb3IoJ1R5cGVJbmZvIG5vdCBrbm93biBmb3IgXCInK2UubmFtZSsnXCInKX12YXIgbz1yLm1hcCh0aGlzLnJlc29sdmVQYXJhbXMobixlKSk7cmV0dXJuIG5ldyhlLmJpbmQuYXBwbHkoZSxmKFt2b2lkIDBdLG8pKSl9LGUucHJvdG90eXBlLnJlc29sdmVQYXJhbXM9ZnVuY3Rpb24oZSxuKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbihyLG8pe3ZhciBpLGEscyxjO3RyeXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YoYz1yKSYmXCJ0b2tlblwiaW4gYyYmXCJtdWx0aXBsZVwiaW4gYz95KHIpP3IubXVsdGlwbGU/KGk9dC5yZXNvbHZlKHIudHJhbnNmb3JtKSkudHJhbnNmb3JtLmFwcGx5KGksZihbdC5yZXNvbHZlQWxsKHIudG9rZW4pXSxyLnRyYW5zZm9ybUFyZ3MpKTooYT10LnJlc29sdmUoci50cmFuc2Zvcm0pKS50cmFuc2Zvcm0uYXBwbHkoYSxmKFt0LnJlc29sdmUoci50b2tlbixlKV0sci50cmFuc2Zvcm1BcmdzKSk6ci5tdWx0aXBsZT90LnJlc29sdmVBbGwoci50b2tlbik6dC5yZXNvbHZlKHIudG9rZW4sZSk6eShyKT8ocz10LnJlc29sdmUoci50cmFuc2Zvcm0sZSkpLnRyYW5zZm9ybS5hcHBseShzLGYoW3QucmVzb2x2ZShyLnRva2VuLGUpXSxyLnRyYW5zZm9ybUFyZ3MpKTp0LnJlc29sdmUocixlKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoUyhuLG8sZSkpfX19LGV9KCksTT1uZXcgQTtmdW5jdGlvbiBPKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe1Quc2V0KGUsZnVuY3Rpb24oZSl7dmFyIG49UmVmbGVjdC5nZXRNZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsZSl8fFtdLHQ9UmVmbGVjdC5nZXRPd25NZXRhZGF0YShtLGUpfHx7fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7blsrZV09dFtlXX0pKSxufShlKSl9fWlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5nZXRNZXRhZGF0YSl0aHJvdyBuZXcgRXJyb3IoXCJ0c3lyaW5nZSByZXF1aXJlcyBhIHJlZmxlY3QgcG9seWZpbGwuIFBsZWFzZSBhZGQgJ2ltcG9ydCBcXFwicmVmbGVjdC1tZXRhZGF0YVxcXCInIHRvIHRoZSB0b3Agb2YgeW91ciBlbnRyeSBwb2ludC5cIik7aWYod2luZG93LnBuSW5pdFBlcmZvcm1hbmNlPXBlcmZvcm1hbmNlLm5vdygpLHdpbmRvdy5wbkhhc1BvbHlmaWxsZWR8fCh3aW5kb3cucG5IYXNQb2x5ZmlsbGVkPSExKSx3aW5kb3cucG5GdWxsVFBWZXJzaW9ufHwod2luZG93LnBuRnVsbFRQVmVyc2lvbj0hMSksdm9pZCAwIT09d2luZG93LnBuJiZ2b2lkIDAhPT13aW5kb3cucG4uY29udGFpbmVyKXRocm93IG5ldyBFcnJvcihcIlBpYW5vIFNESyBpcyBsb2FkZWQgdHdpY2Ugb24gc2FtZSBwYWdlLiBUcnkgdG8gZml4IHRoYXQgdG8gcHJldmVudCB0aGUgbWVzc2FnZS5cIik7aWYoIXdpbmRvdy5wbkZ1bGxUUFZlcnNpb24mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBQcm94eSl7dmFyIFI9ZnVuY3Rpb24oKXtyZXR1cm4gTH0sTD1uZXcgUHJveHkoe30se2dldDpmdW5jdGlvbihlLG4sdCl7cmV0dXJuXCJpc3ZcIj09PW58fFJ9LGFwcGx5OmZ1bmN0aW9uKGUsbix0KXtyZXR1cm4gTH19KTtNLnJlc29sdmU9bmV3IFByb3h5KE0ucmVzb2x2ZSx7YXBwbHk6ZnVuY3Rpb24oZSxuLHQpe2lmKE0uaXNSZWdpc3RlcmVkKHRbMF0pKXJldHVybiBSZWZsZWN0LmFwcGx5KGUsbix0KTtNLnJlZ2lzdGVyKHRbMF0se3VzZVZhbHVlOkx9KTt2YXIgcj1NLnJlc29sdmUodFswXSk7cmV0dXJuIFVbdFswXV09cixyfX0pfXZhciBOPXdpbmRvdy5wbnx8e30sVT13aW5kb3cucG49e307VS5jb250YWluZXI9TSxVLnNpbmdsZXRvbj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtPKCkoZSksTS5yZWdpc3RlclNpbmdsZXRvbihlKX19LFUuaW5qZWN0YWJsZT1PLFUuaW5qZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuPWUsZnVuY3Rpb24oZSxyLG8pe3ZhciBpPVJlZmxlY3QuZ2V0T3duTWV0YWRhdGEobSxlKXx8e307aVtvXT10P3t0b2tlbjpuLHRyYW5zZm9ybTp0LnRyYW5zZm9ybVRva2VuLHRyYW5zZm9ybUFyZ3M6dC5hcmdzfHxbXX06bixSZWZsZWN0LmRlZmluZU1ldGFkYXRhKG0saSxlKX07dmFyIG4sdH0sVS5yZWdpc3RyeT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9W10pLGZ1bmN0aW9uKG4pe3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUudG9rZW4sdD1lLm9wdGlvbnMscj1mdW5jdGlvbihlLG4pe3ZhciB0PXt9O2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZuLmluZGV4T2Yocik8MCYmKHRbcl09ZVtyXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO288ci5sZW5ndGg7bysrKW4uaW5kZXhPZihyW29dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxyW29dKSYmKHRbcltvXV09ZVtyW29dXSl9cmV0dXJuIHR9KGUsW1widG9rZW5cIixcIm9wdGlvbnNcIl0pO3JldHVybiBNLnJlZ2lzdGVyKG4scix0KX0pKSxufX0sVS5pbnN0YW5jZUNhY2hpbmdGYWN0b3J5PWZ1bmN0aW9uKGUpe3ZhciBuO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09biYmKG49ZSh0KSksbn19LFUucHJlZGVmaW5lZE9wdGlvbnM9TixNLnJlZ2lzdGVyKFwicHJlZGVmaW5lZE9wdGlvbnNcIix7dXNlVmFsdWU6Tn0pO3ZhciBqPSExO3RyeXtpZighd2luZG93LnBuSGFzUG9seWZpbGxlZCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFByb3h5KXRocm93IG5ldyBFcnJvcihcIlRoZSBicm93c2VyIGNhbm5vdCBQcm94eVwiKTtpZihuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7fSkpLE9iamVjdC5hc3NpZ24oe30se30pLFtcIlwiXS5pbmNsdWRlcyhcIlwiKSwhRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCl0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBpcyBubyBjbG9zZXN0IG1ldGhvZCBvZiBhIERPTSBlbGVtZW50XCIpfX1jYXRjaChlKXtqPSEwfWlmKGope3ZhciBEPWZ1bmN0aW9uKCl7dmFyIGUsbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2NyaXB0XCIpO2lmKG4ubGVuZ3RoKWZvcih2YXIgdD0wLHI9bjt0PHIubGVuZ3RoO3QrKyl7dmFyIG89clt0XSxpPW51bGw9PT0oZT1udWxsPT1vP3ZvaWQgMDpvLnNyYyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubWF0Y2goL14uKj8odGlueXBhc3MuY29tfHBpYW5vLmlvKS9pKTtpZihpKXJldHVybiBpWzBdfXJldHVyblwiaHR0cHM6Ly9zYW5kYm94LnRpbnlwYXNzLmNvbVwifSgpO2RlbGV0ZSB3aW5kb3cucG47dmFyIEY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTt0aHJvdyBGLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIixGLmFzeW5jPSEwLEYuc3JjPUQrXCIvYXBpL3BpYW5vLmVzNS5qc1wiLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChGKSxuZXcgRXJyb3IoXCJMb2FkIGZ1bGwgdmVyc2lvbiBvZiBwaWFubyBTREtcIil9dmFyIEIsVj0oQj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4sdCl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3IudHlwZT1cInRleHQvY3NzXCIsci5pbm5lckhUTUw9ZSxyLm9ubG9hZD1uLHIub25lcnJvcj10LGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChyKX0pKX0se25hbWU6XCJjc3NcIixsb2FkT2ZmZXJDc3M6ZnVuY3Rpb24oKXtCKFwiLnRwLWJhY2tkcm9wIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICB0b3A6IDA7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICBib3R0b206IDA7XFxuICAgIGJhY2tncm91bmQ6ICMxMjEyMTQ7XFxuICAgIHotaW5kZXg6IDMwMDAwMDtcXG4gICAgb3BhY2l0eTogMDtcXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMjVzIGxpbmVhcjtcXG59XFxuLnRwLWJhY2tkcm9wLnRwLWFjdGl2ZSB7XFxuICAgIG9wYWNpdHk6IC45O1xcbn1cXG4udHAtbW9kYWwgLnRwLWNsb3NlLnRwLXNxdWFyZSB7XFxuICAgIGJhY2tncm91bmQ6ICNjY2M7XFxuICAgIGJvcmRlci1yYWRpdXM6IDA7XFxuICAgIGJvcmRlcjogMDtcXG4gICAgdG9wOiAwO1xcbiAgICByaWdodDogLTQwcHg7XFxufVxcbi50cC1tb2RhbCAudHAtY2xvc2Uge1xcbiAgICBkaXNwbGF5OiBub25lO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogLTIwcHg7XFxuICAgIHJpZ2h0OiAtMjBweDtcXG4gICAgd2lkdGg6IDQwcHg7XFxuICAgIGhlaWdodDogNDBweDtcXG4gICAgYmFja2dyb3VuZDogI2ZmZiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzExJyBoZWlnaHQ9JzExJyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGNsaXAtcnVsZT0nZXZlbm9kZCcgZD0nTTExIDEuMzY4TDkuNjMyIDAgNS41IDQuMTQyIDEuMzY4IDAgMCAxLjM2OCA0LjE0MiA1LjUgMCA5LjYzMiAxLjM2OCAxMSA1LjUgNi44NTggOS42MzIgMTEgMTEgOS42MzIgNi44NTggNS41IDExIDEuMzY4eicgZmlsbD0nJTIzOTU5NTk1Jy8lM0UlM0Mvc3ZnJTNFXFxcIikgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggMCByZ2JhKDI4LCAzNywgNjgsIDAuMTUpO1xcbiAgICBvdXRsaW5lOiBub25lO1xcbiAgICB6LWluZGV4OiAzMDAxMDA7XFxuICAgIGJvcmRlci1yYWRpdXM6IDQwcHg7XFxuICAgIG9wYWNpdHk6IDA7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSguMjUsIC4yNSk7XFxuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xcbiAgICBhcHBlYXJhbmNlOiBub25lO1xcbn1cXG4udHAtbW9kYWwgLnRwLWNsb3NlOmhvdmVyLFxcbi50cC1tb2RhbCAudHAtY2xvc2U6Zm9jdXMge1xcbiAgICBib3gtc2hhZG93OiAwIDAgMTBweCAycHggcmdiYSgyOCwgMzcsIDY4LCAwLjE1KTtcXG59XFxuLnRwLW1vZGFsIC50cC1jbG9zZTpmb2N1cyB7XFxuICAgYm9yZGVyOiAxcHggc29saWQ7XFxufVxcbi50cC1tb2RhbCAudHAtY2xvc2UudHAtYWN0aXZlIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIG9wYWNpdHk6IDE7XFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMSwgMSk7XFxufVxcbi50cC1tb2RhbCAudHAtaWZyYW1lLXdyYXBwZXJbZGlyPVxcXCJydGxcXFwiXSAudHAtY2xvc2Uge1xcbiAgcmlnaHQ6IGluaXRpYWw7XFxuICBsZWZ0OiAtMjBweDtcXG59XFxuXFxuLnRwLW1vZGFsIC50cC1pZnJhbWUtd3JhcHBlci5waWFuby1pZC1tb2RhbC12ZXItMiAudHAtY2xvc2Uge1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICB3aWR0aDogNjRweDtcXG4gIGhlaWdodDogNjRweDtcXG4gIGJveC1zaGFkb3c6IG5vbmU7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMDtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgcmdiYSgxNSwgMTUsIDIxLCAwLjIpO1xcbiAgYmFja2dyb3VuZDogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHdpZHRoPScxNicgaGVpZ2h0PScxNicgdmlld0JveD0nMCAwIDE2IDE2JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDZyAlM0UlM0NwYXRoIGQ9J00zIDNMMTMgMTNNMTMgM0wzIDEzJyBzdHJva2U9JyUyMzBGMEYxNScgc3Ryb2tlLXdpZHRoPScyJy8lM0UlM0MvZyUzRSUzQy9zdmclM0UlMEFcXFwiKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdDtcXG4gIG9wYWNpdHk6IDAuMztcXG59XFxuXFxuLnRwLW1vZGFsIC50cC1pZnJhbWUtd3JhcHBlci5waWFuby1pZC1tb2RhbC12ZXItMiAudHAtY2xvc2UudHAtYWN0aXZlIHtcXG4gIG9wYWNpdHk6IDAuMztcXG59XFxuXFxuLnRwLW1vZGFsIC50cC1pZnJhbWUtd3JhcHBlci5waWFuby1pZC1tb2RhbC12ZXItMiAudHAtY2xvc2U6aG92ZXIsXFxuLnRwLW1vZGFsIC50cC1pZnJhbWUtd3JhcHBlci5waWFuby1pZC1tb2RhbC12ZXItMiAudHAtY2xvc2U6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgcmdiYSgxNSwgMTUsIDIxLCAwLjA2KTtcXG4gIG9wYWNpdHk6IDE7XFxufVxcblxcbi50cC1tb2RhbCAudHAtaWZyYW1lLXdyYXBwZXIucGlhbm8taWQtbW9kYWwtdmVyLTJbZGlyPVxcXCJydGxcXFwiXSAudHAtY2xvc2Uge1xcbiAgcmlnaHQ6IGF1dG87XFxuICBsZWZ0OiAwO1xcbiAgYm9yZGVyLWxlZnQ6IG5vbmU7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCByZ2JhKDE1LCAxNSwgMjEsIDAuMik7XFxufVxcblxcbi50cC1tb2RhbCAudHAtaWZyYW1lLXdyYXBwZXIucGlhbm8taWQtbW9kYWwtdmVyLTJbZGlyPVxcXCJydGxcXFwiXSAudHAtY2xvc2U6aG92ZXIsXFxuLnRwLW1vZGFsIC50cC1pZnJhbWUtd3JhcHBlci5waWFuby1pZC1tb2RhbC12ZXItMltkaXI9XFxcInJ0bFxcXCJdIC50cC1jbG9zZTpmb2N1cyB7XFxuICBib3JkZXItbGVmdDogbm9uZTtcXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHJnYmEoMTUsIDE1LCAyMSwgMC4wNik7XFxufVxcblxcbi50cC1tb2RhbCB7XFxuICAgIHotaW5kZXg6IDMwMDA1MDtcXG59XFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjUwcHgpIHtcXG4gICAgLnRwLW1vZGFsIC50cC1jbG9zZSB7XFxuICAgICAgICByaWdodDogMDtcXG4gICAgfVxcblxcbiAgICAudHAtbW9kYWwgLnRwLWlmcmFtZS13cmFwcGVyW2Rpcj1cXFwicnRsXFxcIl0gLnRwLWNsb3NlIHtcXG4gICAgICByaWdodDogaW5pdGlhbDtcXG4gICAgICBsZWZ0OiAwO1xcbiAgICB9XFxufVxcbi50cC1tb2RhbCAudHAtaWZyYW1lLXdyYXBwZXIudHAtY3VydGFpbiB7XFxuICAgIHdpZHRoOiA2MDBweDtcXG4gICAgaGVpZ2h0OiA0ODBweDtcXG59XFxuLnRwLW1vZGFsLW9wZW4ge1xcbiAgICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XFxuICAgIGhlaWdodDogMTAwdmg7XFxuICAgIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcXG59XFxuLnRwLW1vZGFsLW9wZW4udHAtbW9kYWwtcmVzaXppbmcge1xcbiAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogYXV0bztcXG59XFxuLypCdWcgZml4IG9mIGZpcmVmb3ggdjU3Ki9cXG4udHAtbW9kYWwtY2xvc2Uge1xcbiAgICBvdmVyZmxvdzogYXV0bztcXG59XFxuLnRwLW1vZGFsX19tYXJnaW4tMTAwIC50cC1pZnJhbWUtd3JhcHBlciB7XFxuICBtYXJnaW4tYm90dG9tOiAxMDBweDtcXG59XFxuLnRwLWlmcmFtZS13cmFwcGVyIHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICBtYXJnaW46IDUwcHggYXV0bztcXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjIxKTtcXG59XFxuLnRwLWlmcmFtZS13cmFwcGVyLm5vLXNoYWRvdyB7XFxuICBib3gtc2hhZG93OiB1bnNldDtcXG59XFxuLnRwLW1vZGFsIHtcXG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xcbiAgICBvdmVyZmxvdy15OiBzY3JvbGwgIWltcG9ydGFudDtcXG4gICAgZGlzcGxheTogbm9uZTtcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICB0b3A6IDA7XFxuICAgIGJvdHRvbTogMDtcXG4gICAgbGVmdDogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XFxufVxcbi50cC1tb2RhbCAudHAtbWVzc2FnZSB7XFxuICAgIGZvbnQtZmFtaWx5OiBcXFwiR3JhcGhpayBXZWIgUmVndWxhclxcXCIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XFxuICAgIHBhZGRpbmc6IDEwcHg7XFxufVxcbi50cC1tb2RhbCAudHAtYnRuLWNvbnRhaW5lciB7XFxuICAgIHBhZGRpbmctbGVmdDogMTBweDtcXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XFxufVxcbi50cC1jeGVuc2UtcGxhY2Vob2xkZXItbW9kYWwge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gICAgbWF4LXdpZHRoOiA5MTJweDtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgIGhlaWdodDogYXV0bztcXG4gICAgb3BhY2l0eTogMTtcXG59XFxuLnRwLXdpZGdldC1wbGFjZWhvbGRlciA+IGRpdjo6YWZ0ZXIge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgY29udGVudDogXFxcIlxcXCI7XFxuICAgIGNsZWFyOiBib3RoO1xcbn1cXG4udHAtYnRuIHtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIHBhZGRpbmc6IDAgMThweDtcXG4gICAgbGluZS1oZWlnaHQ6IDQwcHg7XFxuICAgIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7XFxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIGNvbG9yOiAjZmZmO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgLTFweCAwIHJnYmEoMjE2LCAyMTgsIDIyMSwgMC4wKTtcXG4gICAgYmFja2dyb3VuZDogIzM4NzhEODtcXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogYm90dG9tO1xcbiAgICB0ZXh0LXNoYWRvdzogbm9uZTtcXG4gICAgZm9udC1mYW1pbHk6IFxcXCJHcmFwaGlrIFdlYiBSZWd1bGFyXFxcIiwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gICAgb3V0bGluZTogMDtcXG59XFxuLnRwLXBsZWFzZS13YWl0LnRwLWFjdGl2ZSB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBvcGFjaXR5OiAuOTtcXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMjVzIGxpbmVhcjtcXG59XFxuLnRwLXBsZWFzZS13YWl0IHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDA7XFxuICAgIGxlZnQ6IDA7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM5OTk7XFxuICAgIG9wYWNpdHk6IDA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIGZvbnQtd2VpZ2h0OiBsaWdodGVyO1xcbiAgICBmb250LWZhbWlseTogXFxcIk9wZW4gU2Fuc1xcXCIsIHNhbnMtc2VyaWY7XFxuICAgIGZvbnQtc2l6ZTogMTVweDtcXG59XFxuLnRwLXBsZWFzZS13YWl0LnRwLW92ZXJsYXAge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgei1pbmRleDogMzAwMTUwO1xcbn1cXG5cXG4udHAtcGxlYXNlLXdhaXQudHAtbG9jYWwtb3ZlcmxhcCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcblxcbi50cC1wbGVhc2Utd2FpdCA+IC50cC1pY29uIHtcXG4gICAgd2lkdGg6IDgwcHg7XFxuICAgIGhlaWdodDogODBweDtcXG4gICAgbWFyZ2luOiAxMDBweCBhdXRvIDIwcHggYXV0bztcXG59XFxuXFxuLnBuLXNwaW5uZXIge1xcbiAgY29sb3I6IGdyZXk7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB3aWR0aDogODBweDtcXG4gIGhlaWdodDogODBweDtcXG59XFxuLnBuLXNwaW5uZXIgZGl2IHtcXG4gIHRyYW5zZm9ybS1vcmlnaW46IDQwcHggNDBweDtcXG4gIGFuaW1hdGlvbjogcG4tc3Bpbm5lciAxLjJzIGxpbmVhciBpbmZpbml0ZTtcXG59XFxuLnBuLXNwaW5uZXIgZGl2OmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCIgXFxcIjtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAzcHg7XFxuICBsZWZ0OiAzN3B4O1xcbiAgd2lkdGg6IDZweDtcXG4gIGhlaWdodDogMThweDtcXG4gIGJvcmRlci1yYWRpdXM6IDIwJTtcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxufVxcbi5wbi1zcGlubmVyIGRpdjpudGgtY2hpbGQoMSkge1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICBhbmltYXRpb24tZGVsYXk6IC0xLjFzO1xcbn1cXG4ucG4tc3Bpbm5lciBkaXY6bnRoLWNoaWxkKDIpIHtcXG4gIHRyYW5zZm9ybTogcm90YXRlKDMwZGVnKTtcXG4gIGFuaW1hdGlvbi1kZWxheTogLTFzO1xcbn1cXG4ucG4tc3Bpbm5lciBkaXY6bnRoLWNoaWxkKDMpIHtcXG4gIHRyYW5zZm9ybTogcm90YXRlKDYwZGVnKTtcXG4gIGFuaW1hdGlvbi1kZWxheTogLTAuOXM7XFxufVxcbi5wbi1zcGlubmVyIGRpdjpudGgtY2hpbGQoNCkge1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpO1xcbiAgYW5pbWF0aW9uLWRlbGF5OiAtMC44cztcXG59XFxuLnBuLXNwaW5uZXIgZGl2Om50aC1jaGlsZCg1KSB7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSgxMjBkZWcpO1xcbiAgYW5pbWF0aW9uLWRlbGF5OiAtMC43cztcXG59XFxuLnBuLXNwaW5uZXIgZGl2Om50aC1jaGlsZCg2KSB7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSgxNTBkZWcpO1xcbiAgYW5pbWF0aW9uLWRlbGF5OiAtMC42cztcXG59XFxuLnBuLXNwaW5uZXIgZGl2Om50aC1jaGlsZCg3KSB7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xcbiAgYW5pbWF0aW9uLWRlbGF5OiAtMC41cztcXG59XFxuLnBuLXNwaW5uZXIgZGl2Om50aC1jaGlsZCg4KSB7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSgyMTBkZWcpO1xcbiAgYW5pbWF0aW9uLWRlbGF5OiAtMC40cztcXG59XFxuLnBuLXNwaW5uZXIgZGl2Om50aC1jaGlsZCg5KSB7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSgyNDBkZWcpO1xcbiAgYW5pbWF0aW9uLWRlbGF5OiAtMC4zcztcXG59XFxuLnBuLXNwaW5uZXIgZGl2Om50aC1jaGlsZCgxMCkge1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoMjcwZGVnKTtcXG4gIGFuaW1hdGlvbi1kZWxheTogLTAuMnM7XFxufVxcbi5wbi1zcGlubmVyIGRpdjpudGgtY2hpbGQoMTEpIHtcXG4gIHRyYW5zZm9ybTogcm90YXRlKDMwMGRlZyk7XFxuICBhbmltYXRpb24tZGVsYXk6IC0wLjFzO1xcbn1cXG4ucG4tc3Bpbm5lciBkaXY6bnRoLWNoaWxkKDEyKSB7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSgzMzBkZWcpO1xcbiAgYW5pbWF0aW9uLWRlbGF5OiAwcztcXG59XFxuQGtleWZyYW1lcyBwbi1zcGlubmVyIHtcXG4gIDAlIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG4gIDEwMCUge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbn1cXG5cXG4udHAtcGxlYXNlLXdhaXQgPiAudHAtaWNvbi50cC1jZW50ZXJlZCB7XFxuICBtYXJnaW46IDA7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDUwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbn1cXG4udHAtaWZyYW1lLXdyYXBwZXIubm8td2lkdGggLnRwLWNsb3NlLFxcbi50cC1pZnJhbWUtd3JhcHBlci5uby1oZWlnaHQgLnRwLWNsb3NlLFxcbi50cC1tb2RhbC5uby13aWR0aCAudHAtY2xvc2UsXFxuLnRwLW1vZGFsLm5vLWhlaWdodCAudHAtY2xvc2Uge1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4udHAtYmFubmVyIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuXFxuLnRwLWJhbm5lciA+IC50cC1jb250YWluZXItaW5uZXIsXFxuLnRwLWJhbm5lciA+IC50cC1jb250YWluZXItaW5uZXIgPiBpZnJhbWUge1xcbiAgd2lkdGg6IGluaGVyaXQgIWltcG9ydGFudDtcXG59XFxuXFxuLmZyb3plbi1tb2JpbGUtYm9keSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbjogMDtcXG4gIHBvc2l0aW9uOiBmaXhlZCAhaW1wb3J0YW50O1xcbiAgbWF4LWhlaWdodDogLXdlYmtpdC1maWxsLWF2YWlsYWJsZTtcXG4gIG1heC1oZWlnaHQ6IC1tb3otYXZhaWxhYmxlO1xcbn1cXG5cIil9fSk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiY3NzXCIse3VzZVZhbHVlOlZ9KSxwbi5jc3M9cG4uY29udGFpbmVyLnJlc29sdmUoXCJjc3NcIik7dmFyIHEseixIPWZ1bmN0aW9uKGUpe3JldHVybnt9LnRvU3RyaW5nLmNhbGwoZSkubWF0Y2goL1xccyhbYS16QS1aXSspLylbMV0udG9Mb3dlckNhc2UoKX0sVz1NYXRoLnJvdW5kKDFlNCpNYXRoLnJhbmRvbSgpKSxKPXdpbmRvdy5kb2N1bWVudCxHPS9eKD86dGV4dHxhcHBsaWNhdGlvbilcXC9qYXZhc2NyaXB0L2ksUT0vXig/OnRleHR8YXBwbGljYXRpb24pXFwveG1sL2ksWD1cImFwcGxpY2F0aW9uL2pzb25cIiwkPVwidGV4dC9odG1sXCIsWT0vXlxccyokLyxLPWZ1bmN0aW9uKGUpe3ZhciBuPWNlKHt9LGV8fHt9KTtmb3IocSBpbiBLLnNldHRpbmdzKXZvaWQgMD09PW5bcV0mJihuW3FdPUsuc2V0dGluZ3NbcV0pOyFmdW5jdGlvbihlKXtlLmdsb2JhbCYmMD09Sy5hY3RpdmUrKyYmWihlKX0obiksbi5jcm9zc0RvbWFpbnx8KG4uY3Jvc3NEb21haW49L14oW1xcdy1dKzopP1xcL1xcLyhbXlxcL10rKS8udGVzdChuLnVybCkmJlJlZ0V4cC4kMiE9d2luZG93LmxvY2F0aW9uLmhvc3QpO3ZhciB0PW4uZGF0YVR5cGUscj0vPVxcPy8udGVzdChuLnVybCk7aWYoXCJqc29ucFwiPT10fHxyKXJldHVybiByfHwobi51cmw9b2Uobi51cmwsXCJjYWxsYmFjaz0/XCIpKSxLLkpTT05QKG4pO24udXJsfHwobi51cmw9d2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCkpLGllKG4pO3ZhciBvLGk9bi5hY2NlcHRzW3RdLGE9e30scz0vXihbXFx3LV0rOilcXC9cXC8vLnRlc3Qobi51cmwpP1JlZ0V4cC4kMTp3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wsYz1LLnNldHRpbmdzLnhocigpO24uY3Jvc3NEb21haW58fChhW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXT1cIlhNTEh0dHBSZXF1ZXN0XCIpLGkmJihhLkFjY2VwdD1pLGkuaW5kZXhPZihcIixcIik+LTEmJihpPWkuc3BsaXQoXCIsXCIsMilbMF0pLGMub3ZlcnJpZGVNaW1lVHlwZSYmYy5vdmVycmlkZU1pbWVUeXBlKGkpKSwobi5jb250ZW50VHlwZXx8bi5kYXRhJiZcIkdFVFwiIT1uLnR5cGUudG9VcHBlckNhc2UoKSkmJihhW1wiQ29udGVudC1UeXBlXCJdPW4uY29udGVudFR5cGV8fFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpLG4uaGVhZGVycz1jZShhLG4uaGVhZGVyc3x8e30pO3ZhciBsPW4ueGhyRmllbGRzJiZuLnhockZpZWxkcy53aXRoQ3JlZGVudGlhbHM7bCYmKGMud2l0aENyZWRlbnRpYWxzPWwpLGMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09Yy5yZWFkeVN0YXRlKXtjbGVhclRpbWVvdXQobyk7dmFyIGUscj0hMTtpZihjLnN0YXR1cz49MjAwJiZjLnN0YXR1czwzMDB8fDMwND09Yy5zdGF0dXN8fDA9PWMuc3RhdHVzJiZcImZpbGU6XCI9PXMpe3Q9dHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihlPT0kP1wiaHRtbFwiOmU9PVg/XCJqc29uXCI6Ry50ZXN0KGUpP1wic2NyaXB0XCI6US50ZXN0KGUpJiZcInhtbFwiKXx8XCJ0ZXh0XCJ9KGMuZ2V0UmVzcG9uc2VIZWFkZXIoXCJjb250ZW50LXR5cGVcIikpLGU9Yy5yZXNwb25zZVRleHQ7dHJ5e1wic2NyaXB0XCI9PXQ/KDAsZXZhbCkoZSk6XCJ4bWxcIj09dD9lPWMucmVzcG9uc2VYTUw6XCJqc29uXCI9PXQmJihlPVkudGVzdChlKT9udWxsOkpTT04ucGFyc2UoZSkpfWNhdGNoKGUpe3I9ZX1yP25lKHIsXCJwYXJzZXJlcnJvclwiLGMsbik6ZWUoZSxjLG4pfWVsc2UgbmUobnVsbCxcImVycm9yXCIsYyxuKX19O3ZhciB1PSEoXCJhc3luY1wiaW4gbil8fG4uYXN5bmM7Zm9yKHogaW4gYy5vcGVuKG4udHlwZSxuLnVybCx1KSxuLmhlYWRlcnMpYy5zZXRSZXF1ZXN0SGVhZGVyKHosbi5oZWFkZXJzW3pdKTtyZXR1cm4hMT09PWZ1bmN0aW9uKGUsbil7dmFyIHQ9bi5jb250ZXh0O2lmKCExPT09bi5iZWZvcmVTZW5kLmNhbGwodCxlLG4pfHwhMT09PVoobikpcmV0dXJuITE7WihuKX0oYyxuKT8oYy5hYm9ydCgpLCExKToobi50aW1lb3V0PjAmJihvPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7Yy5vbnJlYWR5c3RhdGVjaGFuZ2U9cmUsYy5hYm9ydCgpLG5lKG51bGwsXCJ0aW1lb3V0XCIsYyxuKX0pLG4udGltZW91dCkpLGMuc2VuZChuLmRhdGE/bi5kYXRhOm51bGwpLGMpfTtmdW5jdGlvbiBaKGUsbix0LHIpe2lmKGUuZ2xvYmFsKXJldHVybiEwfWZ1bmN0aW9uIGVlKGUsbix0KXt2YXIgcj10LmNvbnRleHQsbz1cInN1Y2Nlc3NcIjt0LnN1Y2Nlc3MuY2FsbChyLGUsbyxuKSxaKHQpLHRlKG8sbix0KX1mdW5jdGlvbiBuZShlLG4sdCxyKXt2YXIgbz1yLmNvbnRleHQ7ci5lcnJvci5jYWxsKG8sdCxuLGUpLFoociksdGUobix0LHIpfWZ1bmN0aW9uIHRlKGUsbix0KXt2YXIgcj10LmNvbnRleHQ7dC5jb21wbGV0ZS5jYWxsKHIsbixlKSxaKHQpLGZ1bmN0aW9uKGUpe2UuZ2xvYmFsJiYhLS1LLmFjdGl2ZSYmWihlKX0odCl9ZnVuY3Rpb24gcmUoKXt9ZnVuY3Rpb24gb2UoZSxuKXtyZXR1cm4oZStcIiZcIituKS5yZXBsYWNlKC9bJj9dezEsMn0vLFwiP1wiKX1mdW5jdGlvbiBpZShlKXt2YXIgbix0LHI7XCJvYmplY3RcIj09PUgoZS5kYXRhKSYmKGUuZGF0YT0obj1lLmRhdGEsKHI9W10pLmFkZD1mdW5jdGlvbihlLG4pe3RoaXMucHVzaChhZShlKStcIj1cIithZShuKSl9LHNlKHIsbix0KSxyLmpvaW4oXCImXCIpLnJlcGxhY2UoXCIlMjBcIixcIitcIikpKSwhZS5kYXRhfHxlLnR5cGUmJlwiR0VUXCIhPWUudHlwZS50b1VwcGVyQ2FzZSgpfHwoZS51cmw9b2UoZS51cmwsZS5kYXRhKSl9Sy5hY3RpdmU9MCxLLkpTT05QPWZ1bmN0aW9uKGUpe2lmKCEoXCJ0eXBlXCJpbiBlKSlyZXR1cm4gSyhlKTt2YXIgbix0PVwianNvbnBcIisoZS5jYWNoZT9cIkNhbGxiYWNrXCI6KytXKSxyPUouY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSxvPXthYm9ydDpmdW5jdGlvbigpe3QgaW4gd2luZG93JiYod2luZG93W3RdPXJlKSx0ZShcImFib3J0XCIsbyxlKX19LGk9Si5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF18fEouZG9jdW1lbnRFbGVtZW50O3JldHVybiBlLmVycm9yJiYoci5vbmVycm9yPWZ1bmN0aW9uKCl7by5hYm9ydCgpLGUuZXJyb3IoKX0pLHdpbmRvd1t0XT1mdW5jdGlvbihyKXtjbGVhclRpbWVvdXQobiksZGVsZXRlIHdpbmRvd1t0XSxlZShyLG8sZSl9LGllKGUpLHIuc3JjPWUudXJsLnJlcGxhY2UoLz1cXD8vLFwiPVwiK3QpLGkuaW5zZXJ0QmVmb3JlKHIsaS5maXJzdENoaWxkKSxlLnRpbWVvdXQ+MCYmKG49c2V0VGltZW91dCgoZnVuY3Rpb24oKXtvLmFib3J0KCksdGUoXCJ0aW1lb3V0XCIsbyxlKX0pLGUudGltZW91dCkpLG99LEsuc2V0dGluZ3M9e3R5cGU6XCJHRVRcIixiZWZvcmVTZW5kOnJlLHN1Y2Nlc3M6cmUsZXJyb3I6cmUsY29tcGxldGU6cmUsY29udGV4dDpudWxsLGdsb2JhbDohMCx4aHI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdH0sYWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCIsanNvbjpYLHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixodG1sOiQsdGV4dDpcInRleHQvcGxhaW5cIn0sY3Jvc3NEb21haW46ITEsdGltZW91dDowfSxLLmdldD1mdW5jdGlvbihlLG4pe3JldHVybiBLKHt1cmw6ZSxzdWNjZXNzOm59KX0sSy5wb3N0PWZ1bmN0aW9uKGUsbix0LHIpe3JldHVyblwiZnVuY3Rpb25cIj09PUgobikmJihyPXJ8fHQsdD1uLG49bnVsbCksSyh7dHlwZTpcIlBPU1RcIix1cmw6ZSxkYXRhOm4sc3VjY2Vzczp0LGRhdGFUeXBlOnJ9KX0sSy5nZXRKU09OPWZ1bmN0aW9uKGUsbil7cmV0dXJuIEsoe3VybDplLHN1Y2Nlc3M6bixkYXRhVHlwZTpcImpzb25cIn0pfTt2YXIgYWU9ZW5jb2RlVVJJQ29tcG9uZW50O2Z1bmN0aW9uIHNlKGUsbix0LHIpe3ZhciBvPVwiYXJyYXlcIj09PUgobik7Zm9yKHZhciBpIGluIG4pe3ZhciBhPW5baV07ciYmKGk9dD9yOnIrXCJbXCIrKG8/XCJcIjppKStcIl1cIiksIXImJm8/ZS5hZGQoYS5uYW1lLGEudmFsdWUpOih0P1wiYXJyYXlcIj09PUgoYSk6XCJvYmplY3RcIj09PUgoYSkpP3NlKGUsYSx0LGkpOmUuYWRkKGksYSl9fWZ1bmN0aW9uIGNlKGUpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZTtyZXR1cm4gbi5jYWxsKGFyZ3VtZW50cywxKS5mb3JFYWNoKChmdW5jdGlvbihuKXtmb3IocSBpbiBuKXZvaWQgMCE9PW5bcV0mJihlW3FdPW5bcV0pfSkpLGV9dmFyIGxlPUssdWU9e3JlcXVlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGF0YVR5cGU9ZS5kYXRhVHlwZXx8XCJqc29uXCIsbGUoZSl9fTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJhamF4XCIse3VzZVZhbHVlOnVlfSkscG4uYWpheD1wbi5jb250YWluZXIucmVzb2x2ZShcImFqYXhcIik7dmFyIGRlPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX0sbj1mdW5jdGlvbihlLG4pe3JldHVybiBlP3QoZSxuKVswXTpudWxsfSx0PWZ1bmN0aW9uKGUsbil7aWYoIWUpcmV0dXJuW107dmFyIHQ9bnx8ZG9jdW1lbnQscj1lLnNwbGl0KFwiLFwiKSxvPVtdO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUudHJpbSgpO3RyeXtvPW8uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQucXVlcnlTZWxlY3RvckFsbChuKSkpfWNhdGNoKGUpe3ZhciByPW4uaW5kZXhPZihcIiBcIik+LTE7aWYoXCIuXCIhPT1uWzBdfHxyKWlmKFwiI1wiIT09blswXXx8cilvPW8uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQucXVlcnlTZWxlY3RvckFsbChuKSkpO2Vsc2V7dmFyIGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobi5zdWJzdHJpbmcoMSkpO289by5jb25jYXQoaT9baV06W10pfWVsc2Ugbz1vLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobi5zdWJzdHJpbmcoMSkpKSl9fSkpLG99LHI9ZnVuY3Rpb24oZSxuLHQpe3Quc2V0QXR0cmlidXRlKGUsbil9LG89W10saT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuXTtmb3IodmFyIHQ9e30scj0wLG89ZnVuY3Rpb24oZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKFwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZVtuXSk/dFtuXT1pKHRbbl0sZVtuXSk6dFtuXT1lW25dKX07cjxlLmxlbmd0aDtyKyspbyhlW3JdKTtyZXR1cm4gdH07cmV0dXJue3Njcm9sbFRvcDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGFnZVlPZmZzZXR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B9LHdpblNpemU6ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3csbj1kb2N1bWVudCx0PW4uZG9jdW1lbnRFbGVtZW50LHI9bi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0sbz1lLmlubmVyV2lkdGh8fHQuY2xpZW50V2lkdGh8fHIuY2xpZW50V2lkdGg7cmV0dXJue2hlaWdodDplLmlubmVySGVpZ2h0fHx0LmNsaWVudEhlaWdodHx8ci5jbGllbnRIZWlnaHQsd2lkdGg6b319LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4gMD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmZS5jb25zdHJ1Y3Rvcj09PU9iamVjdH0saXNGdW5jdGlvbjplLGluQXJyYXk6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbi5pbmRleE9mKGUpfSx0eXBlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkucmVwbGFjZSgvXlxcW29iamVjdCAoLispXFxdJC8sXCIkMVwiKS50b0xvd2VyQ2FzZSgpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dmFyIG47bnVsbD09PShuPWUucGFyZW50Tm9kZSl8fHZvaWQgMD09PW58fG4ucmVtb3ZlQ2hpbGQoZSl9LGVtcHR5OmZ1bmN0aW9uKGUpe2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCl9LHF1ZXJ5RWw6bixxYTp0LGZpbHRlcjpmdW5jdGlvbihlLG4pe3JldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlKSxuKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZSxuKXtuLmNsYXNzTGlzdC5hZGQoZSl9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGUsbil7bi5jbGFzc0xpc3QudG9nZ2xlKGUpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlLG4pe24uY2xhc3NMaXN0LnJlbW92ZShlKX0sZ2V0V2lkdGg6ZnVuY3Rpb24oZSl7dmFyIG49Z2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLHQ9bi5wYWRkaW5nTGVmdCxyPW4ucGFkZGluZ1JpZ2h0LG89ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtyZXR1cm4gby09cGFyc2VGbG9hdCh0KStwYXJzZUZsb2F0KHIpfSxzaG93OmZ1bmN0aW9uKGUpe2Uuc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9LGhpZGU6ZnVuY3Rpb24oZSl7ZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSxnZXRIZWlnaHQ6ZnVuY3Rpb24oZSl7dmFyIG49Z2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLHQ9bi5wYWRkaW5nVG9wLHI9bi5wYWRkaW5nQm90dG9tLG89ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7cmV0dXJuIG8tPXBhcnNlRmxvYXQodCkrcGFyc2VGbG9hdChyKX0sdmlzaWJsZTpmdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbihlLG4pe2UuYXBwZW5kQ2hpbGQobil9LHNldEF0dHI6cixzZXRBdHRyczpmdW5jdGlvbihlLG4pe09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IodCxlW3RdLG4pfSkpfSxnZXRBdHRyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPW4oZSkpLGU/ZS5nZXRBdHRyaWJ1dGUodCk6bnVsbH0scmVhZHk6ZnVuY3Rpb24oZSl7XCJsb2FkaW5nXCIhPWRvY3VtZW50LnJlYWR5U3RhdGU/ZSgpOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGUoKX0pKX0sZGVsZWdhdGU6ZnVuY3Rpb24oZSxuLHQscil7dmFyIGk9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXQudGFyZ2V0O2kmJm51bGwhPWk7aT1pLnBhcmVudE5vZGUpe3ZhciBhPW8uZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJlbnRFbD09PWUmJnQuZWxlbWVudFNlbGVjdG9yPT09bn0pKTtpZihpLm1hdGNoZXMmJmkubWF0Y2hlcyhuKSYmYT49MCl7ci5jYWxsKGksdCk7YnJlYWt9fX07by5wdXNoKHtwYXJlbnRFbDplLGVsZW1lbnRTZWxlY3RvcjpuLGhhbmRsZXI6aSxldmVudE5hbWU6dH0pLGUuYWRkRXZlbnRMaXN0ZW5lcih0LGksITEpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsbil7bz1vLmZpbHRlcigoZnVuY3Rpb24odCl7dmFyIHI9dC5wYXJlbnRFbCE9PWUmJnQuZWxlbWVudFNlbGVjdG9yIT09bjtyZXR1cm4gcnx8dC5wYXJlbnRFbC5yZW1vdmVFdmVudExpc3RlbmVyKHQuZXZlbnROYW1lLHQuaGFuZGxlcikscn0pKX0sb246ZnVuY3Rpb24oZSxuLHQpe2UuYWRkRXZlbnRMaXN0ZW5lcihuLChmdW5jdGlvbihlKXt0KGUpfSksITEpfSxvZmY6ZnVuY3Rpb24oZSxuLHQpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLHQpfSxkZWVwRXh0ZW5kOmkscGFyYW06ZnVuY3Rpb24obil7dmFyIHQ9W10scj1mdW5jdGlvbihuLHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQobikrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGUodCk/dCgpOnR8fDA9PT10fHwhMT09PXQ/dDpcIlwiKX07cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe0FycmF5LmlzQXJyYXkobltlXSk/bltlXS5mb3JFYWNoKChmdW5jdGlvbihuKXt0LnB1c2gocihlLG4pKX0pKTp0LnB1c2gocihlLG5bZV0pKX0pKSx0LmpvaW4oXCImXCIpfX19O3BuLmNvbnRhaW5lci5yZWdpc3RlcihcImpxVXRpbHNcIix7dXNlVmFsdWU6ZGUoKX0pLHBuLmpxVXRpbHM9cG4uY29udGFpbmVyLnJlc29sdmUoXCJqcVV0aWxzXCIpO3ZhciBwZT1mdW5jdGlvbigpe3ZhciBlPXt9LG49L1xcKy9nLHQ9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKG4sXCIgXCIpKX1jYXRjaChlKXt9fSxyPWZ1bmN0aW9uKGUpezA9PT1lLmluZGV4T2YoJ1wiJykmJihlPWUuc2xpY2UoMSwtMSkucmVwbGFjZSgvXFxcXFwiL2csJ1wiJykucmVwbGFjZSgvXFxcXFxcXFwvZyxcIlxcXFxcIikpLGU9dChlKTt0cnl7cmV0dXJuIGV9Y2F0Y2goZSl7fX0sbz1mdW5jdGlvbihuLG8saSl7aWYodm9pZCAwIT09byl7aWYoXCJudW1iZXJcIj09dHlwZW9mKGk9T2JqZWN0LmFzc2lnbih7fSxlLGkpKS5leHBpcmVzKXt2YXIgYT1pLmV4cGlyZXMscz1pLmV4cGlyZXM9bmV3IERhdGU7cy5zZXREYXRlKHMuZ2V0RGF0ZSgpK2EpfXJldHVybiBvPVN0cmluZyhvKSxkb2N1bWVudC5jb29raWU9W2VuY29kZVVSSUNvbXBvbmVudChuKSxcIj1cIixlbmNvZGVVUklDb21wb25lbnQobyksaS5leHBpcmVzP1wiOyBleHBpcmVzPVwiK2kuZXhwaXJlcy50b1VUQ1N0cmluZygpOlwiXCIsaS5wYXRoP1wiOyBwYXRoPVwiK2kucGF0aDpcIlwiLGkuZG9tYWluP1wiOyBkb21haW49XCIraS5kb21haW46XCJcIixpLnNlY3VyZT9cIjsgc2VjdXJlXCI6XCJcIixpLnNhbWVzaXRlP1wiOyBzYW1lc2l0ZT1cIitpLnNhbWVzaXRlOlwiXCJdLmpvaW4oXCJcIil9Zm9yKHZhciBjLGw9ZG9jdW1lbnQuY29va2llP2RvY3VtZW50LmNvb2tpZS5zcGxpdChcIjsgXCIpOltdLHU9MCxkPWwubGVuZ3RoO3U8ZDt1Kyspe3ZhciBwPWxbdV0uc3BsaXQoXCI9XCIpLGY9dChwLnNoaWZ0KCkpLG09cC5qb2luKFwiPVwiKTtpZihuJiZuPT09Zil7Yz1yKG0pO2JyZWFrfW58fHZvaWQgMD09PShtPXIobSkpfHwoY1tmXT1tKX1yZXR1cm4gY307cmV0dXJue25hbWU6XCJjb29raWVcIixkZWZhdWx0czplLHJhdzohMSxqc29uOmZhbHNlLHBsdXNlczpuLHNldDpmdW5jdGlvbihlLG4sdCl7byhlLG4sdCl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0scmVtb3ZlOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHZvaWQgMCE9PW8oZSkmJihvKGUsXCJcIixPYmplY3QuYXNzaWduKHt9LG4se2V4cGlyZXM6LTF9KSksITApfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiY29va2llXCIse3VzZVZhbHVlOnBlfSkscG4uY29va2llPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiY29va2llXCIpO3ZhciBmZT1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKGUpe3ZhciBuLHQscixvPWFyZ3VtZW50cy5sZW5ndGgsaT13aW5kb3dbZV0sYT1hcmd1bWVudHMscz1hWzFdO2lmKG88Mil0aHJvdyBuZXcgRXJyb3IoXCJNaW5pbXVtIDIgYXJndW1lbnRzIG11c3QgYmUgZ2l2ZW5cIik7aWYoQXJyYXkuaXNBcnJheShzKSl7Zm9yKHZhciBjIGluIHQ9e30scyl7bj1zW2NdO3RyeXt0W25dPUpTT04ucGFyc2UoaS5nZXRJdGVtKG4pKX1jYXRjaChlKXt0W25dPWkuZ2V0SXRlbShuKX19cmV0dXJuIHR9aWYoMiE9byl7dHJ5e3Q9SlNPTi5wYXJzZShpLmdldEl0ZW0ocykpfWNhdGNoKGUpe3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcihzK1wiIGlzIG5vdCBkZWZpbmVkIGluIHRoaXMgc3RvcmFnZVwiKX1mb3IoYz0yO2M8by0xO2MrKylpZih2b2lkIDA9PT0odD10W2FbY11dKSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoW10uc2xpY2UuY2FsbChhLDEsYysxKS5qb2luKFwiLlwiKStcIiBpcyBub3QgZGVmaW5lZCBpbiB0aGlzIHN0b3JhZ2VcIik7aWYoQXJyYXkuaXNBcnJheShhW2NdKSl7Zm9yKHZhciBsIGluIHI9dCx0PXt9LGFbY10pdFthW2NdW2xdXT1yW2FbY11bbF1dO3JldHVybiB0fXJldHVybiB0W2FbY11dfXRyeXtyZXR1cm4gSlNPTi5wYXJzZShpLmdldEl0ZW0ocykpfWNhdGNoKGUpe3JldHVybiBpLmdldEl0ZW0ocyl9fWZ1bmN0aW9uIHQobil7dmFyIHQscixvPWFyZ3VtZW50cy5sZW5ndGgsaT13aW5kb3dbbl0sYT1hcmd1bWVudHMscz1hWzFdLGM9YVsyXSxsPXt9O2lmKG88Mnx8IWUuaXNQbGFpbk9iamVjdChzKSYmbzwzKXRocm93IG5ldyBFcnJvcihcIk1pbmltdW0gMyBhcmd1bWVudHMgbXVzdCBiZSBnaXZlbiBvciBzZWNvbmQgcGFyYW1ldGVyIG11c3QgYmUgYW4gb2JqZWN0XCIpO2lmKGUuaXNQbGFpbk9iamVjdChzKSl7Zm9yKHZhciB1IGluIHMpdD1zW3VdLGUuaXNQbGFpbk9iamVjdCh0KT9pLnNldEl0ZW0odSxKU09OLnN0cmluZ2lmeSh0KSk6aS5zZXRJdGVtKHUsdCk7cmV0dXJuIHN9aWYoMz09bylyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgYz9pLnNldEl0ZW0ocyxKU09OLnN0cmluZ2lmeShjKSk6aS5zZXRJdGVtKHMsYyksYzt0cnl7bnVsbCE9KHI9aS5nZXRJdGVtKHMpKSYmKGw9SlNPTi5wYXJzZShyKSl9Y2F0Y2goZSl7fXI9bDtmb3IodT0yO3U8by0yO3UrKylyW3Q9YVt1XV0mJmUuaXNQbGFpbk9iamVjdChyW3RdKXx8KHJbdF09e30pLHI9clt0XTtyZXR1cm4gclthW3VdXT1hW3UrMV0saS5zZXRJdGVtKHMsSlNPTi5zdHJpbmdpZnkobCkpLGx9ZnVuY3Rpb24gcihlKXt2YXIgbix0LHI9YXJndW1lbnRzLmxlbmd0aCxvPXdpbmRvd1tlXSxpPWFyZ3VtZW50cyxhPWlbMV07aWYocjwyKXRocm93IG5ldyBFcnJvcihcIk1pbmltdW0gMiBhcmd1bWVudHMgbXVzdCBiZSBnaXZlblwiKTtpZihBcnJheS5pc0FycmF5KGEpKXtmb3IodmFyIHMgaW4gYSlvLnJlbW92ZUl0ZW0oYVtzXSk7cmV0dXJuITB9aWYoMj09cilyZXR1cm4gby5yZW1vdmVJdGVtKGEpLCEwO3RyeXtuPXQ9SlNPTi5wYXJzZShvLmdldEl0ZW0oYSkpfWNhdGNoKGUpe3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcihhK1wiIGlzIG5vdCBkZWZpbmVkIGluIHRoaXMgc3RvcmFnZVwiKX1mb3Iocz0yO3M8ci0xO3MrKylpZih2b2lkIDA9PT0odD10W2lbc11dKSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoW10uc2xpY2UuY2FsbChpLDEscykuam9pbihcIi5cIikrXCIgaXMgbm90IGRlZmluZWQgaW4gdGhpcyBzdG9yYWdlXCIpO2lmKEFycmF5LmlzQXJyYXkoaVtzXSkpZm9yKHZhciBjIGluIGlbc10pZGVsZXRlIHRbaVtzXVtjXV07ZWxzZSBkZWxldGUgdFtpW3NdXTtyZXR1cm4gby5zZXRJdGVtKGEsSlNPTi5zdHJpbmdpZnkobikpLCEwfWZ1bmN0aW9uIG8odCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aCxpPWFyZ3VtZW50cyxzPWlbMV07aWYoMT09cilyZXR1cm4gMD09YSh0KS5sZW5ndGg7aWYoQXJyYXkuaXNBcnJheShzKSl7Zm9yKHZhciBjPTA7YzxzLmxlbmd0aDtjKyspaWYoIW8odCxzW2NdKSlyZXR1cm4hMTtyZXR1cm4hMH10cnl7dmFyIGw9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zm9yKHZhciBjIGluIEFycmF5LmlzQXJyYXkoaVtyLTFdKXx8KGw9e3RvdGVzdDpsfSksbClpZighKGUuaXNQbGFpbk9iamVjdChsW2NdKSYmZS5pc0VtcHR5T2JqZWN0KGxbY10pfHxBcnJheS5pc0FycmF5KGxbY10pJiYhbFtjXS5sZW5ndGgpJiZsW2NdKXJldHVybiExO3JldHVybiEwfWNhdGNoKGUpe3JldHVybiEwfX1mdW5jdGlvbiBpKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGgscj1hcmd1bWVudHMsbz1yWzFdO2lmKHQ8Mil0aHJvdyBuZXcgRXJyb3IoXCJNaW5pbXVtIDIgYXJndW1lbnRzIG11c3QgYmUgZ2l2ZW5cIik7aWYoQXJyYXkuaXNBcnJheShvKSl7Zm9yKHZhciBhPTA7YTxvLmxlbmd0aDthKyspaWYoIWkoZSxvW2FdKSlyZXR1cm4hMTtyZXR1cm4hMH10cnl7dmFyIHM9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zm9yKHZhciBhIGluIEFycmF5LmlzQXJyYXkoclt0LTFdKXx8KHM9e3RvdGVzdDpzfSkscylpZih2b2lkIDA9PT1zW2FdfHxudWxsPT09c1thXSlyZXR1cm4hMTtyZXR1cm4hMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gYSh0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoLG89d2luZG93W3RdLGk9YXJndW1lbnRzLGE9W10scz17fTtpZigocz1yPjE/bi5hcHBseSh0aGlzLGkpOm8pLl9jb29raWUpZm9yKHZhciBjIGluIGUuY29va2llKCkpXCJcIiE9YyYmYS5wdXNoKGMucmVwbGFjZShzLl9wcmVmaXgsXCJcIikpO2Vsc2UgZm9yKHZhciBsIGluIHMpYS5wdXNoKGwpO3JldHVybiBhfWZ1bmN0aW9uIHMobil7aWYoIW58fFwic3RyaW5nXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcIkZpcnN0IHBhcmFtZXRlciBtdXN0IGJlIGEgc3RyaW5nXCIpO2M/KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShuKXx8d2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKG4sXCJ7fVwiKSx3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShuKXx8d2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0obixcInt9XCIpKTood2luZG93LmxvY2FsQ29va2llU3RvcmFnZS5nZXRJdGVtKG4pfHx3aW5kb3cubG9jYWxDb29raWVTdG9yYWdlLnNldEl0ZW0obixcInt9XCIpLHdpbmRvdy5zZXNzaW9uQ29va2llU3RvcmFnZS5nZXRJdGVtKG4pfHx3aW5kb3cuc2Vzc2lvbkNvb2tpZVN0b3JhZ2Uuc2V0SXRlbShuLFwie31cIikpO3ZhciB0PXtsb2NhbFN0b3JhZ2U6T2JqZWN0LmFzc2lnbih7fSxlLmxvY2FsU3RvcmFnZSx7X25zOm59KSxzZXNzaW9uU3RvcmFnZTpPYmplY3QuYXNzaWduKHt9LGUuc2Vzc2lvblN0b3JhZ2Use19uczpufSl9O3JldHVybiBlLmNvb2tpZSYmKHdpbmRvdy5jb29raWVTdG9yYWdlLmdldEl0ZW0obil8fHdpbmRvdy5jb29raWVTdG9yYWdlLnNldEl0ZW0obixcInt9XCIpLHQuY29va2llU3RvcmFnZT1PYmplY3QuYXNzaWduKHt9LGUuY29va2llU3RvcmFnZSx7X25zOm59KSksZS5uYW1lc3BhY2VTdG9yYWdlc1tuXT10LHR9dmFyIGM9ZnVuY3Rpb24oZSl7dmFyIG49XCJqc2FwaVwiO3RyeXtyZXR1cm4hIXdpbmRvd1tlXSYmKHdpbmRvd1tlXS5zZXRJdGVtKG4sbiksd2luZG93W2VdLnJlbW92ZUl0ZW0obiksITApfWNhdGNoKGUpe3JldHVybiExfX0oXCJsb2NhbFN0b3JhZ2VcIiksbD17X3R5cGU6XCJcIixfbnM6XCJcIixfY2FsbE1ldGhvZDpmdW5jdGlvbihlLG4pe3ZhciB0PVt0aGlzLl90eXBlXSxyPShuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pKVswXTtyZXR1cm4gdGhpcy5fbnMmJnQucHVzaCh0aGlzLl9ucyksXCJzdHJpbmdcIj09dHlwZW9mIHImJi0xIT09ci5pbmRleE9mKFwiLlwiKSYmKG4uc2hpZnQoKSxbXS51bnNoaWZ0LmFwcGx5KG4sci5zcGxpdChcIi5cIikpKSxbXS5wdXNoLmFwcGx5KHQsbiksZS5hcHBseSh0aGlzLHQpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FsbE1ldGhvZChuLGFyZ3VtZW50cyl9LHNldDpmdW5jdGlvbigpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGgscj1hcmd1bWVudHMsbz1yWzBdO2lmKG48MXx8IWUuaXNQbGFpbk9iamVjdChvKSYmbjwyKXRocm93IG5ldyBFcnJvcihcIk1pbmltdW0gMiBhcmd1bWVudHMgbXVzdCBiZSBnaXZlbiBvciBmaXJzdCBwYXJhbWV0ZXIgbXVzdCBiZSBhbiBvYmplY3RcIik7aWYoZS5pc1BsYWluT2JqZWN0KG8pJiZ0aGlzLl9ucyl7Zm9yKHZhciBpIGluIG8pdCh0aGlzLl90eXBlLHRoaXMuX25zLGksb1tpXSk7cmV0dXJuIG99dmFyIGE9dGhpcy5fY2FsbE1ldGhvZCh0LHIpO3JldHVybiB0aGlzLl9ucz9hW28uc3BsaXQoXCIuXCIpWzBdXTphfSxyZW1vdmU6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKFwiTWluaW11bSAxIGFyZ3VtZW50IG11c3QgYmUgZ2l2ZW5cIik7cmV0dXJuIHRoaXMuX2NhbGxNZXRob2Qocixhcmd1bWVudHMpfSxyZW1vdmVBbGw6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX25zPyh0KHRoaXMuX3R5cGUsdGhpcy5fbnMse30pLCEwKTpmdW5jdGlvbihuLHQpe3ZhciBvPWEobik7Zm9yKHZhciBpIGluIG8pcihuLG9baV0pO2lmKHQpZm9yKHZhciBpIGluIGUubmFtZXNwYWNlU3RvcmFnZXMpcyhpKX0odGhpcy5fdHlwZSxuKX0saXNFbXB0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWxsTWV0aG9kKG8sYXJndW1lbnRzKX0saXNTZXQ6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKFwiTWluaW11bSAxIGFyZ3VtZW50IG11c3QgYmUgZ2l2ZW5cIik7cmV0dXJuIHRoaXMuX2NhbGxNZXRob2QoaSxhcmd1bWVudHMpfSxrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbGxNZXRob2QoYSxhcmd1bWVudHMpfX07ZS5jb29raWUmJih3aW5kb3cubmFtZXx8KHdpbmRvdy5uYW1lPU1hdGguZmxvb3IoMWU4Kk1hdGgucmFuZG9tKCkpKSksZS5pbml0TmFtZXNwYWNlU3RvcmFnZT1mdW5jdGlvbihlKXtyZXR1cm4gcyhlKX0sYz8oZS5sb2NhbFN0b3JhZ2U9T2JqZWN0LmFzc2lnbih7fSxsLHtfdHlwZTpcImxvY2FsU3RvcmFnZVwifSksZS5zZXNzaW9uU3RvcmFnZT1PYmplY3QuYXNzaWduKHt9LGwse190eXBlOlwic2Vzc2lvblN0b3JhZ2VcIn0pKTooZS5sb2NhbFN0b3JhZ2U9T2JqZWN0LmFzc2lnbih7fSxsLHtfdHlwZTpcImxvY2FsQ29va2llU3RvcmFnZVwifSksZS5zZXNzaW9uU3RvcmFnZT1PYmplY3QuYXNzaWduKHt9LGwse190eXBlOlwic2Vzc2lvbkNvb2tpZVN0b3JhZ2VcIn0pKSxlLm5hbWVzcGFjZVN0b3JhZ2VzPXt9LGUucmVtb3ZlQWxsU3RvcmFnZXM9ZnVuY3Rpb24obil7ZS5sb2NhbFN0b3JhZ2UucmVtb3ZlQWxsKG4pLGUuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlQWxsKG4pLGUuY29va2llU3RvcmFnZSYmZS5jb29raWVTdG9yYWdlLnJlbW92ZUFsbChuKSxufHwoZS5uYW1lc3BhY2VTdG9yYWdlcz17fSl9fSxtZT1mdW5jdGlvbigpe3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiY29va2llXCIpLG49cG4uY29udGFpbmVyLnJlc29sdmUoXCJqcVV0aWxzXCIpLHQ9e2Nvb2tpZTplLnNldCxpc1BsYWluT2JqZWN0Om4uaXNQbGFpbk9iamVjdCxpc0VtcHR5T2JqZWN0Om4uaXNFbXB0eU9iamVjdH07ZmUodCk7cmV0dXJue2dldDpmdW5jdGlvbihlKXtpZih3aW5kb3cubG9jYWxTdG9yYWdlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0pcmV0dXJuIHQubG9jYWxTdG9yYWdlLmdldChlKX0sc2V0OmZ1bmN0aW9uKGUsbil7d2luZG93LmxvY2FsU3RvcmFnZSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtJiZ0LmxvY2FsU3RvcmFnZS5zZXQoZSxuKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3dpbmRvdy5sb2NhbFN0b3JhZ2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSYmdC5sb2NhbFN0b3JhZ2UucmVtb3ZlKGUpfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwibG9jYWxTdG9yYWdlXCIse3VzZVZhbHVlOm1lfSkscG4ubG9jYWxTdG9yYWdlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwibG9jYWxTdG9yYWdlXCIpO3ZhciBnZSx2ZT0oZ2U9ZnVuY3Rpb24oKXtyZXR1cm5cIjE0LjE0Mi4xLCBzZXJ2ZXItdjE0LjE0Mi4xLVRTLWVkaXRpb25cIn0sd2luZG93Ll9fdHBWZXJzaW9uPVwiMTQuMTQyLjEsIHNlcnZlci12MTQuMTQyLjEtVFMtZWRpdGlvblwiLHtuYW1lOlwidmVyc2lvblNlcnZpY2VcIixnZXRUaW55cGFzc1ZlcnNpb246Z2V9KTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJ2ZXJzaW9uU2VydmljZVwiLHt1c2VWYWx1ZTp2ZX0pLHBuLnZlcnNpb25TZXJ2aWNlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidmVyc2lvblNlcnZpY2VcIik7dmFyIGhlPWZ1bmN0aW9uKCl7dmFyIGUsbj1wbi5jb250YWluZXIucmVzb2x2ZShcImFqYXhcIiksdD17fTtyZXR1cm57bmFtZTpcIml0cFwiLHN5bmNocm9uaXplQ29va2llOmZ1bmN0aW9uKHIsbyxpKXtpZihwbi5jbG91ZGZsYXJlV29ya2VyVXJsKXshZnVuY3Rpb24oZSxuLHIpe2lmKHRbZV09e3ZhbHVlOm59LCFyKXJldHVybjtyIGluc3RhbmNlb2YgRGF0ZT90W2VdLmV4cGlyZXM9cjp0W2VdLm1heEFnZT0zNjAwKnJ9KHIsbyxpKSxlJiZjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe24ucmVxdWVzdCh7dXJsOnBuLmNsb3VkZmxhcmVXb3JrZXJVcmwrXCI/bWF4QWdlPTI2MjgwMDBcIix0eXBlOlwiUE9TVFwiLGRhdGE6SlNPTi5zdHJpbmdpZnkodCksY3Jvc3NEb21haW46ITAseGhyRmllbGRzOnt3aXRoQ3JlZGVudGlhbHM6ITB9LGVycm9yOmZ1bmN0aW9uKGUsbil7Y29uc29sZS5lcnJvcihuKX19KSx0PXt9fSksMjUwMCl9fX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiaXRwXCIse3VzZVZhbHVlOmhlfSkscG4uaXRwPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiaXRwXCIpO3ZhciB3ZT1mdW5jdGlvbihlLG4pe3JldHVybiB3ZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSxuKXtlLl9fcHJvdG9fXz1ufXx8ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHQgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KSYmKGVbdF09blt0XSl9LHdlKGUsbil9O3ZhciB5ZT1mdW5jdGlvbigpe3JldHVybiB5ZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIG4sdD0xLHI9YXJndW1lbnRzLmxlbmd0aDt0PHI7dCsrKWZvcih2YXIgbyBpbiBuPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixvKSYmKGVbb109bltvXSk7cmV0dXJuIGV9LHllLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gYmUoZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtuKHQscixlKX19ZnVuY3Rpb24ga2UoZSxuKXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShlLG4pfWZ1bmN0aW9uIF9lKGUsbix0KXtpZih0fHwyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIHIsbz0wLGk9bi5sZW5ndGg7bzxpO28rKykhciYmbyBpbiBufHwocnx8KHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobiwwLG8pKSxyW29dPW5bb10pO3JldHVybiBlLmNvbmNhdChyfHxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuKSl9dmFyIENlPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXBuLmNvbnRhaW5lcik7dmFyIG4sdD1lLnJlc29sdmUoXCJqcVV0aWxzXCIpLHI9ZS5yZXNvbHZlKFwiY29va2llXCIpLG89ZS5yZXNvbHZlKFwidmVyc2lvblNlcnZpY2VcIiksaT1lLnJlc29sdmUoXCJpdHBcIiksYT1lLnJlc29sdmUoXCJsb2NhbFN0b3JhZ2VcIikscz1cIlwiLGM9e0VOQUJMRURfQUZURVJfRElTQUJMRUQ6LTIsTk9UX0RFVEVDVEVEOi0xLERJU0FCTEVEOjAsRU5BQkxFRDoxfTt2b2lkIDA9PT1cInRlc3RTdHJpbmdcIi50b0hleCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsXCJ0b0hleFwiLHtlbnVtZXJhYmxlOiExLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVwiXCIsbj0wO248dGhpcy5sZW5ndGg7KytuKWUrPVwiXCIrdGhpcy5jaGFyQ29kZUF0KG4pLnRvU3RyaW5nKDE2KTtyZXR1cm4gZX19KTt2YXIgbD1mdW5jdGlvbihlLG4sdCl7dmFyIG89e3BhdGg6XCIvXCIsZXhwaXJlczowfTt2b2lkIDAhPT1uJiYoby5kb21haW49biksdm9pZCAwIT09dCYmKG8ucGF0aD10KSxyLnJlbW92ZShlLG8pfSx1PWZ1bmN0aW9uKGUsbix0KXstMSE9PW4uaW5kZXhPZihcImFicmlsLmNvbS5iclwiKSYmbChlLFwiLmFicmlsLmNvbS5iclwiLHQpLC0xIT09bi5pbmRleE9mKFwic2NvdHNtYW4uY29tXCIpJiZsKGUsXCIuc2NvdHNtYW4uY29tXCIsdCl9LGQ9ZnVuY3Rpb24oZSl7dmFyIG47aWYoMD09PWRvY3VtZW50LmNvb2tpZS5sZW5ndGgpcmV0dXJuIG51bGw7aWYoZSBpbnN0YW5jZW9mIFJlZ0V4cClmb3IodmFyIHQ9ZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl0uaW5kZXhPZihcIj1cIik7aWYoLTEhPT1vKXt2YXIgaSxhPXRbcl0uc3Vic3RyKDAsbykudHJpbSgpO2lmKGUudGVzdChhKSl7aT10W3JdLnN1YnN0cihvKzEpLnRyaW0oKTt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChpKX1jYXRjaChuKXtmKCdDb3VsZCBub3QgdXJpLWRlY29kZSBjb29raWUgXCInK2UudG9TdHJpbmcoKSsnXCInLG4pfXJldHVybiBpfX19ZWxzZXt2YXIgcz0oXCI7IFwiK2RvY3VtZW50LmNvb2tpZSkuc3BsaXQoXCI7IFwiK2UrXCI9XCIpO2lmKHMubGVuZ3RoPj0yKXt2YXIgYz1udWxsPT09KG49cy5wb3AoKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3BsaXQoXCI7XCIpLnNoaWZ0KCk7aWYodm9pZCAwPT09YylyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChjKX1jYXRjaChuKXtmKCdDb3VsZCBub3QgdXJpLWRlY29kZSBjb29raWUgXCInK2UrJ1wiJyxuKX1yZXR1cm4gY319cmV0dXJuIG51bGx9LHA9ZnVuY3Rpb24oZSl7aWYoMD09PWRvY3VtZW50LmNvb2tpZS5sZW5ndGgpcmV0dXJuW107Zm9yKHZhciBuPVtdLHQ9ZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl0uaW5kZXhPZihcIj1cIik7aWYoLTEhPT1vKXt2YXIgaSxhPXRbcl0uc3Vic3RyKDAsbykudHJpbSgpO2lmKGUgaW5zdGFuY2VvZiBSZWdFeHAmJmUudGVzdChhKSl7aT10W3JdLnN1YnN0cihvKzEpLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIik7dHJ5e2k9ZGVjb2RlVVJJQ29tcG9uZW50KGkpfWNhdGNoKG4pe2YoJ0NvdWxkIG5vdCB1cmktZGVjb2RlIGNvb2tpZSBcIicrZS50b1N0cmluZygpKydcIicsbil9bi5wdXNoKHtuYW1lOmEsdmFsdWU6aX0pfWVsc2UgaWYoYT09PWUpe2k9dFtyXS5zdWJzdHIobysxKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpO3RyeXtpPWRlY29kZVVSSUNvbXBvbmVudChpKX1jYXRjaChuKXtmKCdDb3VsZCBub3QgdXJpLWRlY29kZSBjb29raWUgXCInK2UrJ1wiJyxuKX1uLnB1c2goe25hbWU6YSx2YWx1ZTppfSl9fX1yZXR1cm4gbn07ZnVuY3Rpb24gZigpe2Zvcih2YXIgZT1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuXTshMD09PXBuLmRlYnVnJiZtLmFwcGx5KHZvaWQgMCxlKX1mdW5jdGlvbiBtKCl7Zm9yKHZhciBlPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO2lmKHdpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5sb2cmJndpbmRvdy5jb25zb2xlLmxvZy5hcHBseSYmd2luZG93LmNvbnNvbGUubG9nLmFwcGx5LmNhbGwmJnZvaWQgMCE9PXdpbmRvdy5jb25zb2xlJiZ2b2lkIDAhPT13aW5kb3cuY29uc29sZS5sb2cpe3ZhciB0PVtcIlRQOlwiXTt0cnl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdC5wdXNoKGVbcl0pfWNhdGNoKG4pe3Q9ZX1HKCkmJih0PXYodCkpLFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cuY29uc29sZS5sb2c/d2luZG93LmNvbnNvbGUubG9nLmFwcGx5LmNhbGwodGhpcyxjb25zb2xlLHQpOmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsdCl9fXZhciBnPWZ1bmN0aW9uKCl7dmFyIGU9MDtyZXR1cm4gd2luZG93LnBhZ2VZT2Zmc2V0P2U9d2luZG93LnBhZ2VZT2Zmc2V0OmU9XCJudW1iZXJcIj09dHlwZW9mKGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUpLnNjcm9sbFRvcD9lLnNjcm9sbFRvcDpkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCxlfSx2PWZ1bmN0aW9uKGUpe3ZhciBuPVwiXCI7dHJ5e2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRyeXtuKz1KU09OLnN0cmluZ2lmeShlW3RdKStcIiwgXCJ9Y2F0Y2goZSl7bis9XCJcIitlfXJldHVybltuXX1jYXRjaChuKXtyZXR1cm4gZX19LGg9ZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVyblwiQ1NTMUNvbXBhdFwiPT09ZG9jdW1lbnQuY29tcGF0TW9kZT8oZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsbj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KTooZT1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLG49ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpLHt4OmUseTpufX0sdz1mdW5jdGlvbihlKXtlPWUucmVwbGFjZSgvW1xcW10vLFwiXFxcXFtcIikucmVwbGFjZSgvW1xcXV0vLFwiXFxcXF1cIik7dmFyIG49bmV3IFJlZ0V4cChcIltcXFxcPyZdXCIrZStcIj0oW14mI10qKVwiKS5leGVjKGxvY2F0aW9uLnNlYXJjaCk7cmV0dXJuIG51bGw9PT1uP1wiXCI6ZGVjb2RlVVJJQ29tcG9uZW50KG5bMV0ucmVwbGFjZSgvXFwrL2csXCIgXCIpKX0seT1mdW5jdGlvbihlKXt2YXIgbj1lKGxvY2F0aW9uLmhyZWYpO2lmKGhpc3RvcnkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGhpc3RvcnkucmVwbGFjZVN0YXRlKXt2YXIgdD1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93Lm5leHQmJlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cubmV4dC5yb3V0ZXI/e3VybDplKGhpc3Rvcnkuc3RhdGUudXJsfHxcIlwiKSxhczplKGhpc3Rvcnkuc3RhdGUuYXN8fFwiXCIpLG9wdGlvbnM6aGlzdG9yeS5zdGF0ZS5vcHRpb25zfTpoaXN0b3J5LnN0YXRlO2hpc3RvcnkucmVwbGFjZVN0YXRlKHQsZG9jdW1lbnQudGl0bGUsbil9ZWxzZSBsb2NhdGlvbi5ocmVmPW59LGI9ZnVuY3Rpb24oZSxuLHQpe3ZhciByPXllKHtwYXRoOlwiL1wiLGV4cGlyZXM6NzMwfSx0JiZ7ZG9tYWluOnR9KSxvPVMoKTtmb3IodmFyIGkgaW4gbylsKGUsb1tpXSk7ci5kb21haW4mJnUoZSxyLmRvbWFpbiksKHBuLmNvb2tpZURvbWFpbnx8cG4uY29va2llUGF0aCkmJihyLmRvbWFpbj1wbi5jb29raWVEb21haW4/cG4uY29va2llRG9tYWluOnIuZG9tYWluLGwoZSxyLmRvbWFpbixyLnBhdGgpLHIucGF0aD1wbi5jb29raWVQYXRoP3BuLmNvb2tpZVBhdGg6ci5wYXRoLGwoZSxyLmRvbWFpbixyLnBhdGgpKSxsKGUpLHEoZSxuLHIpfSxrPWZ1bmN0aW9uKCl7dmFyIGUsbix0PVwiZ2V0X3RvcF9sZXZlbF9kb21haW5fY29va2llXCIscj1kb2N1bWVudC5sb2NhdGlvbi5ob3N0bmFtZS5zcGxpdChcIi5cIik7Zm9yKGU9ci5sZW5ndGgtMTtlPj0wO2UtLSl7dmFyIG89e3BhdGg6XCIvXCIsZG9tYWluOm49XCIuXCIrci5zbGljZShlKS5qb2luKFwiLlwiKX07aWYocSh0LG4sbyksVih0KSlyZXR1cm4gby5leHBpcmVzPW5ldyBEYXRlKDEpLHEodCxuLG8pLG59fSxfPWZ1bmN0aW9uKGUpe3JldHVybiBwbi51c2VBaWRTcGVjaWZpZWRDb29raWVzJiZwbi5haWQ/ZStcIl9cIitwbi5haWQ6ZX0sQz1mdW5jdGlvbigpe3ZhciBlLG49XyhcIl9fcGxzXCIpLHQ9ZChuKTtpZih0KXRyeXtpZigoZT1KU09OLnBhcnNlKHQpKSYmIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKFwiUHVzaCBsaXN0IHN1YnNjcmlwdGlvbnMgbXVzdCBiZSBhbiBhcnJheVwiKX1jYXRjaChlKXtmKFwiQ2FuJ3QgZ2V0IHB1c2ggbGlzdCBzdWJzY3JpcHRpb25zXCIsZSl9cmV0dXJuIGV9LEk9ZnVuY3Rpb24oZSl7bj1lO3ZhciB0PWsoKTtxKFwiX19wYXRcIixuLHtwYXRoOlwiL1wiLGV4cGlyZXM6MzAsZG9tYWluOnR9KX0sUz1mdW5jdGlvbigpe3ZhciBlPVtdO2UucHVzaChkb2N1bWVudC5kb21haW4pO2Zvcih2YXIgbj1kb2N1bWVudC5kb21haW4uc3BsaXQoXCIuXCIpO24ubGVuZ3RoPj0yOyllLnB1c2goXCIuXCIrbi5qb2luKFwiLlwiKSksbi5zaGlmdCgpO3JldHVybiBlfSx4PWZ1bmN0aW9uKGUpe3ZhciBuPVYoZSk7cmV0dXJuXCJib29sZWFuXCI9PT10LnR5cGUobil8fFwic3RyaW5nXCI9PT10LnR5cGUobikmJm4ubGVuZ3RoPyEwPT09bnx8XCJ0cnVlXCI9PT1uP2MuRU5BQkxFRDpjLkRJU0FCTEVEOmMuTk9UX0RFVEVDVEVEfSxQPWZ1bmN0aW9uKCl7dmFyIGU9VihcIl9fcG5haGNcIiksbj0hMTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCIwXCIsbj0hMCkse2Nvb2tpZVZhbHVlOnBhcnNlSW50KGUsMTApLGlzRmlyc3Q6bn19LEU9e30sVD1mdW5jdGlvbihlKXtFW2VdP0VbZV0uY291bnRlcisrOkVbZV09e2NvdW50ZXI6MSx3YWl0ZXJzOltdfX0sQT1mdW5jdGlvbihlLG4pe2lmKEVbZV0mJihFW2VdLmNvdW50ZXItLSxFW2VdLmNvdW50ZXI8PTApKXt2YXIgdD1bXTtFW2VdLndhaXRlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSkpLGRlbGV0ZSBFW2VdLHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSh2b2lkIDAhPT1uP246e30pfSkpfX0sTT1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmF9LE89ZnVuY3Rpb24oKXtyZXR1cm4gby5nZXRUaW55cGFzc1ZlcnNpb24oKS5pbmRleE9mKFwiU05BUFNIT1RcIik+PTB9LFI9ZnVuY3Rpb24oKXtyZXR1cm5cImh0dHBzOlwiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x9LEw9ZnVuY3Rpb24oZSxuKXt2YXIgdD1bXSxyPWUuaW5kZXhPZihuKTtyZXR1cm4tMT09PXI/dC5wdXNoKGUpOih0LnB1c2goZS5zdWJzdHIoMCxyKSksdC5wdXNoKGUuc3Vic3RyKHIrMSkpKSx0fSxOPWZ1bmN0aW9uKGUpe3ZhciBuLHQscj1MKGUsXCI9XCIpO3ZvaWQgMCE9PWUmJihuPXJbMF0sdD1yWzFdKTt2YXIgbz1cIlwiO3JldHVybiB2b2lkIDAhPT1uJiYobys9ZW5jb2RlVVJJQ29tcG9uZW50KGRlY29kZVVSSUNvbXBvbmVudChuKSkpLHZvaWQgMCE9PXQmJihvKz1cIj1cIitlbmNvZGVVUklDb21wb25lbnQoZGVjb2RlVVJJQ29tcG9uZW50KHQpKSksb30sVT1mdW5jdGlvbihlKXt2YXIgbj1wYXJzZUludChlLDEwKTtyZXR1cm4hKGlzTmFOKHBhcnNlRmxvYXQobikpfHxuPDB8fG4+MjU1KX0saj1mdW5jdGlvbihlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtuLmhyZWY9L15odHRwcz86XFwvXFwvL2kudGVzdChlKT9lOlwiaHR0cDovL1wiK2U7dmFyIHQ9bi5ob3N0bmFtZTtyZXR1cm4gMD09PXQuaW5kZXhPZihcInd3dy5cIikmJih0PXQucmVwbGFjZShcInd3dy5cIixcIlwiKSksdH07dmFyIEQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IFJlZ0V4cChcIlxcXFw/XCIrbixcImdpXCIpLnRlc3QoZSk/ZS5zcGxpdChcIiZcIikubGVuZ3RoPjE/ZS5yZXBsYWNlKG5ldyBSZWdFeHAobitcIlteJl0rJj9cIixcImdpXCIpLFwiXCIpOmUucmVwbGFjZShuZXcgUmVnRXhwKFwiXFxcXD9cIituK1wiW14mXSsmP1wiLFwiZ2lcIiksXCJcIik6bmV3IFJlZ0V4cChcIlxcXFwmXCIrbixcImdpXCIpLnRlc3QoZSk/ZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJcXFxcJlwiK24rXCJbXiZdK1wiLFwiZ2lcIiksXCJcIik6ZX0sRj1mdW5jdGlvbihlLG4pe3RyeXt2YXIgdD1uZXcgRXJyb3Iscj1wbi51c2VyLmdldFByb3ZpZGVyKCkuZ2V0TmFtZSgpLG89SlNPTi5zdHJpbmdpZnkoW3thaWQ6cG4uYWlkLGRlc2NyaXB0aW9uOlwiY2xlYXJpbmcgX190cCBjb29raWVcIix1c2VyUHJvdmlkZXI6cixhY2Nlc3NUb2tlbkxpc3Q6ZSx1c2VyVG9rZW46bix1cmw6d2luZG93LmxvY2F0aW9uLmhyZWYsdHJhY2U6WCh0LnN0YWNrLDMpLHRhZ3M6W1wic2RrXCJdfV0pO3BuLmFwaS5jYWxsQXBpKFwiL2Fub24vZXJyb3IvbG9nXCIse2xvZ19tZXNzYWdlOm99KX1jYXRjaChlKXt9fTt2YXIgQj1mdW5jdGlvbihlKXtlfHwoZT03MzApO3ZhciBuPXBuLmdldE1heENvb2tpZUV4cGlyYXRpb25JbkRheXMoKTtpZihudWxsIT09bil7dmFyIHQ7XCJudW1iZXJcIj09dHlwZW9mIGU/KHQ9bmV3IERhdGUpLnNldERhdGUodC5nZXREYXRlKCkrZSk6dD1lO3ZhciByPW5ldyBEYXRlO2lmKHIuc2V0RGF0ZShyLmdldERhdGUoKStuKSx0PnIpcmV0dXJuIG59cmV0dXJuIGV9LFY9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuZ2V0KGUpfSxxPWZ1bmN0aW9uKGUsbix0KXt0PXR8fHt9LFwiMTFDNmFZSHd0YlwiPT09cG4uYWlkPyh0LnNhbWVzaXRlPVwibm9uZVwiLHQuc2VjdXJlPSEwKTp0LnNhbWVzaXRlPVwibGF4XCIsdC5leHBpcmVzJiYodC5leHBpcmVzPUIodC5leHBpcmVzKSksci5zZXQoZSxuLHQpLHZvaWQgMCE9PWkuc3luY2hyb25pemVDb29raWUmJmkuc3luY2hyb25pemVDb29raWUoZSxuLHQuZXhwaXJlcyl9LHo9XCJfX3RwLVwiLEg9XCItZXhwaXJhdGlvblwiLFc9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpfSxKPWZ1bmN0aW9uKGUpe3ZhciBuPXorZTthLnJlbW92ZShuKSxhLnJlbW92ZShuK0gpfSxHPWZ1bmN0aW9uKCl7dmFyIGU9W1wiX193ZWJkcml2ZXJfZXZhbHVhdGVcIixcIl9fc2VsZW5pdW1fZXZhbHVhdGVcIixcIl9fd2ViZHJpdmVyX3NjcmlwdF9mdW5jdGlvblwiLFwiX193ZWJkcml2ZXJfc2NyaXB0X2Z1bmNcIixcIl9fd2ViZHJpdmVyX3NjcmlwdF9mblwiLFwiX19meGRyaXZlcl9ldmFsdWF0ZVwiLFwiX19kcml2ZXJfdW53cmFwcGVkXCIsXCJfX3dlYmRyaXZlcl91bndyYXBwZWRcIixcIl9fZHJpdmVyX2V2YWx1YXRlXCIsXCJfX3NlbGVuaXVtX3Vud3JhcHBlZFwiLFwiX19meGRyaXZlcl91bndyYXBwZWRcIl0sbj1bXCJfcGhhbnRvbVwiLFwiX19uaWdodG1hcmVcIixcIl9zZWxlbml1bVwiLFwiY2FsbFBoYW50b21cIixcImNhbGxTZWxlbml1bVwiLFwiX1NlbGVuaXVtX0lERV9SZWNvcmRlclwiXTtmb3IodmFyIHQgaW4gbil7aWYod2luZG93W25bdF1dKXJldHVybiEwfWZvcih2YXIgciBpbiBlKXt2YXIgbz1lW3JdO2lmKHdpbmRvdy5kb2N1bWVudFtvXSlyZXR1cm4hMH1mb3IodmFyIGkgaW4gd2luZG93LmRvY3VtZW50KWlmKGkubWF0Y2goL1xcJFthLXpdZGNfLykmJndpbmRvdy5kb2N1bWVudFtpXS5jYWNoZV8pcmV0dXJuITA7cmV0dXJuISEod2luZG93LmV4dGVybmFsJiZ3aW5kb3cuZXh0ZXJuYWwudG9TdHJpbmcmJndpbmRvdy5leHRlcm5hbC50b1N0cmluZygpJiYtMSE9PXdpbmRvdy5leHRlcm5hbC50b1N0cmluZygpLmluZGV4T2YoXCJTZXF1ZW50dW1cIikpfHwoISF3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcInNlbGVuaXVtXCIpfHwoISF3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcIndlYmRyaXZlclwiKXx8ISF3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRyaXZlclwiKSkpfSxRPWZ1bmN0aW9uKCl7cmV0dXJuIFYoXCJfX3RhY1wiKX0sWD1mdW5jdGlvbihlLG4pe3JldHVybiBlJiZlLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD4wJiZ0PG4rMX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pKS5qb2luKFwiXFxuXCIpfTtyZXR1cm57bmFtZTpcInV0aWxcIixfX3ByaXZhdGVfXzp7Z2V0QWRqdXN0ZWRDb29raWVFeHBpcmF0aW9uOkJ9LF9fcHJvdGVjdGVkX186e2RlbGV0ZVRMRENvb2tpZUZvclNwZWNpZmljRG9tYWluczp1LGRvY3VtZW50UmVhZHk6ZnVuY3Rpb24oZSl7dmFyIG49ZnVuY3Rpb24oKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLG4pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLG4pLGUoKX07XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8XCJsb2FkaW5nXCIhPT1kb2N1bWVudC5yZWFkeVN0YXRlJiYhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP3dpbmRvdy5zZXRUaW1lb3V0KGUpOihkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLG4pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLG4pKX0sZ2V0Q29va2llOlYsc2V0Q29va2llOnEsZ2V0TG9jYWxTdG9yYWdlSXRlbTpmdW5jdGlvbihlKXt2YXIgbj16K2UsdD1hLmdldChuKSxyPWEuZ2V0KG4rSCk7cmV0dXJuIHImJnI8VygpPyhKKGUpLG51bGwpOnR9LGhhc0xvY2FsU3RvcmFnZTpmdW5jdGlvbigpe3RyeXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93LmxvY2FsU3RvcmFnZSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtfWNhdGNoKGUpe3JldHVybiExfX0scmFuZG9tU3RyaW5nQ3hDb21wYXRpYmxlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKDM2KTtlLmxlbmd0aDwxNjspZSs9TWF0aC5yb3VuZCgyMTQ3NDgzNjQ3Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KTtyZXR1cm4gZS5zdWJzdHIoMCwxNil9LHNldExvY2FsU3RvcmFnZUl0ZW06ZnVuY3Rpb24oZSxuLHQpe3ZhciByPXorZTthLnNldChyLG4pLHQmJmEuc2V0KHIrSCxXKCkrdCl9LHJlbW92ZUxvY2FsU3RvcmFnZUl0ZW06SixjYW1lRnJvbUZiU3Vic2NyaXB0aW9uczpmdW5jdGlvbigpe3JldHVybiAwPT09dyhcInJlZGlyZWN0X3VyaVwiKS5pbmRleE9mKFwiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3N1YnNjcmlwdGlvbnMvYWNjb3VudC1saW5raW5nL2NvbmZpcm0vXCIpfSxsb2dSZW1vdmVUb2tlbnM6ZnVuY3Rpb24oZSl7dHJ5e3ZhciBuPW5ldyBFcnJvcix0PXBuLnVzZXIuZ2V0UHJvdmlkZXIoKS5nZXROYW1lKCkscj1KU09OLnN0cmluZ2lmeShbe2FpZDpwbi5haWQsZGVzY3JpcHRpb246XCJjbGVhcmluZyBfX3V0cCBjb29raWVcIix1c2VyUHJvdmlkZXI6dCx1c2VyVG9rZW46ZSx1cmw6d2luZG93LmxvY2F0aW9uLmhyZWYsdHJhY2U6WChuLnN0YWNrLDMpLHRhZ3M6W1wic2RrXCJdfV0pO3BuLmFwaS5jYWxsQXBpKFwiL2Fub24vZXJyb3IvbG9nXCIse2xvZ19tZXNzYWdlOnJ9KX1jYXRjaChlKXt9fSx3YWl0QWxsUHJvbWlzZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UuYWxsKGUpfSxpc0ludGVnZXI6ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpJiZNYXRoLmZsb29yKGUpPT09ZX0scmFjZVByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UucmFjZShlKX0saXNDeGVuc2VCb3Q6ZnVuY3Rpb24oKXt2YXIgZT1NKCk7cmV0dXJuLyhjeGVuc2Vib3QpL2kudGVzdChlKX0saXNIdHRwc1Byb3RvY29sOlIsaXNBcHBsZVBheUFsbG93ZWQ6ZnVuY3Rpb24oKXt2YXIgZT0hMTt0cnl7ZT13aW5kb3cuQXBwbGVQYXlTZXNzaW9uJiZ3aW5kb3cuQXBwbGVQYXlTZXNzaW9uLmNhbk1ha2VQYXltZW50cygpfWNhdGNoKGUpe20oXCJBcHBsZVBheSBlcnJvclwiLGUpfXJldHVybihPKCl8fFIoKSkmJmV9LGlzRGV2RW5kcG9pbnQ6T30sYWRkU2NyaXB0OmZ1bmN0aW9uKGUsbil7dmFyIHQscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLG89ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF07bnVsbD09PSh0PW8ucGFyZW50Tm9kZSl8fHZvaWQgMD09PXR8fHQuaW5zZXJ0QmVmb3JlKHIsbyksci50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsci5hc3luYz0hMCxyLm9ubG9hZD1uLHIuc3JjPWV9LGZyb21VbmRlcnNjb3JlVG9DYW1lbENhc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2xpY2UoKS5yZXBsYWNlKC9fW2Etel0vZywoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShcIl9cIixcIlwiKS50b1VwcGVyQ2FzZSgpfSkpfSxyYW5kb21TdHJpbmc6ZnVuY3Rpb24oZSl7ZXx8KGU9NSk7dmFyIG49XCJcIix0PVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtpZih3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDMyQXJyYXkpe3ZhciByPW5ldyBVaW50MzJBcnJheShlKTt3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhyKTtmb3IodmFyIG89MDtvPGU7bysrKW4rPXQuY2hhckF0KHJbb10ldC5sZW5ndGgpfWVsc2UgZm9yKG89MDtvPGU7bysrKW4rPXQuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0Lmxlbmd0aCkpO3JldHVybiBufSxsb2c6bSxkZWJ1ZzpmLGVycm9yOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLG49W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspblt0XT1hcmd1bWVudHNbdF07bS5hcHBseSh2b2lkIDAsbiksKGU9XCJzdHJpbmdcIj09dHlwZW9mIGFyZ3VtZW50c1swXT9uZXcgRXJyb3IoYXJndW1lbnRzWzBdKTpuZXcgRXJyb3IpLnN0YWNrJiZtKGUuc3RhY2spfSxmaW5kQ29va2llQnlOYW1lOmQsZmluZENvb2tpZXNCeU5hbWU6cCxyZW1vdmVWb3VjaGVyQ29kZUZyb21Vcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIEQoZSxcInZvdWNoZXJfY29kZVwiKX0scmVtb3ZlU2hhcmVkQWNjb3VudENvZGVGcm9tVXJsOmZ1bmN0aW9uKGUpe3JldHVybiBEKGUsXCJzaGFyZWRfYWNjb3VudF9jb2RlXCIpfSxkZWxldGVDb29raWU6bCxtYXBBcnJheUluZGV4OmZ1bmN0aW9uKGUsbil7cmV0dXJuIG59LGdldFNjcm9sbDpnLGdldFBhZ2VTaXplOmZ1bmN0aW9uKCl7cmV0dXJue3g6TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGgsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoLGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKSx5Ok1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCxkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0KX19LGdldFZpZXdwb3J0OmgsY2VudGVyOmZ1bmN0aW9uKGUsbil7dmFyIHQ9ZygpLHI9aCgpO3JldHVybihyPXt4OnIueC8yLWUvMix5OnIueS8yLW4vMit0fSkueD1NYXRoLm1heCgwLHIueCksci55PU1hdGgubWF4KDEwLHIueSkscn0sY2VudGVyU2NyZWVuOmZ1bmN0aW9uKGUsbil7ZT1lfHwwLG49bnx8MDt2YXIgcj12b2lkIDAhPT13aW5kb3cuc2NyZWVuTGVmdD93aW5kb3cuc2NyZWVuTGVmdDp3aW5kb3cuc2NyZWVuLmxlZnQsbz12b2lkIDAhPT13aW5kb3cuc2NyZWVuVG9wP3dpbmRvdy5zY3JlZW5Ub3A6d2luZG93LnNjcmVlbi50b3AsaT10LndpblNpemUoKTtyZXR1cm57bGVmdDooaS53aWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHx3aW5kb3cuc2NyZWVuLndpZHRoKS8yLWUvMityLHRvcDooaS5oZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fHdpbmRvdy5zY3JlZW4uaGVpZ2h0KS8yLW4vMitvfX0sZ2V0UXVlcnlQYXJhbUJ5TmFtZTp3LGhhc1F1ZXJ5UGFyYW1CeU5hbWU6ZnVuY3Rpb24oZSl7dmFyIG49e307cmV0dXJuIGxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkuc3BsaXQoXCImXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoXCI9XCIpLHI9dFswXSxvPXRbMV0mJmRlY29kZVVSSUNvbXBvbmVudCh0WzFdKTtyIGluIG4/bltyXS5wdXNoKG8pOm5bcl09W29dfSkpLG4uaGFzT3duUHJvcGVydHkoZSl9LHJlbW92ZVF1ZXJ5UGFyYW1CeU5hbWU6ZnVuY3Rpb24oZSl7eSgoZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHQscj1lLnNwbGl0KFwiI1wiKSxvPXJbMF0uc3BsaXQoXCI/XCIpO2lmKHIubGVuZ3RoPj0yJiYodD1yWzFdKSxuPUFycmF5LmlzQXJyYXkobik/bjpbbl0sby5sZW5ndGg+PTIpe2Zvcih2YXIgaT1vWzFdLnNwbGl0KC9bJjtdL2cpLGE9MDthPG4ubGVuZ3RoO2ErKylmb3IodmFyIHM9ZW5jb2RlVVJJQ29tcG9uZW50KG5bYV0pK1wiPVwiLGM9aS5sZW5ndGg7Yy0tID4wOyktMSE9PWlbY10ubGFzdEluZGV4T2YocywwKSYmaS5zcGxpY2UoYywxKTtyZXR1cm4gZT1vWzBdKyhpLmxlbmd0aD4wP1wiP1wiK2kuam9pbihcIiZcIik6XCJcIiksdD9lK1wiI1wiK3Q6ZX1yZXR1cm4gZX0obixlKX0pKX0sc2V0QWNjZXNzVG9rZW5MaXN0Q29va2llOmZ1bmN0aW9uKGUsbixyKXt2YXIgbz1fKFwiX191dFwiKTtpZihlJiZcInN0cmluZ1wiPT09dC50eXBlKGUudmFsdWUpKXt2YXIgaT1uZXcgRGF0ZSxhPXtkb21haW46dW5kZWZpbmVkLHBhdGg6XCIvXCIsZXhwaXJlczo3MzB9O2UuY29va2llX2RvbWFpbiYmXCJsb2NhbGhvc3RcIiE9PWUuY29va2llX2RvbWFpbiYmdC5pbkFycmF5KGUuY29va2llX2RvbWFpbixTKCkpPj0wJiYoYS5kb21haW49ZS5jb29raWVfZG9tYWluKSxwbi5jb29raWVEb21haW4mJihhLmRvbWFpbj1wbi5jb29raWVEb21haW4pLHBuLmNvb2tpZVBhdGgmJihhLnBhdGg9cG4uY29va2llUGF0aCk7dmFyIHM9UygpO2Zvcih2YXIgYyBpbiBzKWwoXCJfX3RhY1wiLHNbY10pLGwoXCJfX3RhZVwiLHNbY10pLGwobyxzW2NdKTtxKFwiX190YWNcIixlLnZhbHVlLGEpLHEoXCJfX3RhZVwiLGkuZ2V0VGltZSgpLGEpLHEobyxuLGEpLFwiXCIhPT1ufHxyfHxGKGUsbil9ZWxzZXt2YXIgdT1TKCk7aWYodS5wdXNoKHZvaWQgMCkscG4uY29va2llRG9tYWluJiZ1LnB1c2gocG4uY29va2llRG9tYWluKSxwbi5jb29raWVQYXRoKWZvcih2YXIgYyBpbiB1KWwoXCJfX3RhY1wiLHVbY10scG4uY29va2llUGF0aCksbChcIl9fdGFlXCIsdVtjXSxwbi5jb29raWVQYXRoKSxsKFwiX19lZWFcIix1W2NdLHBuLmNvb2tpZVBhdGgpLGwobyx1W2NdLHBuLmNvb2tpZVBhdGgpO2Zvcih2YXIgYyBpbiB1KWwoXCJfX3RhY1wiLHVbY10pLGwoXCJfX3RhZVwiLHVbY10pLGwoXCJfX2VlYVwiLHVbY10pLGwobyx1W2NdKTtyfHxGKGUsbil9fSxzZXRUcGNjQ29va2llczpmdW5jdGlvbigpe3ZhciBlPXcoXCJ0cGNjXCIpO2lmKGUpe3ZhciBuPW5ldyBEYXRlLHQ9SlNPTi5zdHJpbmdpZnkoe2RhdGU6bi5nZXRUaW1lKCl9KSxyPWsoKTsvXigyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKDI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KVxcLigyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pJC8udGVzdChsb2NhdGlvbi5ob3N0bmFtZSkmJihyPVwiXCIpLHJ8fChyPVwiXCIpLHEoXCJ0cGNjX1wiK2UsdCx7cGF0aDpcIi9cIixleHBpcmVzOjkwLGRvbWFpbjpyfSl9fSxnZXRDYW1wYWlnbnM6ZnVuY3Rpb24oZSl7cCgvXnRwY2NfLisvKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW24ubmFtZV09bi52YWx1ZX0pKX0sZ2V0Q3VzdG9tQ29va2llczpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBwKC9eX3BjXy4rLykuZm9yRWFjaCgoZnVuY3Rpb24obil7ZVtkZWNvZGVVUklDb21wb25lbnQobi5uYW1lKV09bi52YWx1ZX0pKSxlfSxBREJMT0NLRVJfU1RBVFVTOmMsZ2V0QWRibG9ja1N0YXR1czpmdW5jdGlvbigpe3ZhciBlLG4sdD1jLk5PVF9ERVRFQ1RFRCxyPVAoKTtyZXR1cm4gcG4uYWRibG9ja2VyQ29va2llTmFtZSYmKHQ9eChwbi5hZGJsb2NrZXJDb29raWVOYW1lKSksdD09PWMuTk9UX0RFVEVDVEVEJiYodD14KFwiX19wYWNcIikpLHQ9PT1jLk5PVF9ERVRFQ1RFRCYmKHQ9eChcIl9fYWRibG9ja2VyXCIpKSxlPXIuY29va2llVmFsdWUsZTw8PTEsKG49dCk9PT1jLkVOQUJMRUQ/ZXw9MTplJj0tMixuIT09Yy5OT1RfREVURUNURUQmJnEoXCJfX3BuYWhjXCIsZStcIlwiLHtwYXRoOlwiL1wiLGV4cGlyZXM6OTB9KSx0PT09Yy5FTkFCTEVEJiYoci5pc0ZpcnN0fHwxIT0oci5jb29raWVWYWx1ZT4+MCYxKSYmKHQ9Yy5FTkFCTEVEX0FGVEVSX0RJU0FCTEVEKSksdH0sZ2V0QWRibG9ja2VyU3RhdHVzUmVhc29uOmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXdpbmRvdy5ibG9ja0FkQmxvY2s/XCIxXCI6XCIwXCJ9LGdldEFkYmxvY2tlckhpc3RvcnlDb29raWVJbmZvOlAsd2FpdENhbGw6ZnVuY3Rpb24oZSxuKXtFW2VdP0VbZV0ud2FpdGVycy5wdXNoKG4pOm4oKX0sc3RhcnRDYWxsOlQsZG9uZUNhbGw6QSxoYXNDYWxsOmZ1bmN0aW9uKGUpe3JldHVybiEhRVtlXX0sZGVib3VuY2U6ZnVuY3Rpb24oZSxuLHQpe3ZhciByO3JldHVybiBmdW5jdGlvbigpe3ZhciBvPXRoaXMsaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGE9ZnVuY3Rpb24oKXtyPW51bGwsdHx8ZS5hcHBseShvLGkpfSxzPXQmJiFyO2NsZWFyVGltZW91dChyKSxyPXNldFRpbWVvdXQoYSxuKSxzJiZlLmFwcGx5KG8saSl9fSx0aHJvdHRsZTpmdW5jdGlvbihlLG4pe3ZhciB0LHIsbz0hMTtyZXR1cm4gZnVuY3Rpb24gaSgpe2lmKG8pcmV0dXJuIHQ9YXJndW1lbnRzLHZvaWQocj10aGlzKTtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxvPSEwLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bz0hMSx0JiYoaS5hcHBseShyLHQpLHQ9cj1udWxsKX0pLG4pfX0scHJvZmlsZTpmdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIG4uX19pbnZva2VDb3VudCsrLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9faW52b2tlQ291bnRcIix7d3JpdGFibGU6ITAsdmFsdWU6MH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiaW52b2tlQ291bnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19pbnZva2VDb3VudH19KSxufSxzZXRUYmNDb29raWVGcm9tUmVzcG9uc2U6ZnVuY3Rpb24oZSl7ZS5icm93c2VyJiZ2b2lkIDAhPT1lLmJyb3dzZXIudGJjJiZiKFwiX190YmNcIixlLmJyb3dzZXIudGJjLGUuYnJvd3Nlci5jb29raWVfZG9tYWluKSxlLnRiYyYmZS50YmMuY29va2llX3ZhbHVlJiZiKFwiX190YmNcIixlLnRiYy5jb29raWVfdmFsdWUsZS50YmMuY29va2llX2RvbWFpbil9LHNldFRhY0Nvb2tpZUZyb21SZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgbj0obmV3IERhdGUpLmdldFRpbWUoKSx0PVEoKSxyPWZ1bmN0aW9uKGUscil7ZSYmZSE9PXQmJihiKFwiX190YWNcIixlLHIpLGIoXCJfX3RhZVwiLG4scikpfTtlLmJyb3dzZXImJnIoZS5icm93c2VyLnRhYyxlLmJyb3dzZXIuY29va2llX2RvbWFpbiksZS50YWMmJnIoZS50YWMuY29va2llX3ZhbHVlLGUudGFjLmNvb2tpZV9kb21haW4pfSxnZXRUYmNDb29raWU6ZnVuY3Rpb24oKXtyZXR1cm4gVihcIl9fdGJjXCIpfSxnZXRUYWNDb29raWU6USxnZXRBaWRTcGVjaWZpZWROYW1lOl8sZ2V0VXNlclRva2VuQ29va2llOmZ1bmN0aW9uKCl7dmFyIGU9XyhcIl9fdXRcIiksbj1kKGUpO3JldHVybiB2b2lkIDAhPT1uJiZuJiZuLmxlbmd0aD49MD9uOm51bGx9LGdldFB1c2hMaXN0c0Nvb2tpZTpDLHNldFB1c2hMaXN0c0Nvb2tpZTpmdW5jdGlvbihlKXtpZihlKXt2YXIgbj1fKFwiX19wbHNcIiksdD1DKCl8fFtdO3QuaW5kZXhPZihlKT4tMXx8KHQucHVzaChlKSxsKG4pLHEobixKU09OLnN0cmluZ2lmeSh0KSx7cGF0aDpcIi9cIixleHBpcmVzOjczMCxkb21haW46aygpfSkpfX0sc2V0QXBwVGltZXpvbmVPZmZzZXRGcm9tUmVzcG9uc2U6ZnVuY3Rpb24oZSl7ZS5icm93c2VyJiZ2b2lkIDAhPT1lLmJyb3dzZXIuYXBwX3RpbWV6b25lX29mZnNldD9JKGUuYnJvd3Nlci5hcHBfdGltZXpvbmVfb2Zmc2V0KTp2b2lkIDAhPT1lLnRpbWV6b25lX29mZnNldCYmSShlLnRpbWV6b25lX29mZnNldCl9LHNldEFwcFRpbWV6b25lT2Zmc2V0OkksZ2V0QXBwVGltZXpvbmVPZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09biYmKG49VihcIl9fcGF0XCIpKSxufHwwfSxnZXRCcm93c2VyVGltZXpvbmVPZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4tTWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCkpfSxzdHIydGltZXN0YW1wOmZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJjAhPT1lLmxlbmd0aCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihlPVwiXCIrZSksKGU9ZS50cmltKCkpLm1hdGNoKC9eWzAtOV17MCwxMH0kLykpcmV0dXJuIHBhcnNlSW50KGUpO2lmKGUubWF0Y2goL15bMC05XXsxMyx9JC8pKXJldHVybiBwYXJzZUludChlKS8xZTM7dmFyIG49RGF0ZS5wYXJzZShlKTtpZihuKXJldHVybiBuLzFlMztpZigoZT0oZT0oZT0oZT1lLnJlcGxhY2UoLzAwOihbMC05XXsyfSg6WzAtOV17Mn0pP1xccypbQVBdTSkvaSxcIjEyOiQxXCIpLnJlcGxhY2UoLyhbMC05XXsyfSkoW0FQfE1dKS9pLFwiJDEgJDJcIikpLnJlcGxhY2UoL1xccyooYXR8QHxcXC18b258XFx8KVxccyovZ2ksXCIgXCIpKS5yZXBsYWNlKC9cXHMqKG1vbihkYXkpP3x0dWUocz9kYXkpP3x3ZWQobmVzZGF5KT98dGh1KChycyk/ZGF5KT98ZnJpKGRheSk/fHNhdCh1cmRheSk/fHN1bihkYXkpPylcXHMqL2dpLFwiXCIpKS5yZXBsYWNlKC8oWzAtOV17MSwyfSkoc3R8bmR8cmR8dGgpLyxcIiQxXCIpKS5tYXRjaCgvXFxzK0VUJC8pKWU9MjQwPT09KG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpP2UucmVwbGFjZSgvXFxzK0VUJC8sXCIgRURUXCIpOmUucmVwbGFjZSgvXFxzK0VUJC8sXCIgRVNUXCIpO2lmKGU9ZS50cmltKCksbj1EYXRlLnBhcnNlKGUpKXJldHVybiBuLzFlMzt2YXIgdD1lLm1hdGNoKC8hXihbYS16XSspWy0vIF0oWzAtOV0rKVstLyBdKFswLTldKykoLiopJCFpLyk7cmV0dXJuIHQ/ZT10WzJdK1wiIFwiK3RbMV0rXCIgXCIrdFszXSt0WzRdOih0PWUubWF0Y2goLyFeKFswLTldKylbLS8gXShbYS16XSspWy0vIF0oWzAtOV0rKSguKikkIWkvKSkmJihlPXRbMV0rXCIgXCIrdFsyXStcIiBcIit0WzNdK3RbNF0pLChuPURhdGUucGFyc2UoZSkpP24vMWUzOnZvaWQgMH19LGdldFBvc3NpYmxlQ29va2llRG9tYWluczpTLGlzTW9iaWxlVGFibGV0SU9zOmZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybi9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KGUpJiYhd2luZG93Lk1TU3RyZWFtfSxpc0lwaG9uZTpmdW5jdGlvbigpe3ZhciBlPU0oKTtyZXR1cm4vaVBob25lLy50ZXN0KGUpJiYhd2luZG93Lk1TU3RyZWFtfSxpc0lPUzpmdW5jdGlvbigpe3ZhciBlPU0oKTtyZXR1cm4vaVBhZHxpUGhvbmV8aVBvZC8udGVzdChlKSYmIXdpbmRvdy5NU1N0cmVhbX0saXNJT3NVaVdlYlZpZXc6ZnVuY3Rpb24oKXt2YXIgZT1NKCk7cmV0dXJuLyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KGUpfSxpc1NhZmFyaU9ySU9zVWlXZWJWaWV3OmZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybi8oaVBob25lfGlQb2R8aVBhZCkuKkFwcGxlV2ViS2l0L2kudGVzdChlKX0saXNGQk9ySW5zdFdlYlZpZXc6ZnVuY3Rpb24oKXt2YXIgZT1NKCk7cmV0dXJuIGUuaW5kZXhPZihcIkZCQU5cIik+LTF8fGUuaW5kZXhPZihcIkZCQVZcIik+LTF8fGUuaW5kZXhPZihcIkluc3RhZ3JhbVwiKT4tMX0saXNBbmRyb2lkOmZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybi8oYW5kcm9pZCkvaS50ZXN0KGUpfSxpc0lFOmZ1bmN0aW9uKCl7dmFyIGU9LTEhPT0obmF2aWdhdG9yJiZuYXZpZ2F0b3IuYXBwVmVyc2lvbnx8XCJcIikuaW5kZXhPZihcIk1TSUVcIiksbj0obmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50fHxcIlwiKS5pbmRleE9mKFwiVHJpZGVudC9cIik+MDtyZXR1cm4gZXx8bn0saXNDcmlPUzpmdW5jdGlvbigpe3JldHVybi0xIT09KG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudHx8XCJcIikuaW5kZXhPZihcIkNyaU9TXCIpfSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGUpe3JldHVybi9eXFwvKD86XFx3K3xcXC57MSwyfVxcL1xcdyspLy50ZXN0KGUpfSxwcmVwYXJlVXJsUGFyYW1ldGVyOmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVyblwiXCI7dmFyIG49ZnVuY3Rpb24oZSl7dmFyIG49ZS5pbmRleE9mKFwiP1wiKSx0PWUuaW5kZXhPZihcIiNcIikscj0hMTstMSE9PXQmJihyPSEwKTt2YXIgbyxpPSExOy0xIT09biYmKGk9ITApLHImJmkmJnQ8biYmKGk9ITEpO3ZhciBhPVwiXCIscz1cIlwiO2lmKGkpe3ZhciBjPUwoZSxcIj9cIik7aWYobz1jWzBdLHIpe3ZhciBsPUwoY1sxXSxcIiNcIik7YT1sWzBdLHM9bFsxXX1lbHNlIGE9Y1sxXX1lbHNlIGlmKHIpe3ZhciB1PUwoZSxcIiNcIik7bz11WzBdLHM9dVsxXX1lbHNlIG89ZTtyZXR1cm57c2NoZW1lRG9tYWluQW5kUGF0aDpvLHF1ZXJ5U3RyaW5nOmEsaGFzaDpzLGhhc1F1ZXJ5U3RyaW5nOmksaGFzSGFzaDpyfX0oZT1lLnJlcGxhY2UoL14oKCUyMCl8XFxzKSsvLFwiXCIpKSx0PWVuY29kZVVSSShkZWNvZGVVUkkobi5zY2hlbWVEb21haW5BbmRQYXRoKSk7cmV0dXJuIG4uaGFzUXVlcnlTdHJpbmcmJih0Kz1cIj9cIitmdW5jdGlvbihlKXt2YXIgbj1cIlwiO2lmKHZvaWQgMCE9PWUpZm9yKHZhciB0PWUuc3BsaXQoXCImXCIpLHI9MDtyPHQubGVuZ3RoO3IrKylyPjAmJihuKz1cIiZcIiksbis9Tih0W3JdKTtyZXR1cm4gbn0obi5xdWVyeVN0cmluZykpLG4uaGFzSGFzaCYmKHQrPVwiI1wiK2VuY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQobi5oYXNoKSkpLHR9LGdldFJlZmVycmVyOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfSxnZXRIb3N0bmFtZTpqLGV4dHJhY3RDb29raWVEb21haW46ZnVuY3Rpb24oZSl7aWYoZSYmZS5sZW5ndGgmJlwiLlwiPT09ZVswXSlyZXR1cm4gZTt2YXIgbj1lfHx3aW5kb3cubG9jYXRpb24uaHJlZix0PWoobik7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPWUuc3BsaXQoXCIuXCIpLHQ9ITA7cmV0dXJuIDQ9PT1uLmxlbmd0aCYmVShuWzBdKSYmVShuWzFdKSYmVShuWzJdKSYmVShuWzNdKXx8KHQ9ITEpLHR9KHQpP3Q6XCJsb2NhbGhvc3RcIj09PXQ/bnVsbDpcIi5cIit0fSxzZXRDdXJyZW50RG9tYWluRnJvbVJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUuYnJvd3NlciYmdm9pZCAwIT09ZS5icm93c2VyLmNvb2tpZV9kb21haW4mJkEoXCJkb21haW5Jc1JlY2VpdmVkXCIsZS5icm93c2VyLmNvb2tpZV9kb21haW4pLGUudGJjJiZlLnRiYy5jb29raWVfZG9tYWluJiZBKFwiZG9tYWluSXNSZWNlaXZlZFwiLGUudGJjLmNvb2tpZV9kb21haW4pfSxnZXRDdXJyZW50RG9tYWluRnJvbUNvb2tpZTpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoVihlKSkuZG9tYWlufWNhdGNoKGUpe1QoXCJkb21haW5Jc1JlY2VpdmVkXCIpfX0saXNCb3Q6RyxnZXRBZmZpbGlhdGVUb2tlbjpmdW5jdGlvbihlKXt2YXIgbj13aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKTtpZihuKXt2YXIgdD1uLnNwbGl0KFwiPVwiKSxyPXRbMF0sbz10WzFdO3ImJm8mJnI9PT1lJiYoeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCIjXCIpWzBdfSkpLHM9byl9cmV0dXJuIHN9LHJlbW92ZUFmZmlsaWF0ZVRva2VuOmZ1bmN0aW9uKCl7cz1cIlwifX19O3BuLmNvbnRhaW5lci5yZWdpc3RlcihcInV0aWxcIix7dXNlVmFsdWU6Q2UoKX0pLHBuLnV0aWw9cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpO3ZhciBJZT1mdW5jdGlvbigpe3ZhciBlLG49cG4uY29udGFpbmVyLnJlc29sdmUoXCJqcVV0aWxzXCIpLHQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpLHI9cG4uY29udGFpbmVyLnJlc29sdmUoXCJhamF4XCIpLG89dC5maW5kQ29va2llQnlOYW1lKC9fX1RQXyovKTtpZih2b2lkIDAhPT13aW5kb3cuX3RwbSYmdm9pZCAwIT09d2luZG93Ll90cG0ucGF5d2FsbElEKXt2YXIgaT13aW5kb3cuX3RwbS5wYXl3YWxsSUQ7ZT10Ll9fcHJvdGVjdGVkX18uZ2V0Q29va2llKFwidW1jX1wiK2kpfXZhciBhPWZ1bmN0aW9uKCl7cmV0dXJuIHBuLmdldEFwaUVuZHBvaW50KCl9LHM9ZnVuY3Rpb24obixyKXt2YXIgaT10Ll9fcHJvdGVjdGVkX18uZ2V0Q29va2llKFwiX190YWNcIik7dm9pZCAwIT09biYmbnx8KG49e30pLG4uYWlkPXBuLmFpZCxlJiYobi51bWM9ZSksbyYmKG4udHBfYWNjZXNzX3Rva2VuX3YyPW8pLGkmJihuLnRhYz1pKSxuLnVzZXJfcHJvdmlkZXJ8fCFyfHxyLmlzdnx8KG4udXNlcl9wcm92aWRlcj1yLmdldE5hbWUoKSksdm9pZCAwIT09bi51c2VyX3Rva2VuJiZuLnVzZXJfdG9rZW58fCFyfHxyLmlzdnx8KG4udXNlcl90b2tlbj1cInN0cmluZ1wiPT10eXBlb2Ygci5nZXRUb2tlbigpP3IuZ2V0VG9rZW4oKTpcIlwiKTt2YXIgYT10LmdldEFmZmlsaWF0ZVRva2VuKHBuLmFmZmlsaWF0ZVRva2VuTmFtZSk7YSYmKG4uYWZmaWxpYXRlVG9rZW49YSl9O2Z1bmN0aW9uIGMoZSxvLGksYyxsLHUpe3ZhciBkO3QuZGVidWcoXCJDYWxsaW5nIEFQSSBtZXRob2Q6IFwiK2UpLGQ9dm9pZCAwIT09Yz9jOmEoKSxkKz1lLHZvaWQgMCE9PW8mJm98fChvPXt9KTt2YXIgcCxmLG09dC5nZXRUYmNDb29raWUoKTttJiYoby50YmM9bSkscG4udXNlciYmKHA9cG4udXNlci5nZXRQcm92aWRlcigpKSxzKG8scCksZj1mdW5jdGlvbihlKXt0LmRlYnVnKFwiQVBJIFJlc3BvbnNlXCIsZSksdC5zZXRUYmNDb29raWVGcm9tUmVzcG9uc2UoZSksdC5zZXRBcHBUaW1lem9uZU9mZnNldEZyb21SZXNwb25zZShlKSx0LnNldEN1cnJlbnREb21haW5Gcm9tUmVzcG9uc2UoZSksdm9pZCAwIT09aSYmaShlKX07dmFyIGc9ZnVuY3Rpb24oZSl7dmFyIG49XCIvYWNjZXNzL2xpc3RcIix0PVwiL2FjY2Vzcy9jaGVja1wiO2lmKGUhPT1uJiZlIT09dCYmXCIvdXNlci9hY2Nlc3MvbGlzdFwiIT09ZSYmXCIvdXNlci9hY2Nlc3MvY2hlY2suand0XCIhPT1lKXJldHVybiBudWxsO3ZhciByPU1hdGguZmxvb3IoKG5ldyBEYXRlKS5nZXRUaW1lKCkvMWUzKTtyZXR1cm4gZT09PW4/e2NvZGU6MCxjb3VudDowLGRhdGE6W10sbGltaXQ6MCxvZmZzZXQ6MCx0b3RhbDowLHRzOnJ9OmU9PT10P3tjb2RlOjAsdHM6MTU0ODk0MjMxNCxhY2Nlc3M6e2FjY2Vzc19pZDpudWxsLHBhcmVudF9hY2Nlc3NfaWQ6bnVsbCxncmFudGVkOiExLHJlc291cmNlOm51bGwsdXNlcjpudWxsLGV4cGlyZV9kYXRlOnJ9fTp7Y29kZTo0MDMsdHM6cixtZXNzYWdlOlwiVXNlciBkb2Vzbid0IGhhdmUgcGVybWlzc2lvbiB0byBjYWxsIHRoaXMgbWV0aG9kXCJ9fShlKTtpZihudWxsPT09Z3x8cG4udXNlci5nZXRQcm92aWRlcigpLmlzVXNlclZhbGlkKCkpe3ZhciB2OyFmdW5jdGlvbihlKXtwbi5pc0RvdWJsZU9wdEluQ2hlY2tPbkFjY2Vzc0NoZWNrRW5hYmxlZCYmXCIvYWNjZXNzL2NoZWNrXCI9PT1lJiZwbi5kb3VibGVPcHRJbi5jaGVjaygpfShlKTt2YXIgaD17ZGF0YVR5cGU6XCJqc29ucFwifTtpZih1KXt2YXIgdz1vLmFpZDtkZWxldGUgby5haWQsdj1cImFpZD1cIit3LE9iamVjdC5hc3NpZ24oaCx7dHlwZTpcIlBPU1RcIixkYXRhVHlwZTpcImpzb25cIixkYXRhOm99KX1lbHNlIG8uY2FsbEFwaUpzb25wPSEwLHY9bi5wYXJhbShvKTtkKz1cIj9cIit2LGgudXJsPWQsbCYmKGguYXN5bmM9ITEpLGguc3VjY2Vzcz1mdW5jdGlvbihlKXtmKGUpfSxoLmVycm9yPWZ1bmN0aW9uKGUpe3ZhciBuPXtjb2RlOjUwMyxtZXNzYWdlOlwiRXJyb3I6IFJlY2VpdmVkIGVycm9yIHdoZW4gcmVxdWVzdGluZyBBUEkgcmVzcG9uc2UgZnJvbSBVUkw6IFwiK2R9O3QubG9nKG4ubWVzc2FnZSksZihuKX0sci5yZXF1ZXN0KGgpfWVsc2UgZihnKX1yZXR1cm57bmFtZTpcImFwaVwiLGNhbGxBcGk6ZnVuY3Rpb24oZSxuLHQscixvLGkpe3JldHVybiBjKGUsbix0LHIsbyxpKX0sZ2V0RW5kcG9pbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgpfSxnZXRDYWxsUGFyYW1zOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHMoZSxuKX19fSgpO3BuLmNvbnRhaW5lci5yZWdpc3RlcihcImFwaVwiLHt1c2VWYWx1ZTpJZX0pLHBuLmFwaT1wbi5jb250YWluZXIucmVzb2x2ZShcImFwaVwiKTt2YXIgU2U9ZnVuY3Rpb24oKXt2YXIgZSxuLHQscixvLGksYSxzLGMsbCx1LGQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJqcVV0aWxzXCIpLHA9cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpLGY9e30sbT17fSxnPVtdLHY9e30saD0oZT17fSxpPTEsYT13aW5kb3cscz0hMSxsPVwiYWRkRXZlbnRMaXN0ZW5lclwiLHU9YVtjPVwicG9zdE1lc3NhZ2VcIl0sZVtjXT1mdW5jdGlvbihlLG4sdCl7biYmKGU9XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpkLnBhcmFtKGUpLHQ9dHx8cGFyZW50LHU/dFtjXShlLG4ucmVwbGFjZSgvKFteOl0rOlxcL1xcL1teXFwvXSspLiovLFwiJDFcIikpOm4mJih0LmxvY2F0aW9uPW4ucmVwbGFjZSgvIy4qJC8sXCJcIikrXCIjXCIrICtuZXcgRGF0ZStpKysrXCImXCIrZSkpfSxlLnJlY2VpdmVNZXNzYWdlPW89ZnVuY3Rpb24oZSxpLGMpe3U/KGUmJihyJiZvKCkscj1mdW5jdGlvbihuKXtpZihcInN0cmluZ1wiPT10eXBlb2YgaSYmbi5vcmlnaW4hPT1pfHxkLmlzRnVuY3Rpb24oaSkmJmkobi5vcmlnaW4pPT09cylyZXR1cm4gcztlKG4pfSksYVtsXT9hW2U/bDpcInJlbW92ZUV2ZW50TGlzdGVuZXJcIl0oXCJtZXNzYWdlXCIscixzKTphW2U/XCJhdHRhY2hFdmVudFwiOlwiZGV0YWNoRXZlbnRcIl0oXCJvbm1lc3NhZ2VcIixyKSk6KG4mJmNsZWFySW50ZXJ2YWwobiksbj1udWxsLGUmJihjPVwibnVtYmVyXCI9PXR5cGVvZiBpP2k6XCJudW1iZXJcIj09dHlwZW9mIGM/YzoxMDAsbj1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXt2YXIgbj1kb2N1bWVudC5sb2NhdGlvbi5oYXNoLHI9L14jP1xcZCsmLztuIT09dCYmci50ZXN0KG4pJiYodD1uLGUoe2RhdGE6bi5yZXBsYWNlKHIsXCJcIil9KSl9KSxjKSkpfSxlKTt2YXIgdz1mdW5jdGlvbihlLG4sdCl7dCYmXyh0KSYmISh0IGluIG0pP3AuZXJyb3IoXCJDYW5ub3Qgc2VuZCBtZXNzYWdlIHRvIHVubWFuYWdlZCBpZnJhbWU6IFwiK3QpOnQmJm1bdF0uZWxlbWVudCYmKFwicG9wdXBcIj09PW1bdF0uY29uZmlnLmRpc3BsYXlNb2RlfHxcInBvcHVwXCIhPT1tW3RdLmNvbmZpZy5kaXNwbGF5TW9kZSYmbVt0XS5lbGVtZW50LmNvbnRlbnRXaW5kb3c/eShlLG4sdCk6KGcucHVzaCh7ZXZlbnQ6ZSxwYXJhbXM6bixyZWNpcGllbnQ6dH0pLGQub24obVt0XS5lbGVtZW50LFwibG9hZFwiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPWcuZmlsdGVyKChmdW5jdGlvbihuKXtyZXR1cm4gbi5yZWNpcGllbnQ9PT1lfSkpO2c9Zy5maWx0ZXIoKGZ1bmN0aW9uKG4pe3JldHVybiBuLnJlY2lwaWVudCE9PWV9KSk7Zm9yKHZhciB0PW4ubGVuZ3RoO3QtLTspe3ZhciByPW4ucG9wKCk7eShyLmV2ZW50LHIucGFyYW1zLHIucmVjaXBpZW50KX19fSh0KSkpKX0seT1mdW5jdGlvbihlLG4sdCl7dmFyIHIsbz17fSxpPVwicG9wdXBcIj09PW1bdF0uY29uZmlnLmRpc3BsYXlNb2RlP1wib3BlbmVyXCI6XCJwYXJlbnRcIjtvLnNlbmRlcj1fKHQpP2k6dCxvLnJlY2lwaWVudD1fKHQpP3Q6aSxvLmV2ZW50PWUsby5wYXJhbXM9bjt2YXIgYT1tW3RdLmVsZW1lbnQ7cj1cInBvcHVwXCI9PT1tW3RdLmNvbmZpZy5kaXNwbGF5TW9kZT9tW3RdLmNvbnRhaW5lcjphJiZhLmNvbnRlbnRXaW5kb3c/YS5jb250ZW50V2luZG93OmEmJlwiW29iamVjdCBXaW5kb3ddXCI9PT1hLnRvU3RyaW5nKCk/bVt0XS5lbGVtZW50OndpbmRvd1tpXSxoLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KG8pLGZbdF0ucG9zdE1lc3NhZ2VVcmwscil9O3ZhciBiPWZ1bmN0aW9uKGUpe2ZbZS5pZnJhbWVJZF09e2lmcmFtZUNvbmZpZzpudWxsLHJlY2VpdmU6bnVsbCxwb3N0TWVzc2FnZVVybDpudWxsLGluaXRpYWxpemVkTGlzdGVuZXI6ITEsaW5pdGlhbGl6ZWRLZXlzdHJva2VIYW5kbGVyOiExfSxtW2UuaWZyYW1lSWRdPWV9LGs9ZnVuY3Rpb24oZSl7cmV0dXJuISghZltlXXx8IWZbZV0uaWZyYW1lQ29uZmlnKX0sXz1mdW5jdGlvbihlKXtyZXR1cm4hZltlXXx8IWZbZV0uaWZyYW1lQ29uZmlnfSxDPWZ1bmN0aW9uKGUpe3ZhciBuPUkoZSk7cmV0dXJuIG4uc2hvd0Nsb3NlQnV0dG9uJiZcImlubGluZVwiIT09bi5kaXNwbGF5TW9kZX0sST1mdW5jdGlvbihlKXt2YXIgbj1mW2VdLHQ9biYmbi5pZnJhbWVDb25maWcmJm4uaWZyYW1lQ29uZmlnLmlmcmFtZTtyZXR1cm4gdCYmdC5jb25maWd9O2Z1bmN0aW9uIFMoZSl7dmFyIG4sdCxyLG8saSxhLHM9ITE7dHJ5e249SlNPTi5wYXJzZShlLmRhdGEpfWNhdGNoKHQpe3RyeXtyPWUuZGF0YSxpPXt9LGE9e3RydWU6ITAsZmFsc2U6ITEsbnVsbDpudWxsfSxyLnJlcGxhY2UoL1xcKy9nLFwiIFwiKS5zcGxpdChcIiZcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt2YXIgdD1uLnNwbGl0KFwiPVwiKSxyPVwiXCI7dHJ5e3I9ZGVjb2RlVVJJQ29tcG9uZW50KHRbMF0pfWNhdGNoKGUpe3JldHVybn12YXIgcyxjPWksbD0wLHU9ci5zcGxpdChcIl1bXCIpLGQ9dS5sZW5ndGgtMTtpZigvXFxbLy50ZXN0KHVbMF0pJiYvXFxdJC8udGVzdCh1W2RdKT8odVtkXT11W2RdLnJlcGxhY2UoL1xcXSQvLFwiXCIpLGQ9KHU9dS5zaGlmdCgpLnNwbGl0KFwiW1wiKS5jb25jYXQodSkpLmxlbmd0aC0xKTpkPTAsMj09PXQubGVuZ3RoKWlmKHM9ZGVjb2RlVVJJQ29tcG9uZW50KHRbMV0pLG8mJihzPXMmJiFpc05hTihzKT8rczpcInVuZGVmaW5lZFwiPT09cz92b2lkIDA6dm9pZCAwIT09YVtzXT9hW3NdOnMpLGQpZm9yKDtsPD1kO2wrKyljPWNbcj1cIlwiPT09dVtsXT9jLmxlbmd0aDp1W2xdXT1sPGQ/Y1tyXXx8KHVbbCsxXSYmaXNOYU4odVtsKzFdKT97fTpbXSk6cztlbHNlIEFycmF5LmlzQXJyYXkoaVtyXSk/aVtyXS5wdXNoKHMpOnZvaWQgMCE9PWlbcl0/aVtyXT1baVtyXSxzXTppW3JdPXM7ZWxzZSByJiYoaVtyXT1vP3ZvaWQgMDpcIlwiKX0pKSwobj1pKSYmKHM9ITApfWNhdGNoKG4pe3JldHVybiB2b2lkIHAuZGVidWcoXCJFcnJvciBwYXJzaW5nIHBvc3RNZXNzYWdlOiBcIitlLmRhdGEpfX1pZih4KG4pLHMpe3ZhciBjO2Zvcih2YXIgbCBpbiBtKSh0PW1bbF0pLmNvbmZpZy5pc0N1cnRhaW4mJihjPSEwLHQuY29uZmlnLnBhcmVudCYmZlt0LmNvbmZpZy5wYXJlbnRdLnJlY2VpdmUmJmZbdC5jb25maWcucGFyZW50XS5yZWNlaXZlKG4pLGZbbF0ucmVjZWl2ZSYmZltsXS5yZWNlaXZlKG4pKTtjfHxwLmRlYnVnKFwiRXJyb3IgcGFyc2luZyBwb3N0TWVzc2FnZTogXCIrZS5kYXRhKX1lbHNlIGlmKCFfKG4uc2VuZGVyKXx8bi5zZW5kZXImJm4uc2VuZGVyIGluIG0pe2lmKHAuZGVidWcoKGsobi5zZW5kZXIpP1wiaWZyYW1lKFwiK24ucmVjaXBpZW50OlwidGhlIHBhcmVudFwiKStcIikgcmVjZWl2ZWQgZXZlbnQgJ1wiK24uZXZlbnQrXCInIGZyb20gaWZyYW1lKFwiK24uc2VuZGVyK1wiKVwiLG4pLGZbbi5zZW5kZXJdLnJlY2VpdmUmJmZbbi5zZW5kZXJdLnJlY2VpdmUobiksbVtuLnNlbmRlcl0mJih0PW1bbi5zZW5kZXJdKS5jb25maWcucGFyZW50JiZmW3QuY29uZmlnLnBhcmVudF0ucmVjZWl2ZSl7bi5zZW5kZXI9dC5jb25maWcucGFyZW50LGZbdC5jb25maWcucGFyZW50XS5yZWNlaXZlKG4sITApfX1lbHNlIHAuZGVidWcoXCJSZWNlaXZlZCBtZXNzYWdlIGZyb20gdW5tYW5hZ2VkIGlmcmFtZTogXCIrbi5zZW5kZXIpfXZhciB4PWZ1bmN0aW9uKGUpeyh2W2UuZXZlbnRdfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24obil7bihlKX0pKX07cmV0dXJue25hbWU6XCJwb3N0bWVzc2FnZVwiLGluaXQ6ZnVuY3Rpb24oZSxuKXtpZihiKGUuaWZyYW1lKSxlLnBvc3RNZXNzYWdlVXJsKXtpZihlLmlmcmFtZS5pZnJhbWVJZCl7ZltlLmlmcmFtZS5pZnJhbWVJZF0uaW5pdGlhbGl6ZWRLZXlzdHJva2VIYW5kbGVyfHwoZltlLmlmcmFtZS5pZnJhbWVJZF0uaW5pdGlhbGl6ZWRLZXlzdHJva2VIYW5kbGVyPSEwLGQuZGVsZWdhdGUod2luZG93LFwiI1wiK2UuaWZyYW1lLmlmcmFtZUlkLFwia2V5dXBcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpezI3PT09ZS5rZXlDb2RlJiZrKGUuZGF0YS5pZnJhbWVJZCkmJkMoZS5kYXRhLmlmcmFtZUlkKSYmdyhcImNsb3NlXCIsbnVsbCxlLmRhdGEuaWZyYW1lSWQpfShlKX0pKSksZltlLmlmcmFtZS5pZnJhbWVJZF0ucG9zdE1lc3NhZ2VVcmw9ZS5wb3N0TWVzc2FnZVVybCxmW2UuaWZyYW1lLmlmcmFtZUlkXS5pbml0aWFsaXplZExpc3RlbmVyfHwoZltlLmlmcmFtZS5pZnJhbWVJZF0uaW5pdGlhbGl6ZWRMaXN0ZW5lcj0hMCxmW2UuaWZyYW1lLmlmcmFtZUlkXS5yZWNlaXZlPWUucmVjZWl2ZSxoLnJlY2VpdmVNZXNzYWdlKFMpKSxmW2UuaWZyYW1lLmlmcmFtZUlkXS5pZnJhbWVDb25maWc9ZTt2YXIgdD1ufHx7fTt0LmhlaWdodD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LHQud2lkdGg9ZS5pZnJhbWVQYXJhbXMmJmUuaWZyYW1lUGFyYW1zLndpZHRoP2UuaWZyYW1lUGFyYW1zLndpZHRoOmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCx3KFwibG9hZGVkXCIsdCxlLmlmcmFtZS5pZnJhbWVJZCl9fWVsc2UgcC5lcnJvcihcIk11c3Qgc3BlY2lmeSBwb3N0TWVzc2FnZVVybCB0byBzZW5kIGFuZCByZWNlaXZlIHBvc3RNZXNzYWdlc1wiKX0sX19wcm90ZWN0ZWRfXzp7aXNJZnJhbWVNYW5hZ2VkOmZ1bmN0aW9uKGUpe3ZhciBuPW1bZV07cmV0dXJuIG4mJl8obil9fSxzZW5kOncscmVtb3ZlSWZyYW1lOmZ1bmN0aW9uKGUpe2RlbGV0ZSBtW2VdLGRlbGV0ZSBmW2VdfSxicm9hZGNhc3Q6ZnVuY3Rpb24oZSxuLHQpe2Zvcih2YXIgciBpbiBtKW0uaGFzT3duUHJvcGVydHkocikmJnI9PT10fHx3KGUsbixyKX0sc3Vic2NyaWJlOmZ1bmN0aW9uKGUsbil7dltlXT12W2VdfHxbXSx2W2VdLnB1c2gobil9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKGUsbil7dltlXWluc3RhbmNlb2YgQXJyYXkmJih2W2VdPXZbZV0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PW59KSkpfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwicG9zdG1lc3NhZ2VcIix7dXNlVmFsdWU6U2V9KSxwbi5wb3N0bWVzc2FnZT1wbi5jb250YWluZXIucmVzb2x2ZShcInBvc3RtZXNzYWdlXCIpO3ZhciB4ZT1mdW5jdGlvbigpe3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwianFVdGlsc1wiKSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSx0PXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicG9zdG1lc3NhZ2VcIik7cmV0dXJue25hbWU6XCJldmVudFV0aWxzXCIsY3JlYXRlRXZlbnRNYW5hZ2VyOmZ1bmN0aW9uKHIpe3ZhciBvLGk9e307Zm9yKG89MDtvPHIubGVuZ3RoO28rKylpW3Jbb11dPVtdO3ZhciBhPXthZGRFdmVudDpmdW5jdGlvbihlKXt2b2lkIDA9PT1pW2VdJiYoaVtlXT1bXSl9LGhhc0lmcmFtZUNhbGxiYWNrOmZ1bmN0aW9uKGUsbil7dmFyIHQscjtpZihpW2VdJiZpW2VdLmxlbmd0aD4wKWZvcihyPTAsdD1udWxsO3I8aVtlXS5sZW5ndGg7KytyKWlmKFwib2JqZWN0XCI9PXR5cGVvZih0PWlbZV1bcl0pJiZuPT09dC5pZnJhbWVJZClyZXR1cm4hMDtyZXR1cm4hMX0saGFzQ2FsbGJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV0mJmlbZV0ubGVuZ3RoPjB9LHJlZ2lzdGVyQ2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXt2YXIgcixvLGEscz1cInN0cmluZ1wiPT10eXBlb2YgZT9lOm51bGwsYz1cIm9iamVjdFwiPT10eXBlb2YgZT9lOm51bGw7aWYocyl7aWYocj1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6bnVsbCx2b2lkIDA9PT1pW3NdKXJldHVybjtpW3NdLnB1c2gocil9aWYoYylmb3IoYSBpbiBvPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6bnVsbCxpKVwiZnVuY3Rpb25cIj09dHlwZW9mIGNbYV0mJihuLmRlYnVnKFwiUmVnaXN0ZXJpbmcgXCIrYStcIiBjYWxsYmFjayBmb3IgaWZyYW1lIFwiK28pLGlbYV0ucHVzaCh7aWZyYW1lSWQ6byxjYWxsYmFjazpjW2FdfSkpfSxmaXJlQ2FsbGJhY2tzOmZ1bmN0aW9uKGUsbix0LHIpe3JldHVybiBhLmZpcmUodCxlLHIsbil9LGZpcmU6ZnVuY3Rpb24ocixvLGEscyxjLGwpe3ZhciB1LGQscCxmPSExLG09W107cyYmbS5wdXNoKHMpLGMmJm0ucHVzaChjKSxsJiZtLnB1c2gobCk7dmFyIGc9cyYmcy5yZXN1bHRDYWxsYmFja0lkLHY9ZnVuY3Rpb24odCl7aWYoYSl0cnl7aWYobS5sZW5ndGg+MSlyZXR1cm4gZC5hcHBseShudWxsLG0pO2lmKFwibG9naW5SZXF1aXJlZFwiPT09byl7dmFyIGk9ZS5kZWVwRXh0ZW5kKHt9LHQudGVybSk7cmV0dXJuIGRlbGV0ZSB0LnRlcm0sZCh0LHIsaSl9cmV0dXJuIGQodCxyKX1jYXRjaChlKXtuLmRlYnVnKGUpfX07aWYodm9pZCAwIT09aVtvXSl7Zm9yKHA9MCx1PW51bGwsZD1udWxsO3A8aVtvXS5sZW5ndGg7KytwKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZihkPWlbb11bcF0pKW4uZGVidWcoXCJmaXJpbmcgY2FsbGJhY2sgZm9yIGV2ZW50ICdcIitvK1wiJyBmcm9tIGlmcmFtZShcIityK1wiKVwiKSx1PXYocyksZj0hMDtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBkKXtpZihyIT09ZC5pZnJhbWVJZCljb250aW51ZTtuLmRlYnVnKFwiZmlyaW5nIGNhbGxiYWNrIGZvciBldmVudCAnXCIrbytcIicgZnJvbSBpZnJhbWUoXCIrcitcIilcIiksZD1kLmNhbGxiYWNrLHU9dihzKSxmPSEwfWcmJihzLnJlc3VsdD11LHMuZXZlbnQ9byx0LnNlbmQoXCJyZXN1bHRDYWxsYmFja1wiLHMscikpfXJldHVybiFmJiZnJiYocy5jYWxsYmFja05vdEZvdW5kPSEwLHMuZXZlbnQ9byx0LnNlbmQoXCJyZXN1bHRDYWxsYmFja1wiLHMscikpLHV9fSxmaXJlQ2FsbGJhY2tzQW5kU3RvcE9uRmlyc3RGYWxzZTpmdW5jdGlvbihlLHQscixvKXtmb3IodmFyIGE9W10scz00O3M8YXJndW1lbnRzLmxlbmd0aDtzKyspYVtzLTRdPWFyZ3VtZW50c1tzXTtpZih2b2lkIDA9PT1pW2VdKXJldHVybiEwO2Zvcih2YXIgYz0hMCxsPTA7bDxpW2VdLmxlbmd0aDtsKyspe3ZhciB1PWlbZV1bbF07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdSl7bi5kZWJ1ZyhcImZpcmluZyBjYWxsYmFjayBmb3IgZXZlbnQgJ1wiK2UrXCInXCIpO3RyeXt2YXIgZD1bXTtpZihkLnB1c2godCksZC5wdXNoKHIpLGQucHVzaChvKSxkPWQuY29uY2F0KFtdLnNsaWNlLmNhbGwoYSkpLCExPT09dS5hcHBseShudWxsLGQpKXtuLmRlYnVnKFwiY2FsbGJhY2sgZm9yIGV2ZW50ICdcIitlK1wiJyByZXR1cm5lZCBmYWxzZVwiKSxjPSExO2JyZWFrfX1jYXRjaCh0KXtuLmRlYnVnKFwiZmlyaW5nIGNhbGxiYWNrIGZvciBldmVudCAnXCIrZStcIicgZmFpbGVkXCIsdCl9fX1yZXR1cm4gY319O3JldHVybiBhfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiZXZlbnRVdGlsc1wiLHt1c2VWYWx1ZTp4ZX0pLHBuLmV2ZW50VXRpbHM9cG4uY29udGFpbmVyLnJlc29sdmUoXCJldmVudFV0aWxzXCIpO3ZhciBQZT1mdW5jdGlvbigpe3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiYXBpXCIpLHQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJldmVudFV0aWxzXCIpLHI9cG4uY29udGFpbmVyLnJlc29sdmUoXCJsb2NhbFN0b3JhZ2VcIiksbz10LmNyZWF0ZUV2ZW50TWFuYWdlcihbXCJ1c2VyQ2hhbmdlZFwiLFwibG9nb3V0XCJdKSxpPVwiamFucmFpblwiLGE9ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRVc2VyVG9rZW5Db29raWUoKX0scz1mdW5jdGlvbigpe3ZhciBlPWEoKTtyZXR1cm4hISh2b2lkIDAhPT1lJiZlJiZlLmxlbmd0aD49MCl9LGM9ITEsbD0hMSx1PXtvbkNhcHR1cmVTZXNzaW9uQ3JlYXRlZDpbXX0sZD17bG9naW5SZXF1aXJlZFNjcmVlbjpcInNpZ25JblwiLGFwcE5hbWU6bnVsbCxhcHBJZDpudWxsLGNsaWVudElkOm51bGwsc2V0dGluZ3M6bnVsbCxkaXNhYmxlTG9nb3V0OiExLHN0YXJ0Q2FwdHVyZTohMX0scD17cmVnaXN0ZXI6XCJ0cmFkaXRpb25hbFJlZ2lzdHJhdGlvblwiLGxvZ2luOlwic2lnbkluXCJ9O3ZhciBmPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZwLmhhc093blByb3BlcnR5KGUuc3RhcnRTY3JlZW4pP3BbZS5zdGFydFNjcmVlbl06ZC5sb2dpblJlcXVpcmVkU2NyZWVufTt2YXIgbT1mdW5jdGlvbigpe2QuZGlzYWJsZUxvZ291dHx8ZS5zZXRBY2Nlc3NUb2tlbkxpc3RDb29raWUodm9pZCAwLHZvaWQgMCwhMCl9LGc9ITAsdj1mdW5jdGlvbigpe3ZhciBlPXdpbmRvdy5qYW5yYWluO3JldHVybiBlJiZlLmNhcHR1cmUmJmUuY2FwdHVyZS51aSYmZS5jYXB0dXJlLnVpLmhhc0FjdGl2ZVNlc3Npb24oKX07ZnVuY3Rpb24gaCgpe2UubG9nKFwiSkFOUkFJTjpcIixcIlByb2Nlc3NpbmcgamFucmFpbiB1c2VyXCIpLGc/Zz0hMTplLnN0YXJ0Q2FsbChcInJlZnJlc2hVc2VyVG9rZW5cIiksZS5sb2coXCJKQU5SQUlOOlwiLFwiaGFzQWN0aXZlU2Vzc2lvbjpcIit2KCkpO3ZhciB0PXcoKTtpZighdigpKXJldHVybiBlLmxvZyhcIkpBTlJBSU46XCIsXCJObyB0b2tlbiBmb3VuZC4gIERvbmUgcHJvY2Vzc2luZyB1c2VyXCIpLG0oKSx2b2lkIGUuZG9uZUNhbGwoXCJyZWZyZXNoVXNlclRva2VuXCIpO2lmKHMoKSlyZXR1cm4gZS5sb2coXCJKQU5SQUlOOlwiLFwiVXNpbmcgX191dC4gIERvbmUgcHJvY2Vzc2luZyB1c2VyXCIpLHZvaWQgZS5kb25lQ2FsbChcInJlZnJlc2hVc2VyVG9rZW5cIik7dmFyIHI9e2phbnJhaW5fY2FwdHVyZV90b2tlbjp0LHVybDplLnByZXBhcmVVcmxQYXJhbWV0ZXIod2luZG93LmxvY2F0aW9uLmhyZWYpfTtuLmNhbGxBcGkoXCIvYW5vbi9qYW5yYWluL3ZlcmlmeUFjY291bnRJbmZvXCIsciwoZnVuY3Rpb24obil7aWYobiYmbi5hY2Nlc3MpdHJ5e2UubG9nKFwiSkFOUkFJTjpcIixcIlZlcmlmeSBzdWNjZXNzLiAgRG9uZSBwcm9jZXNzaW5nIHVzZXJcIiksZS5zZXRBY2Nlc3NUb2tlbkxpc3RDb29raWUobi5hY2Nlc3MuYWNjZXNzX3Rva2VuLG4uYWNjZXNzLnVzZXJfdG9rZW4pO3ZhciB0PXthY2Nlc3NfdG9rZW46bi5hY2Nlc3MuYWNjZXNzX3Rva2VuLHVzZXJfdG9rZW46bi5hY2Nlc3MudXNlcl90b2tlbn07bi5hY2Nlc3MudXNlciYmKHQudXNlcj17dWlkOm4uYWNjZXNzLnVzZXIudWlkLGVtYWlsOm4uYWNjZXNzLnVzZXIuZW1haWwsZmlyc3ROYW1lOm4uYWNjZXNzLnVzZXIuZmlyc3RfbmFtZSxsYXN0TmFtZTpuLmFjY2Vzcy51c2VyLmxhc3RfbmFtZSx2YWxpZDpuLmFjY2Vzcy51c2VyLnZhbGlkfSksZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT11W2VdJiYwIT09dVtlXS5sZW5ndGgpZm9yKHZhciB0PTA7dDx1W2VdLmxlbmd0aDsrK3QpdVtlXVt0XS5hcHBseShudWxsLGFyZ3VtZW50cyl9KFwib25DYXB0dXJlU2Vzc2lvbkNyZWF0ZWRcIix0KSxvLmZpcmVDYWxsYmFja3MoXCJ1c2VyQ2hhbmdlZFwiLHQsdm9pZCAwLCEwKX1maW5hbGx5e2UuZG9uZUNhbGwoXCJyZWZyZXNoVXNlclRva2VuXCIpfWVsc2UgZS5sb2coXCJKQU5SQUlOOlwiLFwiVmVyaWZ5IGZhaWxlZFwiKX0pKX12YXIgdz1mdW5jdGlvbigpe3JldHVybiByLmdldChcImphbnJhaW5DYXB0dXJlVG9rZW5cIil9LHk9ZnVuY3Rpb24oKXt2YXIgbj13aW5kb3cuamFucmFpbjtuLmV2ZW50cy5vblByb3ZpZGVyTG9nb3V0Q29tcGxldGUuYWRkSGFuZGxlcigoZnVuY3Rpb24oKXttKCl9KSksbi5ldmVudHMub25DYXB0dXJlU2Vzc2lvbkVuZGVkLmFkZEhhbmRsZXIoKGZ1bmN0aW9uKG4pe2UubG9nKFwiSkFOUkFJTjogRXZlbnRzIHJlY2VpdmVkIGZvciBsb2dvdXRcIixuKSxtKCl9KSksYigpfSxiPWZ1bmN0aW9uKCl7aWYodigpKXJldHVybiBlLmxvZyhcIkpBTlJBSU46XCIsXCJGb3VuZCBlYXJseSBhY3RpdmUgc2Vzc2lvbiB2aWEgZnVuY3Rpb25cIiksdm9pZCBoKCk7aWYoIXYoKSYmIXMoKSYmIXcoKSlyZXR1cm4gZS5sb2coXCJKQU5SQUlOOlwiLFwibm90IGZvdW5kIF9fdXQgY29va2llIGFuZCBqYW5yYWluIHRva2VuXCIpLHZvaWQgaCgpO3ZhciBuPSExLHQ9d2luZG93LmphbnJhaW47dC5ldmVudHMub25DYXB0dXJlU2Vzc2lvbkZvdW5kLmFkZEhhbmRsZXIoKGZ1bmN0aW9uKHQpe2soKT9uJiYoZS5sb2coXCJKQU5SQUlOOiBFdmVudHMgcmVjZWl2ZWQgZm9yIGxvZ2dlZCBpbiB1c2VyXCIsdCksaCgpKTpoKCl9KSksdC5ldmVudHMub25DYXB0dXJlU2Vzc2lvbk5vdEZvdW5kLmFkZEhhbmRsZXIoKGZ1bmN0aW9uKHQpe2soKT9uJiYoZS5sb2coXCJKQU5SQUlOOiBFdmVudHMgcmVjZWl2ZWQgZm9yIGxvZ2dlZCBvdXQgdXNlclwiLHQpLGgoKSk6aCgpfSkpLHQuZXZlbnRzLm9uQ2FwdHVyZUZlZGVyYXRlTm9Mb2dpbi5hZGRIYW5kbGVyKChmdW5jdGlvbihlKXtuPWV9KSksdC5ldmVudHMub25DYXB0dXJlRmVkZXJhdGVMb2dpbi5hZGRIYW5kbGVyKChmdW5jdGlvbihuKXtlLmxvZyhcIkpBTlJBSU46IEV2ZW50cyByZWNlaXZlZCBmb3IgU1NPIGxvZ2luXCIsbiksaCgpfSkpfSxrPWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LmphbnJhaW47cmV0dXJuIGUmJmUuc2V0dGluZ3MmJmUuc2V0dGluZ3MuY2FwdHVyZSYmZS5zZXR0aW5ncy5jYXB0dXJlLmZlZGVyYXRlfTtmdW5jdGlvbiBfKGUsbil7aWYoIWMpdGhyb3dcIkphbnJhaW4gaXMgbm90IGNvbmZpZ3VyZWRcIjt2YXIgdD0wOyFmdW5jdGlvbiByKCl7dmFyIG89d2luZG93LmphbnJhaW47aWYobClvLmV2ZW50c1tlXS5hZGRIYW5kbGVyKChmdW5jdGlvbihlKXtuKGUpfSkpO2Vsc2V7aWYodD4xMDApdGhyb3dcIkphbnJhaW4gaXMgbm90IGluaXRpYWxpemVkXCI7dCsrLHdpbmRvdy5zZXRUaW1lb3V0KHIsMTAwKX19KCl9cmV0dXJue25hbWU6aSxpc3Y6ITEsaW5pdDpmdW5jdGlvbihuKXtpZighYyl7aWYoIW4uYXBwTmFtZXx8IW4uYXBwSWR8fCFuLmNsaWVudElkKXRocm93XCJNdXN0IHNwZWNpZnkgYXBwTmFtZSwgYXBwSWQsIGFuZCBjbGllbnRJZCB0byBpbml0aWFsaXplIGphbnJhaW5cIjtmb3IodmFyIHQgaW4gZCl2b2lkIDAhPT1uW3RdJiYoZFt0XT1uW3RdKTtpZihuLnNldHRpbmdzJiYoZC5zZXR0aW5ncz1uLnNldHRpbmdzKSxuLmxvZ2luUmVxdWlyZWRTY3JlZW4mJihkLmxvZ2luUmVxdWlyZWRTY3JlZW49bi5sb2dpblJlcXVpcmVkU2NyZWVuKSxkLnNldHRpbmdzKXtcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93LmphbnJhaW4mJih3aW5kb3cuamFucmFpbj17fSksXCJvYmplY3RcIiE9dHlwZW9mIHdpbmRvdy5qYW5yYWluLnNldHRpbmdzJiYod2luZG93LmphbnJhaW4uc2V0dGluZ3M9e30pO3ZhciByPXdpbmRvdy5qYW5yYWluO3Iuc2V0dGluZ3M9ZC5zZXR0aW5ncyxcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93LmphbnJhaW4uc2V0dGluZ3MuY2FwdHVyZSYmKHdpbmRvdy5qYW5yYWluLnNldHRpbmdzLmNhcHR1cmU9e30pLHIuc2V0dGluZ3MuYXBwVXJsPVwiaHR0cHM6Ly9cIitkLmFwcE5hbWUrXCIucnB4bm93LmNvbVwiLHIuc2V0dGluZ3MuY2FwdHVyZS5jYXB0dXJlU2VydmVyPVwiaHR0cHM6Ly9cIitkLmFwcE5hbWUrXCIuamFucmFpbmNhcHR1cmUuY29tXCIsci5zZXR0aW5ncy5jYXB0dXJlLmFwcElkPWQuYXBwSWQsci5zZXR0aW5ncy5jYXB0dXJlLmNsaWVudElkPWQuY2xpZW50SWQ7dmFyIG8saT1kLmFwcE5hbWUucmVwbGFjZSgvXFwuL2csXCItXCIpLGE9XCJodHRwOi8vd2lkZ2V0LWNkbi5ycHhub3cuY29tL2xvYWQvXCIraSxzPVwiaHR0cHM6Ly9ycHhub3cuY29tL2xvYWQvXCIraTtvPWUuX19wcm90ZWN0ZWRfXy5pc0h0dHBzUHJvdG9jb2woKT9zOmEscG4ucHVzaChbXCJhZGRFeHRlcm5hbExpYnJhcnlcIixvLGZ1bmN0aW9uKCl7ci5yZWFkeT0hMH1dKX1lLmxvZyhcIkpBTlJBSU46XCIsXCJzdGFydCByZWZyZXNoIHVzZXIgdG9rZW5cIiksZS5zdGFydENhbGwoXCJyZWZyZXNoVXNlclRva2VuXCIsM2U0KSxlLndhaXRDYWxsKFwicmVmcmVzaFVzZXJUb2tlblwiLChmdW5jdGlvbigpe2UubG9nKFwiSkFOUkFJTjpcIixcImVuZCByZWZyZXNoIHVzZXIgdG9rZW5cIil9KSksZnVuY3Rpb24oKXt2YXIgbj0xMDAsdD0wO2Z1bmN0aW9uIHIoKXt2YXIgbz13aW5kb3cuamFucmFpbjtpZih3aW5kb3cuamFucmFpbiYmd2luZG93LmphbnJhaW4ucmVhZHkmJndpbmRvdy5qYW5yYWluLmNhcHR1cmUmJndpbmRvdy5qYW5yYWluLmNhcHR1cmUudWkmJndpbmRvdy5qYW5yYWluLmNhcHR1cmUudWkuaGFzQWN0aXZlU2Vzc2lvbikhZnVuY3Rpb24oKXt2YXIgbj13aW5kb3cuamFucmFpbix0PWZ1bmN0aW9uKHQpe24uZXZlbnRzW3RdLmFkZEhhbmRsZXIoKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bcl09YXJndW1lbnRzW3JdO2UubG9nKFwiSkFOUkFJTjogXCIsdCxuKX0pKX07cG4uZGVidWcmJm4uZXZlbnRzLmNhcHR1cmVFdmVudHMuZm9yRWFjaCh0KX0oKSx5KCksZC5zdGFydENhcHR1cmUmJm8uY2FwdHVyZS51aS5zdGFydCgpLGw9ITA7ZWxzZXtpZih0Pm4pdGhyb3dcIkphbnJhaW4gaXMgbm90IGluaXRpYWxpemVkXCI7dCsrLHdpbmRvdy5zZXRUaW1lb3V0KHIsMTAwKX19cigpfSgpLGM9ITAscG4uekluZGV4ZXM9e2JhY2tkcm9wOjkwMCxtb2RhbDo5NTAsY2xvc2U6OTkwfTt2YXIgdT1mdW5jdGlvbihuKXtlLmxvZyhcIkpBTlJBSU46IG9uTG9naW5cIiksd2luZG93LmphbnJhaW4uY2FwdHVyZS51aS5tb2RhbC5jbG9zZSgpLGgoKX07XyhcIm9uQ2FwdHVyZUxvZ2luU3VjY2Vzc1wiLHUpLF8oXCJvbkNhcHR1cmVSZWdpc3RyYXRpb25TdWNjZXNzXCIsdSl9fSxpc1VzZXJWYWxpZDpzLGdldFRva2VuOmEsZ2V0TmFtZTpmdW5jdGlvbigpe3JldHVybiBpfSxvbkxvZ2luU3VjY2VzczpmdW5jdGlvbihuKXtlLnNldEFjY2Vzc1Rva2VuTGlzdENvb2tpZSh7dmFsdWU6bi50b2tlbl9saXN0LGNvb2tpZV9kb21haW46bi5jb29raWVfZG9tYWlufSxuLnVzZXJfdG9rZW4pfSxsb2dpbjpmdW5jdGlvbihlLG4pe2lmKCFjKXRocm93XCJKYW5yYWluIGlzIG5vdCBjb25maWd1cmVkXCI7dmFyIHQ9MCxyPWZ1bmN0aW9uKCl7aWYobCl0cnl7d2luZG93LmphbnJhaW4uY2FwdHVyZS51aS5yZW5kZXJTY3JlZW4oZihuKSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZnVuY3Rpb24oZSxuKXt1W2VdPVtdLHVbZV0ucHVzaChuKX0oXCJvbkNhcHR1cmVTZXNzaW9uQ3JlYXRlZFwiLGUpfWNhdGNoKGUpe3JldHVybiB0Kyssdm9pZCB3aW5kb3cuc2V0VGltZW91dChyLDEwMCl9ZWxzZXtpZih0PjEwMCl0aHJvd1wiSmFucmFpbiBpcyBub3QgaW5pdGlhbGl6ZWRcIjt0Kyssd2luZG93LnNldFRpbWVvdXQociwxMDApfX07cigpfSxsb2dvdXQ6ZnVuY3Rpb24oZSl7aWYoIWMpdGhyb3dcIkphbnJhaW4gaXMgbm90IGNvbmZpZ3VyZWRcIjt2YXIgbj0wLHQ9MDtmdW5jdGlvbiByKCl7dD4xMDA/ZSgpOnYoKT8odCsrLHdpbmRvdy5zZXRUaW1lb3V0KHIsMTAwKSk6ZSgpfW0oKSxmdW5jdGlvbiB0KCl7aWYobCl7dmFyIGk9d2luZG93LmphbnJhaW47aS5jYXB0dXJlLnVpLm1vZGFsLmNsb3NlKCksaS5jYXB0dXJlLnVpLmVuZENhcHR1cmVTZXNzaW9uKCksby5maXJlQ2FsbGJhY2tzKFwibG9nb3V0XCIsbnVsbCx2b2lkIDAsITApLGUmJnIoKX1lbHNle2lmKG4+MTAwKXRocm93XCJKYW5yYWluIGlzIG5vdCBpbml0aWFsaXplZFwiO24rKyx3aW5kb3cuc2V0VGltZW91dCh0LDEwMCl9fSgpfSxpc0NvbmZpZ3VyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sZ2V0TG9naW5SZXF1aXJlZFNjcmVlbjpmLGFkZEV2ZW50SGFuZGxlcjpfLHJlZ2lzdGVyQ2FsbGJhY2s6ZnVuY3Rpb24oZSxuKXtvLmFkZEV2ZW50KGUpLG8ucmVnaXN0ZXJDYWxsYmFjayhlLChmdW5jdGlvbihlKXtuKGUpfSkpfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiamFucmFpblwiLHt1c2VWYWx1ZTpQZX0pLHBuLmphbnJhaW49cG4uY29udGFpbmVyLnJlc29sdmUoXCJqYW5yYWluXCIpO3ZhciBFZT17bmFtZTpcInNoYTFcIixoYXNoOmZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gdChlLG4pe3JldHVybiBlPDxufGU+Pj4zMi1ufWZ1bmN0aW9uIHIoZSl7dmFyIG4sdD1cIlwiO2ZvcihuPTc7bj49MDtuLS0pdCs9KGU+Pj40Km4mMTUpLnRvU3RyaW5nKDE2KTtyZXR1cm4gdH12YXIgbyxpLGE7bj1ufHwzMjt2YXIgcyxjLGwsdSxkLHAsZj1uZXcgQXJyYXkoODApLG09MTczMjU4NDE5MyxnPTQwMjMyMzM0MTcsdj0yNTYyMzgzMTAyLGg9MjcxNzMzODc4LHc9MzI4NTM3NzUyMCx5PShlPWZ1bmN0aW9uKGUpe2U9ZS5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcblwiKTtmb3IodmFyIG49XCJcIix0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciByPWUuY2hhckNvZGVBdCh0KTtyPDEyOD9uKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHIpOnI+MTI3JiZyPDIwNDg/KG4rPVN0cmluZy5mcm9tQ2hhckNvZGUocj4+NnwxOTIpLG4rPVN0cmluZy5mcm9tQ2hhckNvZGUoNjMmcnwxMjgpKToobis9U3RyaW5nLmZyb21DaGFyQ29kZShyPj4xMnwyMjQpLG4rPVN0cmluZy5mcm9tQ2hhckNvZGUocj4+NiY2M3wxMjgpLG4rPVN0cmluZy5mcm9tQ2hhckNvZGUoNjMmcnwxMjgpKX1yZXR1cm4gbn0oZSkpLmxlbmd0aCxiPW5ldyBBcnJheTtmb3IoaT0wO2k8eS0zO2krPTQpYT1lLmNoYXJDb2RlQXQoaSk8PDI0fGUuY2hhckNvZGVBdChpKzEpPDwxNnxlLmNoYXJDb2RlQXQoaSsyKTw8OHxlLmNoYXJDb2RlQXQoaSszKSxiLnB1c2goYSk7c3dpdGNoKHklNCl7Y2FzZSAwOmk9MjE0NzQ4MzY0ODticmVhaztjYXNlIDE6aT1lLmNoYXJDb2RlQXQoeS0xKTw8MjR8ODM4ODYwODticmVhaztjYXNlIDI6aT1lLmNoYXJDb2RlQXQoeS0yKTw8MjR8ZS5jaGFyQ29kZUF0KHktMSk8PDE2fDMyNzY4O2JyZWFrO2Nhc2UgMzppPWUuY2hhckNvZGVBdCh5LTMpPDwyNHxlLmNoYXJDb2RlQXQoeS0yKTw8MTZ8ZS5jaGFyQ29kZUF0KHktMSk8PDh8MTI4fWZvcihiLnB1c2goaSk7Yi5sZW5ndGglMTYhPTE0OyliLnB1c2goMCk7Zm9yKGIucHVzaCh5Pj4+MjkpLGIucHVzaCh5PDwzJjQyOTQ5NjcyOTUpLG89MDtvPGIubGVuZ3RoO28rPTE2KXtmb3IoaT0wO2k8MTY7aSsrKWZbaV09YltvK2ldO2ZvcihpPTE2O2k8PTc5O2krKylmW2ldPXQoZltpLTNdXmZbaS04XV5mW2ktMTRdXmZbaS0xNl0sMSk7Zm9yKHM9bSxjPWcsbD12LHU9aCxkPXcsaT0wO2k8PTE5O2krKylwPXQocyw1KSsoYyZsfH5jJnUpK2QrZltpXSsxNTE4NTAwMjQ5JjQyOTQ5NjcyOTUsZD11LHU9bCxsPXQoYywzMCksYz1zLHM9cDtmb3IoaT0yMDtpPD0zOTtpKyspcD10KHMsNSkrKGNebF51KStkK2ZbaV0rMTg1OTc3NTM5MyY0Mjk0OTY3Mjk1LGQ9dSx1PWwsbD10KGMsMzApLGM9cyxzPXA7Zm9yKGk9NDA7aTw9NTk7aSsrKXA9dChzLDUpKyhjJmx8YyZ1fGwmdSkrZCtmW2ldKzI0MDA5NTk3MDgmNDI5NDk2NzI5NSxkPXUsdT1sLGw9dChjLDMwKSxjPXMscz1wO2ZvcihpPTYwO2k8PTc5O2krKylwPXQocyw1KSsoY15sXnUpK2QrZltpXSszMzk1NDY5NzgyJjQyOTQ5NjcyOTUsZD11LHU9bCxsPXQoYywzMCksYz1zLHM9cDttPW0rcyY0Mjk0OTY3Mjk1LGc9ZytjJjQyOTQ5NjcyOTUsdj12K2wmNDI5NDk2NzI5NSxoPWgrdSY0Mjk0OTY3Mjk1LHc9dytkJjQyOTQ5NjcyOTV9cmV0dXJuKHA9cihtKStyKGcpK3IodikrcihoKStyKHcpKS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsbil9fTtwbi5zaGExPUVlLHBuLmNvbnRhaW5lci5yZWdpc3RlcihcInNoYTFcIix7dXNlVmFsdWU6RWV9KTt2YXIgVGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbil7dGhpcy5faXNBY3RpdmU9ITEsdGhpcy50YXJnZXRzPVtdLHRoaXMudGltZW91dD0yMDAsdGhpcy51dGlsPW4sdGhpcy5jYWxsYmFjaz1lfXJldHVybiBlLnByb3RvdHlwZS5fbXV0YXRpb25TZWFyY2g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMudGFyZ2V0cy5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgdD1lLl9nZXRTdGF0ZShuLmVsZW1lbnQpOyF0PT09bi5jdXJyZW50U3RhdGUmJihuLmN1cnJlbnRTdGF0ZT10LGUuY2FsbGJhY2soW3t0YXJnZXQ6bi5lbGVtZW50fV0pKX0pKSx0aGlzLl9pc0FjdGl2ZSYmc2V0VGltZW91dCh0aGlzLl9tdXRhdGlvblNlYXJjaC5iaW5kKHRoaXMpLHRoaXMudGltZW91dCl9LGUucHJvdG90eXBlLl9nZXRTdGF0ZT1mdW5jdGlvbihlKXt2YXIgbj1bXS5zbGljZS5jYWxsKGUuYXR0cmlidXRlcykucmVkdWNlKChmdW5jdGlvbihuLHQpe3JldHVybiBuW3QubmFtZV09ZS5nZXRBdHRyaWJ1dGUodC5uYW1lKSxufSkse30pO3JldHVybiBKU09OLnN0cmluZ2lmeShuKX0sZS5wcm90b3R5cGUub2JzZXJ2ZT1mdW5jdGlvbihlKXt0aGlzLnRhcmdldHMucHVzaCh7aWQ6dGhpcy51dGlsLnJhbmRvbVN0cmluZygpLGVsZW1lbnQ6ZSxjdXJyZW50U3RhdGU6dGhpcy5fZ2V0U3RhdGUoZSl9KSx0aGlzLl9pc0FjdGl2ZXx8KHRoaXMuX2lzQWN0aXZlPSEwLHRoaXMuX211dGF0aW9uU2VhcmNoKCkpfSxlLnByb3RvdHlwZS5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7dGhpcy5faXNBY3RpdmU9ITEsdGhpcy50YXJnZXRzPVtdfSxlfSgpLEFlPWZ1bmN0aW9uKCl7cG4uY29udGFpbmVyLnJlc29sdmUoXCJqcVV0aWxzXCIpO3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSxuPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk1vek11dGF0aW9uT2JzZXJ2ZXIsdD17YXR0cmlidXRlczohMH07cmV0dXJue25hbWU6XCJvYnNlcnZlclwiLGNyZWF0ZTpmdW5jdGlvbihyLG8pe3J8fGUuZXJyb3IoXCJlbGVtZW50IG11c3QgYmUgTk9ERVwiKTt2YXIgaT1uZXcobnx8VGUpKChmdW5jdGlvbihlKXt2YXIgbj1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFyZ2V0fSkpO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG8mJm8obil9KSxlKTtyZXR1cm4gaS5vYnNlcnZlKHIsdCksaX19fSgpO3BuLmNvbnRhaW5lci5yZWdpc3RlcihcIm9ic2VydmVyXCIse3VzZVZhbHVlOkFlfSkscG4ub2JzZXJ2ZXI9cG4uY29udGFpbmVyLnJlc29sdmUoXCJvYnNlcnZlclwiKTt2YXIgTWU9ZnVuY3Rpb24oKXt2YXIgZSxuLHQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJqcVV0aWxzXCIpLHI9cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpLG89cG4uY29udGFpbmVyLnJlc29sdmUoXCJwb3N0bWVzc2FnZVwiKSxpPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiZXZlbnRVdGlsc1wiKSxhPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwic2hhMVwiKSxzPXt9LGM9e30sbD1pLmNyZWF0ZUV2ZW50TWFuYWdlcihbXCJjbG9zZVwiXSksdT1cInRwLWNvbnRhaW5lci1pbm5lclwiLGQ9bmV3IE1hcCxwPVtdLGY9XCJmcm96ZW4tbW9iaWxlLWJvZHlcIixtPXtfaW5pdGlhbFNjcm9sbFBvc2l0aW9uOnt4OjAseTowfSxhcHBseUZpeDpmdW5jdGlvbigpe3ZhciBlPXdpbmRvdy52aXN1YWxWaWV3cG9ydD9NYXRoLm1heCh3aW5kb3cuc2Nyb2xsWSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLHdpbmRvdy52aXN1YWxWaWV3cG9ydC5wYWdlVG9wKTpNYXRoLm1heCh3aW5kb3cuc2Nyb2xsWSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSx0PXBuLmRvbnRTY3JvbGxUb3BNb2RhbD9lOjA7dGhpcy5zYXZlSW5pdGlhbFNjcm9sbCh3aW5kb3cuc2Nyb2xsWCxlKSxuJiYocG4uZG9udFNjcm9sbFRvcE1vZGFsPyhkb2N1bWVudC5ib2R5LnN0eWxlLnRvdWNoQWN0aW9uPVwibm9uZVwiLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS50b3VjaEFjdGlvbj1cIm5vbmVcIix0aGlzLmFkZEV2ZW50cyhcInNjcm9sbFwiKSx0aGlzLmFkZEV2ZW50cyhcInRvdWNobW92ZVwiKSk6KHYoKSxnKDAsMCkpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIGU9e292ZXJzY3JvbGxCZWhhdmlvcjpcImNvbnRhaW5cIixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOnQrXCJweFwiLGhlaWdodDpcIjEwMCVcIix3aWR0aDpcIjEwMCVcIixvdmVyZmxvd1g6XCJ1bnNldFwiLG92ZXJmbG93WTpcInNjcm9sbFwifTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtuLnN0eWxlW3RdPWVbdF19KSksbi5zY3JvbGxIZWlnaHQ+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCYmbi5jbGFzc0xpc3QuYWRkKFwidHAtbW9kYWxfX21hcmdpbi0xMDBcIil9KSw1MDApKX0sYWRkRXZlbnRzOmZ1bmN0aW9uKGUpe2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihlLHRoaXMuc2Nyb2xsUmV2ZXJ0LHtwYXNzaXZlOiExfSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlLHRoaXMuc2Nyb2xsUmV2ZXJ0LHtwYXNzaXZlOiExfSl9LHJlbW92ZUV2ZW50czpmdW5jdGlvbihlKXtkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0aGlzLnNjcm9sbFJldmVydCwhMSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXMuc2Nyb2xsUmV2ZXJ0LCExKX0scmVtb3ZlRml4OmZ1bmN0aW9uKCl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50cC1pZnJhbWUtd3JhcHBlci50cC1hY3RpdmVcIikubGVuZ3RofHwocG4uZG9udFNjcm9sbFRvcE1vZGFsPyhkb2N1bWVudC5ib2R5LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwidG91Y2gtYWN0aW9uXCIpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInRvdWNoLWFjdGlvblwiKSx0aGlzLnJlbW92ZUV2ZW50cyhcInNjcm9sbFwiKSx0aGlzLnJlbW92ZUV2ZW50cyhcInRvdWNobW92ZVwiKSk6KGgoKSx0aGlzLl9zY3JvbGxCYWNrKCkpKX0sX3Njcm9sbEJhY2s6ZnVuY3Rpb24oKXsodGhpcy5faW5pdGlhbFNjcm9sbFBvc2l0aW9uLnl8fHRoaXMuX2luaXRpYWxTY3JvbGxQb3NpdGlvbi54KSYmZyh0aGlzLl9pbml0aWFsU2Nyb2xsUG9zaXRpb24ueCx0aGlzLl9pbml0aWFsU2Nyb2xsUG9zaXRpb24ueSl9LHNjcm9sbFJldmVydDpmdW5jdGlvbihlKXt2YXIgbj1lfHx3aW5kb3cuZXZlbnQ7cmV0dXJuIG4ucHJldmVudERlZmF1bHQmJm4uY2FuY2VsYWJsZSYmbi5wcmV2ZW50RGVmYXVsdCgpLG0uX3Njcm9sbEJhY2soKSwhMX0sc2F2ZUluaXRpYWxTY3JvbGw6ZnVuY3Rpb24oZSxuKXt0aGlzLl9pbml0aWFsU2Nyb2xsUG9zaXRpb24ueD1lLHRoaXMuX2luaXRpYWxTY3JvbGxQb3NpdGlvbi55PW59LG1vZGFsT3BlbmVkOmZ1bmN0aW9uKCl7dGhpcy5hcHBseUZpeCgpfSxtb2RhbENsb3NlZDpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRml4KCl9fSxnPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gdChlKXtyZXR1cm4vXFx7XFxzKlxcW25hdGl2ZSBjb2RlXFxdXFxzKlxcfS8udGVzdChcIlwiK2UpfXRyeXtpZih0KHdpbmRvdy5zY3JvbGxUbykpcmV0dXJuIHZvaWQgd2luZG93LnNjcm9sbFRvKGUsbik7aWYodCh3aW5kb3cuc2Nyb2xsKSlyZXR1cm4gdm9pZCB3aW5kb3cuc2Nyb2xsKGUsbik7ZG9jdW1lbnQuYm9keSYmKGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wPTApfWNhdGNoKGUpe2NvbnNvbGUud2FybihcIkNhbiBub3QgcGVyZm9ybSBzY3JvbGw6IFwiK2UubWVzc2FnZSl9fSx2PWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoZil8fGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChmKX0saD1mdW5jdGlvbigpe2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKGYpJiZkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoZil9O3Qub24od2luZG93LFwicmVzaXplXCIsKGZ1bmN0aW9uKCl7dmFyIGU7aWYocSgpLHIuaXNBbmRyb2lkKCkpe3ZhciBuPW51bGw9PT0oZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRwLWlmcmFtZS13cmFwcGVyLnRwLWFjdGl2ZVwiKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2xvc2VzdChcIi50cC1tb2RhbFwiKTtuJiZuLnNjcm9sbEJ5KDAsMSl9fSkpLHIuaXNJT1MoKSYmdC5vbih3aW5kb3csXCJvcmllbnRhdGlvbmNoYW5nZVwiLChmdW5jdGlvbigpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHEoKX0pLDEwMCl9KSksby5zdWJzY3JpYmUoXCJjbG9zZVwiLChmdW5jdGlvbigpe20ubW9kYWxDbG9zZWQoKX0pKSxvLnN1YnNjcmliZShcInRvZ2dsZUlmcmFtZVNoYWRvd1wiLChmdW5jdGlvbihlKXtiKGUucGFyYW1zLmlzRW5hYmxlZCl9KSksby5zdWJzY3JpYmUoXCJ0b2dnbGVMb2FkaW5nQ29udGFpbmVyXCIsKGZ1bmN0aW9uKGUpe2lmKGUucGFyYW1zLmlzRW5hYmxlZClyZXR1cm4gSigpO0coKX0pKTt2YXIgdyx5LGI9ZnVuY3Rpb24oZSl7dmFyIG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cC1pZnJhbWUtd3JhcHBlclwiKTtpZihuKXJldHVybiBlP24uY2xhc3NMaXN0LmNvbnRhaW5zKFwibm8tc2hhZG93XCIpJiZuLmNsYXNzTGlzdC5yZW1vdmUoXCJuby1zaGFkb3dcIik6dm9pZCBuLmNsYXNzTGlzdC5hZGQoXCJuby1zaGFkb3dcIil9LGs9ZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe28uc2VuZChcImNoZWNrUHJvY2Nlc3Nlc0ZvckNsb3NlXCIse30sZS5pZnJhbWVJZCl9KGUpLFwicG9wdXBcIj09PWUuY29uZmlnLmRpc3BsYXlNb2RlP2UuY29udGFpbmVyLmNsb3NlKCk6ZnVuY3Rpb24oZSl7aWYoci5kZWJ1ZyhcIlJlbW92aW5nIGlmcmFtZVwiLGUpLGUuZWxlbWVudCYmKHQuaGlkZShlLmVsZW1lbnQpLFwiaW5saW5lXCI9PT1lLmNvbmZpZy5kaXNwbGF5TW9kZSkpe3ZhciBuPWUuZWxlbWVudC5wYXJlbnRFbGVtZW50O24mJnQuaGlkZShuKX1lLnJlc2l6ZU9ic2VydmVyJiZlLnJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKSxcIm1vZGFsXCIhPT1lLmNvbmZpZy5kaXNwbGF5TW9kZSYmXCJpbmxpbmVcIiE9PWUuY29uZmlnLmRpc3BsYXlNb2RlfHwoZS53YWl0RmluaXNoUHJvY2Vzc2VzPSEwKX0oZSl9LF89ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gcyl7dmFyIG49c1tlXTtpZihcIm1vZGFsXCI9PT1uLmNvbmZpZy5kaXNwbGF5TW9kZSYmIW4ud2FpdEZpbmlzaFByb2Nlc3NlcyYmIW4uY29uZmlnLmlzUHJlbG9hZClyZXR1cm4hMH1yZXR1cm4hMX0sQz1mdW5jdGlvbihlKXtyZXR1cm4gc1tlXX0sST1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxuLHQpe3RoaXMuJD1lLHRoaXMuX29wZXJhdGlvbldpdGhDb250YWluZXI9dCx0aGlzLnV0aWw9bix0aGlzLl9pbml0TW9kYWxDb250YWluZXIoKSx0aGlzLmlPU0JvdHRvbVRvb2xiYXJIZWlnaHQ9OTB9cmV0dXJuIGUucHJvdG90eXBlLl9pbml0TW9kYWxDb250YWluZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmNvbnRhaW5lcnx8KHRoaXMuY29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5lbGVtZW50PXRoaXMuY29udGFpbmVyLHRoaXMuJC5hZGRDbGFzcyhcInRwLW1vZGFsXCIsdGhpcy5jb250YWluZXIpLHRoaXMuY2xvc2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSx0aGlzLiQuc2V0QXR0cihcInR5cGVcIixcImJ1dHRvblwiLHRoaXMuY2xvc2UpLHRoaXMuJC5zZXRBdHRyKFwiYXJpYS1sYWJlbFwiLFwiQ2xvc2VcIix0aGlzLmNsb3NlKSx0aGlzLiQuYWRkQ2xhc3MoXCJ0cC1jbG9zZVwiLHRoaXMuY2xvc2UpLHRoaXMuaWZyYW1lV3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuJC5hZGRDbGFzcyhcInRwLWlmcmFtZS13cmFwcGVyXCIsdGhpcy5pZnJhbWVXcmFwcGVyKSx0aGlzLiQuYXBwZW5kKHRoaXMuaWZyYW1lV3JhcHBlcix0aGlzLmNsb3NlKSx0aGlzLmNvbnRhaW5lci5zdHlsZS56SW5kZXg9cG4uekluZGV4ZXMubW9kYWwrXCJcIix0aGlzLmNsb3NlLnN0eWxlLnpJbmRleD1wbi56SW5kZXhlcy5jbG9zZStcIlwiLHRoaXMuJC5vbih0aGlzLmNsb3NlLFwiY2xpY2tcIiwoZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNsb3NlQ2xpY2smJmUuY2xvc2VDbGljaygpfSkpLHRoaXMudXRpbC5pc0lPUygpJiYhdGhpcy51dGlsLmlzRkJPckluc3RXZWJWaWV3KCkmJih0aGlzLmlmcmFtZVdyYXBwZXIuc3R5bGUubWFyZ2luQm90dG9tPXRoaXMuaU9TQm90dG9tVG9vbGJhckhlaWdodCtcInB4XCIpLHRoaXMuJC5hcHBlbmQodGhpcy5jb250YWluZXIsdGhpcy5pZnJhbWVXcmFwcGVyKSx0aGlzLl9vcGVyYXRpb25XaXRoQ29udGFpbmVyKFwiYm9keVwiLChmdW5jdGlvbihuKXtlLiQuYXBwZW5kKG4sZS5jb250YWluZXIpfSkpKSx0aGlzLmNvbnRhaW5lcn0sZS5wcm90b3R5cGUuZ2V0Q29udGFpbmVyPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMuX2luaXRNb2RhbENvbnRhaW5lcigpLHRoaXMuY2xvc2VDbGljaz1uLHZvaWQgMD09PWUmJihlPSEwKSxlP3RoaXMuc2hvd0Nsb3NlQnV0dG9uKCk6dGhpcy5oaWRlQ2xvc2VCdXR0b24oKSx0aGlzLmlmcmFtZVdyYXBwZXJ9LGUucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oZSl7dGhpcy5faW5pdE1vZGFsQ29udGFpbmVyKCksdm9pZCAwPT09ZSYmKGU9ITApLGU/dGhpcy5zaG93Q2xvc2VCdXR0b24oKTp0aGlzLmhpZGVDbG9zZUJ1dHRvbigpLHRoaXMuJC5hZGRDbGFzcyhcInRwLWFjdGl2ZVwiLHRoaXMuY29udGFpbmVyKX0sZS5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuX2luaXRNb2RhbENvbnRhaW5lcigpLHRoaXMuJC5yZW1vdmVDbGFzcyhcInRwLWFjdGl2ZVwiLHRoaXMuY29udGFpbmVyKX0sZS5wcm90b3R5cGUuc2hvd0Nsb3NlQnV0dG9uPWZ1bmN0aW9uKCl7dGhpcy5faW5pdE1vZGFsQ29udGFpbmVyKCksdGhpcy4kLmFkZENsYXNzKFwidHAtYWN0aXZlXCIsdGhpcy5jbG9zZSl9LGUucHJvdG90eXBlLmhpZGVDbG9zZUJ1dHRvbj1mdW5jdGlvbigpe3RoaXMuX2luaXRNb2RhbENvbnRhaW5lcigpLHRoaXMuJC5yZW1vdmVDbGFzcyhcInRwLWFjdGl2ZVwiLHRoaXMuY2xvc2UpfSxlfSgpLFM9ZnVuY3Rpb24oZSxuLHQpe2Zvcih2YXIgbyBpbiByLmRlYnVnKFwiU2VhcmNoIGNvbnRhaW5lciB0byBjbG9zZVwiLGUsbix0KSxzKXt2YXIgaT1zW29dO2UmJm8hPT1lfHwodCYmXCJpbmxpbmVcIj09PWkuY29uZmlnLmRpc3BsYXlNb2RlfHx0JiZpLmNvbmZpZy5pc1ByZWxvYWR8fChrKGkpLFwibW9kYWxcIj09PWkuY29uZmlnLmRpc3BsYXlNb2RlJiZ4KGkpKSl9bC5maXJlQ2FsbGJhY2tzKFwiY2xvc2VcIixudWxsLGUsITApfSx4PWZ1bmN0aW9uKGUpe3ZhciByPXAuc2hpZnQoKTt3JiYhciYmdC5yZW1vdmVDbGFzcyhcInRwLWFjdGl2ZVwiLHcpLGUuaWZyYW1lUGFyYW1zLnNob3duPSExLHQucmVtb3ZlQ2xhc3MoXCJ0cC1hY3RpdmVcIixlLmNvbnRhaW5lcikscj8odC5oaWRlKG4pLG49cix0LnNob3cobikpOihQKCksVCgpKX0sUD1mdW5jdGlvbigpe24mJihMKFwiYm9keVwiLChmdW5jdGlvbihlKXt0LmFkZENsYXNzKFwidHAtbW9kYWwtY2xvc2VcIixlKSx0LnJlbW92ZUNsYXNzKFwidHAtbW9kYWwtb3BlblwiLGUpLGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYm9keS1maXhlZFwiKSYmdC5yZW1vdmVDbGFzcyhcImJvZHktZml4ZWRcIixlKX0pKSx0LmhpZGUobikpfSxFPWZ1bmN0aW9uKGUsbyxpKXtpZihmdW5jdGlvbigpe2lmKHcpcmV0dXJuIHc7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmFkZENsYXNzKFwidHAtYmFja2Ryb3BcIixlKSxlLnN0eWxlLnpJbmRleD1wbi56SW5kZXhlcy5iYWNrZHJvcCtcIlwiLEwoXCJib2R5XCIsKGZ1bmN0aW9uKG4pe3QuYXBwZW5kKG4sZSl9KSksdz1lfSgpLHQudmlzaWJsZSh3KSl7dmFyIGE9dC5xYShcIi50cC1tb2RhbFwiKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gdC52aXNpYmxlKGUpfSkpO28mJiFpPyhhJiYodC5oaWRlKGEpLHAudW5zaGlmdChhKSksZSYmdC5zaG93KGUpKTpvJiYoYT8oZSYmcC5wdXNoKGUpLG49YSk6ZSYmdC5zaG93KGUpKX1lbHNlIGUmJmZ1bmN0aW9uKGUpe3QudmlzaWJsZShlKXx8KEwoXCJib2R5XCIsKGZ1bmN0aW9uKGUpe3QucmVtb3ZlQ2xhc3MoXCJ0cC1tb2RhbC1jbG9zZVwiLGUpLHQuYWRkQ2xhc3MoXCJ0cC1tb2RhbC1vcGVuXCIsZSl9KSksdC5zaG93KGUpLChyLmlzSXBob25lKCl8fHIuaXNTYWZhcmlPcklPc1VpV2ViVmlldygpfHxyLmlzQW5kcm9pZCgpKSYmbS5tb2RhbE9wZW5lZCgpKX0oZSksdC5zaG93KHcpLHk9d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5hZGRDbGFzcyhcInRwLWFjdGl2ZVwiLHcpfSksNTApfSxUPWZ1bmN0aW9uKCl7dyYmKHQucmVtb3ZlQ2xhc3MoXCJ0cC1hY3RpdmVcIix3KSx0LmhpZGUodyksY2xlYXJUaW1lb3V0KHkpKSxtLm1vZGFsQ2xvc2VkKCl9LEE9ZnVuY3Rpb24oZSl7dyYmKHcuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiKTt2YXIgbj10LnF1ZXJ5RWwoXCIudHAtY2xvc2VcIixlKTtuJiZ0LnJlbW92ZUNsYXNzKFwidHAtc3F1YXJlXCIsbil9LE09ZnVuY3Rpb24oZSxuKXtpZihlKXt6KGUuZWxlbWVudCxuKTt2YXIgcj1PYmplY3QuYXNzaWduKHt9LG4se2FuaW1hdGU6ITF9KTtzd2l0Y2goZS5jb25maWcuZGlzcGxheU1vZGUpe2Nhc2VcIm1vZGFsXCI6eihlLmNvbnRhaW5lcixyKSxMKFwiYm9keVwiLChmdW5jdGlvbihlKXt0LmFkZENsYXNzKFwidHAtbW9kYWwtcmVzaXppbmdcIixlKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QucmVtb3ZlQ2xhc3MoXCJ0cC1tb2RhbC1yZXNpemluZ1wiLGUpfSksNTApfSkpO2JyZWFrO2Nhc2VcImlubGluZVwiOnZhciBvPXQucXVlcnlFbChcIi50cC1jb250YWluZXItaW5uZXJcIixlLmNvbnRhaW5lcik7byYmeihvLG4pfX19LE89ZnVuY3Rpb24oZSxyLG8pe3ZhciBpPWUuY29udGFpbmVyLGE9aS5wYXJlbnRFbGVtZW50O2EmJmEuY2xhc3NMaXN0LmNvbnRhaW5zKFwidHAtbW9kYWxcIik/bj1hOmE9bixlLmlmcmFtZVBhcmFtcz1lLmlmcmFtZVBhcmFtc3x8e30sZS5pZnJhbWVQYXJhbXMuc2hvd258fChlLmlmcmFtZVBhcmFtcy5zaG93bj0hMCxFKGEscixvKSxvfHwoaS5jbGFzc0xpc3QuY29udGFpbnMoXCJ0cC1hY3RpdmVcIil8fHQuYWRkQ2xhc3MoXCJ0cC1hY3RpdmVcIixpKSxBKGkpKSl9LFI9e30sTD1mdW5jdGlvbihlLG4pe3ZhciByPXQucXVlcnlFbChlKTtSW2VdfHwoUltlXT0wKSxyPyhkZWxldGUgUltlXSxuKHIpKTpSW2VdPDEwMCYmKFJbZV0rPTEsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtMKGUsbil9KSw1MCkpfSxOPWZ1bmN0aW9uKGUsbyl7aWYodm9pZCAwPT09ZS5zaG93Q2xvc2VCdXR0b24mJihlLnNob3dDbG9zZUJ1dHRvbj0hMCksZS5jb250YWluZXIpcmV0dXJuIGUuY29udGFpbmVyO3ZhciBpPW5ldyBJKHQscixMKTtyZXR1cm4gZS5pc1ByZWxvYWR8fChuPWkuZWxlbWVudCksaS5nZXRDb250YWluZXIoZS5zaG93Q2xvc2VCdXR0b24sbyl9LFU9ZnVuY3Rpb24oZSl7dmFyIG49e2NvbnRhaW5lcjpudWxsLGNvbnRhaW5lclJlYWR5OiExfTtpZighZS5pZnJhbWVQYXJhbXMuY29udGFpbmVyU2VsZWN0b3IpcmV0dXJuIHIubG9nKFwiSW5saW5lIG9mZmVyIG11c3QgaGF2ZSBhIHZhbGlkIGNvbnRhaW5lclNlbGVjdG9yXCIpLG47aWYobi5jb250YWluZXI9ZS5zaW5nbGVDb250YWluZXJ8fHQucXVlcnlFbChlLmlmcmFtZVBhcmFtcy5jb250YWluZXJTZWxlY3RvciksIW4uY29udGFpbmVyKXJldHVybiByLmxvZyhcIkludmFsaWQgY29udGFpbmVyU2VsZWN0b3JcIiksbjt2YXIgbz1lLmNvbmZpZyxpPVwib2JqZWN0XCI9PXR5cGVvZiBvJiZudWxsIT09bztyZXR1cm4gdC5lbXB0eShuLmNvbnRhaW5lciksaT8hMD09ISFvLnByZXZpZXd8fChlLmlmcmFtZVBhcmFtcy53aWR0aD10LmdldFdpZHRoKG4uY29udGFpbmVyKSk6ZS5pZnJhbWVQYXJhbXMud2lkdGg9ZS5pZnJhbWVQYXJhbXMud2lkdGh8fHQuZ2V0V2lkdGgobi5jb250YWluZXIpLG4uY29udGFpbmVyUmVhZHk9ITAsbn0saj1mdW5jdGlvbihlKXt2YXIgbj10LndpblNpemUoKSxvPWUud2lkdGg/ZS53aWR0aDpuLndpZHRoLGk9ZS5oZWlnaHQ/ZS5oZWlnaHQ6bi5oZWlnaHQsYT1yLmNlbnRlclNjcmVlbihvLGkpO3JldHVybnt3aWR0aDpvLGhlaWdodDppLHRvcDphLnRvcCxsZWZ0OmEubGVmdH19LEQ9ZnVuY3Rpb24oZSxuKXt2YXIgdD1qKGUpLG89d2luZG93Lm9wZW4obixyLnJhbmRvbVN0cmluZygxNiksXCJzY3JvbGxiYXJzPXllcyxsb2NhdGlvbj15ZXMsc3RhdHVzPTAsdG9vbGJhcj0wLHJlc2l6YWJsZT0xLCB3aWR0aD1cIit0LndpZHRoK1wiLCBoZWlnaHQ9XCIrdC5oZWlnaHQrXCIsIHRvcD1cIit0LnRvcCtcIiwgbGVmdD1cIit0LmxlZnQpO3JldHVybiB3aW5kb3cuZm9jdXMmJm8mJm8uZm9jdXMoKSxvfSxGPTEsQj1mdW5jdGlvbihlLG4sbyl7dmFyIGk9XCJpZnJhbWUtXCIrRisrK1wiLVwiK3IucmFuZG9tU3RyaW5nKCk7bi5pZnJhbWVJZCYmKGk9bi5pZnJhbWVJZCk7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSxzPXtpZDppLG5hbWU6aSx0aXRsZTppLHNjcm9sbGluZzpcIm5vXCIsYWxsb3d0cmFuc3BhcmVuY3k6XCJ0cnVlXCIsc3JjOm8sYWxsb3c6XCJwYXltZW50XCJ9O09iamVjdC5rZXlzKHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3Quc2V0QXR0cihlLHNbZV0sYSl9KSk7dmFyIGM9e292ZXJmbG93OlwiaGlkZGVuXCIsYmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIixib3JkZXI6XCIwXCIsd2lkdGg6XCJpbmxpbmVcIj09PWUuZGlzcGxheU1vZGU/bi53aWR0aCtcInB4XCI6XCIwcHhcIixoZWlnaHQ6XCIwcHhcIn07T2JqZWN0LmtleXMoYykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5zdHlsZVtlXT1jW2VdfSkpO3RyeXt0LnNldEF0dHIoXCJmcmFtZUJvcmRlclwiLFwiMFwiLGEpfWNhdGNoKGUpe3IubG9nKGUpfXJldHVybiBhfSxWPWZ1bmN0aW9uKGUsbil7dmFyIHI9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7dC5lbXB0eShlKX0pLDE1MCk7dC5yZWFkeSgoZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHIpLHQuYXBwZW5kKGUsbil9KSl9LHE9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gcyl7dmFyIG49c1tlXTtpZighbi5jb25maWcucHJldmlldyYmXCJpbmxpbmVcIj09PW4uY29uZmlnLmRpc3BsYXlNb2RlJiZuLmNvbnRhaW5lciYmTShuLHt3aWR0aDp0LmdldFdpZHRoKG4uY29udGFpbmVyKX0pLFwibW9kYWxcIj09PW4uY29uZmlnLmRpc3BsYXlNb2RlJiZuLmNvbnRhaW5lcil7dmFyIHI9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKTtvLnNlbmQoXCJSRVNJWkVfTU9EQUxfQ0hFQ0tPVVRcIix7aWZyYW1lOm4sd2lkdGg6cn0sbi5pZnJhbWVJZCl9fX0sej1mdW5jdGlvbihlLG4pe2UmJih2b2lkIDAhPT1uLndpZHRoJiYoZS5zdHlsZS53aWR0aD1uLndpZHRoK1wicHhcIiwoMD09PW4ud2lkdGgmJiFlLmNsYXNzTGlzdC5jb250YWlucyhcIm5vLXdpZHRoXCIpfHwwIT09bi53aWR0aCYmZS5jbGFzc0xpc3QuY29udGFpbnMoXCJuby13aWR0aFwiKSkmJnQudG9nZ2xlQ2xhc3MoXCJuby13aWR0aFwiLGUpKSx2b2lkIDAhPT1uLmhlaWdodCYmKG4uYW5pbWF0ZSxlLnN0eWxlLmhlaWdodD1uLmhlaWdodCtcInB4XCIsKDA9PT1uLmhlaWdodCYmIWUuY2xhc3NMaXN0LmNvbnRhaW5zKFwibm8taGVpZ2h0XCIpfHwwIT09bi5oZWlnaHQmJmUuY2xhc3NMaXN0LmNvbnRhaW5zKFwibm8taGVpZ2h0XCIpKSYmdC50b2dnbGVDbGFzcyhcIm5vLWhlaWdodFwiLGUpKSl9LEg9ZnVuY3Rpb24oZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gbi5pbm5lckhUTUw9ZS50cmltKCksbi5maXJzdENoaWxkfSxXPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1cIlwiKSwnPGRpdiBjbGFzcz1cInRwLXBsZWFzZS13YWl0IHRwLWFjdGl2ZSB0cC1vdmVybGFwICcrZSsnXCI+PGRpdiBjbGFzcz1cInRwLWljb24gdHAtY2VudGVyZWRcIj48ZGl2IGNsYXNzPVwicG4tc3Bpbm5lclwiPjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pid9LEo9ZnVuY3Rpb24oKXtlfHwoZT1IKFcoKSkpJiZkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpfSxHPWZ1bmN0aW9uKCl7ZSYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZSksZT1udWxsKX07ZnVuY3Rpb24gUShlKXtpZihlJiZlLmNvbnRhaW5lcil7IWZ1bmN0aW9uKGUpe2lmKGUmJihudWxsPT1lP3ZvaWQgMDplLmNvbnRhaW5lcikmJiFkLmhhcyhlLmlmcmFtZUlkKSl7dmFyIG49SChXKFwidHAtbG9jYWwtb3ZlcmxhcFwiKSk7biYmKGUuY29udGFpbmVyLmFwcGVuZENoaWxkKG4pLGQuc2V0KGUuaWZyYW1lSWQsbikpfX0oZSk7ZS5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoZnVuY3Rpb24oKXshZnVuY3Rpb24oZSl7aWYoZSYmKG51bGw9PWU/dm9pZCAwOmUuY29udGFpbmVyKSYmZC5oYXMoZS5pZnJhbWVJZCkpe3ZhciBuPWQuZ2V0KGUuaWZyYW1lSWQpO24mJihlLmNvbnRhaW5lci5yZW1vdmVDaGlsZChuKSxkLmRlbGV0ZShlLmlmcmFtZUlkKSl9fShlKX0pLHtvbmNlOiEwLGNhcHR1cmU6ITB9KX19ZnVuY3Rpb24gWChlKXtlJiZlLmVsZW1lbnQmJihmdW5jdGlvbihlKXt2YXIgbjtpZighZSlyZXR1cm4hMTtyZXR1cm4hIShudWxsPT09KG49bnVsbD09ZT92b2lkIDA6ZS5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKXx8dm9pZCAwPT09bj92b2lkIDA6bi53aWR0aCl9KGUpJiZRKGUpLGUuZWxlbWVudC5zcmM9ZS5lbGVtZW50LnNyYyl9ZnVuY3Rpb24gJCgpe2Zvcih2YXIgZSBpbiBzKXt2YXIgbj1zW2VdO24mJlgobil9fXJldHVybntuYW1lOlwiY29udGFpbmVyVXRpbHNcIixmYWtlT2ZmZXJJZDpcImZha2VPZmZlcklkXCIsY3JlYXRlQ29udGFpbmVyOmZ1bmN0aW9uKGUpe3ZhciBuLGksZCxwPSEwLGY9ZS5pZnJhbWVQYXJhbXM7aWYoXCJpbmxpbmVcIj09PWYuZGlzcGxheU1vZGV8fGYud2lkdGh8fChmLndpZHRoPXdpbmRvdy5pbm5lcldpZHRoKSxpPWUuY29uZmlnLmJ1aWxkUXVlcnlTdHJpbmdGbj9mdW5jdGlvbihuKXtyZXR1cm4gZS5jb25maWcuYnVpbGRRdWVyeVN0cmluZ0ZuKG4sdCl9OmZ1bmN0aW9uKGUpe3ZhciBuPXQucGFyYW0oZSk7cmV0dXJuIG4rXCImX3FoPVwiK2EuaGFzaChuLDEwKX0sXCJwb3B1cFwiPT09Zi5kaXNwbGF5TW9kZSl7Zi53aWR0aHx8KGYud2lkdGg9d2luZG93LmlubmVyV2lkdGgpO3ZhciBtPWUudXJsK1wiP1wiK2koZik7bj1EKGYsbSk7dHJ5e2Q9bi5kb2N1bWVudH1jYXRjaChlKXt0cnl7ZD1ufWNhdGNoKGUpe2Q9bnVsbCxjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gZ2V0IHBvcHVwIGVsZW1lbnRcIil9fWNbZi5pZnJhbWVJZF09e2NvbnRhaW5lcjpuLGludGVydmFsOnNldEludGVydmFsKChmdW5jdGlvbigpe2NbZi5pZnJhbWVJZF0uY29udGFpbmVyLmNsb3NlZCYmKGNsZWFySW50ZXJ2YWwoY1tmLmlmcmFtZUlkXS5pbnRlcnZhbCksY1tmLmlmcmFtZUlkXS5jb250YWluZXIuY2xvc2UoKSxlLm9uQ2xvc2VDYWxsYmFjayYmZS5vbkNsb3NlQ2FsbGJhY2soKSl9KSwxMDApfX1lbHNle2lmKFwiaW5saW5lXCI9PT1mLmRpc3BsYXlNb2RlKXt2b2lkIDAhPT1lLmNvbmZpZy5zaG93Q2xvc2VCdXR0b24mJmRlbGV0ZSBlLmNvbmZpZy5zaG93Q2xvc2VCdXR0b247dmFyIGc9VShlKTtuPWcuY29udGFpbmVyLHA9ISFnLmNvbnRhaW5lclJlYWR5fWVsc2Ugbj1OKGUuY29uZmlnLChmdW5jdGlvbigpe1MoZi5pZnJhbWVJZCxlLnBhcmVudCl9KSk7dmFyIHY9ZS51cmwrXCI/XCIraShmKTtkPUIoZS5jb25maWcsZix2KX1sLnJlZ2lzdGVyQ2FsbGJhY2soZSxmLmlmcmFtZUlkKTt2YXIgaD1zW2YuaWZyYW1lSWRdPXtpZnJhbWVJZDpmLmlmcmFtZUlkLGNvbmZpZzplLmNvbmZpZyxlbGVtZW50OmQsY29udGFpbmVyOm4saWZyYW1lUGFyYW1zOmYsY29udGFpbmVyUmVhZHk6cH07aWYoby5pbml0KHtwb3N0TWVzc2FnZVVybDplLnBvc3RNZXNzYWdlVXJsLHBhcmVudDplLnBhcmVudCxyZWNlaXZlOmUucmVjZWl2ZSxpZnJhbWU6aCxpZnJhbWVQYXJhbXM6Zn0pLHQub24oZG9jdW1lbnQsXCJrZXl1cFwiLChmdW5jdGlvbihlKXt9KSksXCJtb2RhbFwiPT09Zi5kaXNwbGF5TW9kZSl0Lm9uKHdpbmRvdyxcInJlc2l6ZVwiLChmdW5jdGlvbigpe0Eobil9KSksdC5hcHBlbmQobixkKTtlbHNlIGlmKFwiaW5saW5lXCI9PT1mLmRpc3BsYXlNb2RlKXtpZihzW2YuaWZyYW1lSWRdLmNvbnRhaW5lclJlYWR5KXt2YXIgdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuYWRkQ2xhc3ModSx3KSx0LmFwcGVuZCh3LGQpLGUuY29uZmlnLmlzUHJlbG9hZCYmdC5oaWRlKHcpLChcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlfHxcImxvYWRpbmdcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJiFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpJiZuPyh0LmVtcHR5KG4pLHQuYXBwZW5kKG4sdykpOlYobix3KX1lbHNle3ZhciB5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5zZXRBdHRyKFwiaWRcIixcInRlbXAtaW5saW5lLVwiK2YuaWZyYW1lSWQseSksdC5oaWRlKHkpLEwoXCJib2R5XCIsKGZ1bmN0aW9uKGUpe3QuYXBwZW5kKGUseSl9KSksdC5hcHBlbmQoeSxkKX1pZih3aW5kb3cuUmVzaXplT2JzZXJ2ZXIpe3ZhciBiPW5ldyBSZXNpemVPYnNlcnZlcigoZnVuY3Rpb24oZSl7dmFyIG49dC5nZXRXaWR0aChoLmNvbnRhaW5lcik7bj4wJiZNKGgse3dpZHRoOm59KX0pKTtiLm9ic2VydmUoaC5jb250YWluZXIpLGgucmVzaXplT2JzZXJ2ZXI9Yn19cmV0dXJuIHIuZGVidWcoXCJjcmVhdGluZyBpZnJhbWU6IFwiLGUpLGh9LHNob3dQcmVsb2FkZWRDb250YWluZXI6ZnVuY3Rpb24oZSl7aWYoXCJtb2RhbFwiPT09ZS5jb25maWcuZGlzcGxheU1vZGUpe2lmKF8oKSlyZXR1cm4gdm9pZCByLmxvZyhcIk1vZGFsIGlzIGFscmVhZHkgc2hvd247IG11c3QgYmUgb25lIG1vZGFsIHBlciB0aW1lXCIpOyFmdW5jdGlvbihlKXsobj1lLmNvbnRhaW5lci5jbG9zZXN0KFwiLnRwLW1vZGFsXCIpKT9uPW46ci5lcnJvcihcInRoZXJlIGlzIG5vIHN1Y2ggbW9kYWwgY29udGFpbmVyXCIpLE8oZSwhMCwhMCl9KGUpfWVsc2VcImlubGluZVwiPT09ZS5jb25maWcuZGlzcGxheU1vZGU/ZnVuY3Rpb24oZSl7dC5zaG93KGUuY29udGFpbmVyKTt2YXIgbj10LnF1ZXJ5RWwoXCIudHAtY29udGFpbmVyLWlubmVyXCIsZS5jb250YWluZXIpO24mJnQuc2hvdyhuKSxNKGUse3dpZHRoOnQuZ2V0V2lkdGgoZS5jb250YWluZXIpfSl9KGUpOnIubG9nKFwiVW5leHBlY3RlZCBkaXNwbGF5TW9kZSBvZiBwcmVsb2FkZWQgaWZyYW1lXFxuXCIpO3JldHVybiBlLmNvbmZpZy5pc1ByZWxvYWQ9ITEsZS5pZnJhbWVQYXJhbXMuaXNQcmVsb2FkPSExLHIuZGVidWcoXCJzaG93IHByZWxvYWRlZCBpZnJhbWU6IFwiLGUuY29uZmlnKSxlfSxyZWRpcmVjdENvbnRhaW5lcjpmdW5jdGlvbihlLG4pe3ZhciByPW4udXJsK1wiP1wiK3QucGFyYW0obi5pZnJhbWVQYXJhbXMpLGk9c1tlXTtpZihcInBvcHVwXCI9PT1pLmNvbmZpZy5kaXNwbGF5TW9kZSlpLmNvbnRhaW5lci5sb2NhdGlvbj1yO2Vsc2V7dmFyIGE9aS5lbGVtZW50OyhhLmNvbnRlbnRXaW5kb3d8fGEpLmxvY2F0aW9uPXJ9aS5jb25maWc9bi5jb25maWcsby5pbml0KHtwb3N0TWVzc2FnZVVybDpuLnBvc3RNZXNzYWdlVXJsLHJlY2VpdmU6bi5yZWNlaXZlLGlmcmFtZTpzW24uaWZyYW1lUGFyYW1zLmlmcmFtZUlkXSxpZnJhbWVQYXJhbXM6bi5pZnJhbWVQYXJhbXN9KX0saGFzTW9kYWxJZnJhbWU6XyxnZXRJZnJhbWU6QyxnZW5lcmF0ZUlmcmFtZTpCLGdlbmVyYXRlSWZyYW1lV3JhcHBlcjpmdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbj17b3ZlcmZsb3c6XCJoaWRkZW5cIixiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwiLGJvcmRlcjpcIjBcIix3aWR0aDpcIjBweFwiLGhlaWdodDpcIjBweFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixkaXNwbGF5OlwiYmxvY2tcIix0b3A6XCItMXB4XCIsbGVmdDpcIi0xcHhcIn07cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2Uuc3R5bGVbdF09blt0XX0pKSxlfSxnZXRQb3B1cFBvc2l0aW9uOmosZ2VuZXJhdGVQb3B1cDpELGluaXRJbmxpbmVDb250YWluZXI6VSxnZXRNb2RhbENvbnRhaW5lcjpOLGNlbnRlckJhY2tkcm9wOmZ1bmN0aW9uKGUpe2lmKHcpe3ZhciBuPXQud2luU2l6ZSgpO2Uub2Zmc2V0SGVpZ2h0Pm4uaGVpZ2h0P3cuc3R5bGUuaGVpZ2h0PW4uaGVpZ2h0K1wiXCI6dy5zdHlsZS5oZWlnaHQ9XCIxMDAlXCJ9fSxzaG93QmFja2Ryb3A6RSxoaWRlQmFja2Ryb3A6VCxjaGVja0JhY2tkcm9wQW5kQ29udGFpbmVyOk8scmVzaXplSWZyYW1lOk0sY2VudGVySXQ6QSxvcGVyYXRpb25XaXRoQ29udGFpbmVyOkwsY2xvc2VDb250YWluZXI6UyxjbG9zZU1vZGFsQ29udGFpbmVyOmZ1bmN0aW9uKGUsbil7UyhlLG4sITApfSxwdXJnZUlmcmFtZTpmdW5jdGlvbihlLG4pe3IuZGVidWcoXCJQdXJnaW5nIGlmcmFtZVwiLGUpO3ZhciBpPXNbZV07dHJ5e2lmKGkucmVzaXplT2JzZXJ2ZXImJmkucmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpLG8ucmVtb3ZlSWZyYW1lKGkuaWZyYW1lSWQpLHQucmVtb3ZlKGkuZWxlbWVudCksXCJpbmxpbmVcIj09PWkuY29uZmlnLmRpc3BsYXlNb2RlKXt2YXIgYT10LnF1ZXJ5RWwoXCIudHAtY29udGFpbmVyLWlubmVyXCIsaS5jb250YWluZXIpO2EmJnQucmVtb3ZlKGEpfX1jYXRjaChlKXt9ZGVsZXRlIHNbZV19LGhpZGVNb2RhbENvbnRhaW5lcjpmdW5jdGlvbihlKXt2YXIgbj1bXTtmb3IodmFyIHIgaW4gcyl7dmFyIG89c1tyXTtlJiZyIT09ZXx8XCJpbmxpbmVcIiE9PW8uY29uZmlnLmRpc3BsYXlNb2RlJiZcIm1vZGFsXCI9PT1vLmNvbmZpZy5kaXNwbGF5TW9kZSYmKHgobyksdC5oaWRlKG8uY29udGFpbmVyKSxuLnB1c2gocikpfXJldHVybiBufSxjbG9zZU1vZGFsOngsaGlkZUNsb3NlQnV0dG9uOmZ1bmN0aW9uKGUpe2lmKGUpe3ZhciBuPXQucXVlcnlFbChcIi50cC1jbG9zZVwiLGUpO24mJm4uY2xhc3NMaXN0LmNvbnRhaW5zKFwidHAtYWN0aXZlXCIpJiZ0LnJlbW92ZUNsYXNzKFwidHAtYWN0aXZlXCIsbil9fSxhY3RpdmF0ZUNvbnRhaW5lcnM6ZnVuY3Rpb24oZSl7aWYoZSYmZS5sZW5ndGgpZm9yKHZhciBuIGluIHMpZm9yKHZhciByPXNbbl0sbz0wO288ZS5sZW5ndGg7bysrKWlmKG49PT1lW29dKXt2YXIgaT1yLmNvbnRhaW5lcixhPWkucGFyZW50RWxlbWVudDthJiZFKGEpLHQuYWRkQ2xhc3MoXCJ0cC1hY3RpdmVcIixpKSx0LnNob3coaSl9fSxzaG93V2FpdFBhbmVsOkosaGlkZVdhaXRQYW5lbDpHLGFkZENsYXNzVG9Db250YWluZXI6ZnVuY3Rpb24oZSxuKXt0LmFkZENsYXNzKG4sZS5jb250YWluZXIpfSx0dXJuT25SVEw6ZnVuY3Rpb24oZSl7ZS5jb250YWluZXImJmUuY29udGFpbmVyLnNldEF0dHJpYnV0ZSYmZS5jb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGlyXCIsXCJydGxcIil9LHR1cm5PZmZSVEw6ZnVuY3Rpb24oZSl7ZS5jb250YWluZXImJmUuY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSYmZS5jb250YWluZXIucmVtb3ZlQXR0cmlidXRlKFwiZGlyXCIpfSxzZXRJZnJhbWVzUG9wc3RhdGVIYW5kbGVyczpmdW5jdGlvbigpeyhyLmlzSXBob25lKCl8fHIuaXNTYWZhcmlPcklPc1VpV2ViVmlldygpKSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCQpfSxfX3Byb3RlY3RlZF9fOntzZXRFbGVtZW50U2l6ZXM6eixjbG9zZUlubGluZUNvbnRhaW5lcnM6ZnVuY3Rpb24oZSl7QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlK1wiID4gLlwiK1widHAtY29udGFpbmVyLWlubmVyID4gaWZyYW1lXCIpKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbix0O2UuaWQmJihuPWUuaWQsKHQ9QyhuKSkuY29uZmlnLmNoaWxkJiZTKHQuY29uZmlnLmNoaWxkKSxTKG4pKX0pKX0sYWRkQ2hpbGRUb0lubGluZUlmcmFtZTpmdW5jdGlvbihlLG4pe2lmKGUpe3ZhciB0PUMobik7dCYmdC5jb25maWcmJih0LmNvbmZpZy5jaGlsZD1lLmlmcmFtZUlkKX19LGNsb3NlQW5kUmVtb3ZlSWZyYW1lOmt9LF9fcHJpdmF0ZV9fOnttb2JpbGVNb2RhbEZpeDptfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiY29udGFpbmVyVXRpbHNcIix7dXNlVmFsdWU6TWV9KSxwbi5jb250YWluZXJVdGlscz1wbi5jb250YWluZXIucmVzb2x2ZShcImNvbnRhaW5lclV0aWxzXCIpO3ZhciBPZT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT1wbi5jb250YWluZXIpO3ZhciBuPWUucmVzb2x2ZShcImFqYXhcIiksdD1lLnJlc29sdmUoXCJ1dGlsXCIpO2UucmVzb2x2ZShcInBvc3RtZXNzYWdlXCIpLnN1YnNjcmliZShcImlmcmFtZUxvZ1JlcXVlc3RcIiwoZnVuY3Rpb24oZSl7byhlLnVybCxlLnF1ZXJ5UGFyYW1zKX0pKTt2YXIgcj1mdW5jdGlvbihlKXt2YXIgbj1bXTtmb3IodmFyIHQgaW4gZSl7dmFyIHI9ZVt0XTtuLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHQpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChcIm9iamVjdFwiPT10eXBlb2Ygcj9KU09OLnN0cmluZ2lmeShyKTpyKSl9cmV0dXJuIG4uam9pbihcIiZcIil9LG89ZnVuY3Rpb24oZSxvKXt2YXIgaT1yKG8pO3QuaXNSZWxhdGl2ZVVybChlLnRyaW0oKSk/aS5sZW5ndGg+NmUzP24ucmVxdWVzdCh7dHlwZTpcIlBPU1RcIix1cmw6cG4uZ2V0VHJhY2tpbmdFbmRwb2ludCgpK2UsZGF0YTppfSk6bi5yZXF1ZXN0KHt1cmw6cG4uZ2V0VHJhY2tpbmdFbmRwb2ludCgpK2UrXCI/XCIraSxkYXRhVHlwZTpcImpzb25wXCJ9KTp0LmxvZyhcIlVybCBwYXJhbWV0ZXIgaXMgaW5jb3JyZWN0XCIpfSxpPWZ1bmN0aW9uKGUsbixyLGksYSl7ZT9yP24/byhcIi9hcGkvdjMvY29udmVyc2lvbi9sb2dFc3BNaWNyb0NvbnZlcnNpb25cIix7dHJhY2tpbmdfaWQ6ZSxlc3Bfd2lkZ2V0X2lkOm4sZXZlbnRfdHlwZTppLGV2ZW50X2dyb3VwX2lkOnIsY3VzdG9tX3BhcmFtczphfHxcIlwifSk6dC5sb2coXCJQYXJhbWV0ZXIgZXNwV2lkZ2V0SWQgaXMgcmVxdWlyZWQgdG8gbG9nIGVzcCBtaWNybyBjb252ZXJzaW9uLlwiKTp0LmxvZyhcIlBhcmFtZXRlciBldmVudEdyb3VwSWQgaXMgcmVxdWlyZWQgdG8gbG9nIGVzcCBtaWNybyBjb252ZXJzaW9uLlwiKTp0LmxvZyhcIlBhcmFtZXRlciB0cmFja2luZ0lkIGlzIHJlcXVpcmVkIHRvIGxvZyBlc3AgbWljcm8gY29udmVyc2lvbi5cIil9LGE9ZnVuY3Rpb24oZSxuLHIsaSxhLHMsYyxsKXt2YXIgdT17dHJhY2tpbmdfaWQ6ZSx0ZXJtX2lkOm4sdGVybV9uYW1lOnJ9O2U/bj9yPyh2b2lkIDAhPT1pJiYodS5zdGVwX251bWJlcj1pKSx2b2lkIDAhPT1hJiYodS5hbW91bnQ9YSksdm9pZCAwIT09cyYmKHUuY3VycmVuY3k9cyksdm9pZCAwIT09YyYmKHUuY3VzdG9tX3BhcmFtcz1jKSx2b2lkIDAhPT1sJiYodS5jb252ZXJzaW9uX2NhdGVnb3J5PWwpLG8oXCIvYXBpL3YzL2NvbnZlcnNpb24vbG9nXCIsdSkpOnQubG9nKFwiUGFyYW1ldGVyIHRlcm1OYW1lIGlzIHJlcXVpcmVkIHRvIGxvZyBjb252ZXJzaW9uLlwiKTp0LmxvZyhcIlBhcmFtZXRlciB0ZXJtSWQgaXMgcmVxdWlyZWQgdG8gbG9nIGNvbnZlcnNpb24uXCIpOnQubG9nKFwiUGFyYW1ldGVyIHRyYWNraW5nSWQgaXMgcmVxdWlyZWQgdG8gbG9nIGNvbnZlcnNpb24uXCIpfSxzPWZ1bmN0aW9uKGUsbyl7aWYoIShpPXdpbmRvdy5kb05vdFRyYWNrfHx3aW5kb3cubmF2aWdhdG9yLmRvTm90VHJhY2t8fHdpbmRvdy5uYXZpZ2F0b3IubXNEb05vdFRyYWNrKXx8XCIxXCIhPT1pLmNoYXJBdCgwKSYmXCJ5ZXNcIiE9PWkpe3ZhciBpLGEscz1yKG8pLGM9ZStcIj9cIitzO2lmKG5hdmlnYXRvci5zZW5kQmVhY29uKWlmKGMubGVuZ3RoPjZlMyl7dmFyIGw9bmV3IEJsb2IoW3NdLHt0eXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9KTtuYXZpZ2F0b3Iuc2VuZEJlYWNvbihlLGwpfWVsc2UgbmF2aWdhdG9yLnNlbmRCZWFjb24oYyk7ZWxzZShhPS0xIT09bmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgOVwiKT97ZGF0YVR5cGU6XCJqc29ucFwiLHVybDpjfTp7dHlwZTpcInBvc3RcIix1cmw6Yyxhc3luYzohMSx4aHJGaWVsZHM6e3dpdGhDcmVkZW50aWFsczohMH19KS5lcnJvcj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuXTt0LmRlYnVnLmFwcGx5KHQsX2UoW1wiQmVhY29uIHJlcXVlc3QgaGFzIGJlZW4gZmFpbGVkXCJdLGUsITEpKX0sbi5yZXF1ZXN0KGEpfX07cmV0dXJue25hbWU6XCJsb2dcIixsb2dNaWNyb0NvbnZlcnNpb246ZnVuY3Rpb24oZSxuLHIpe2U/bj9vKFwiL2FwaS92My9jb252ZXJzaW9uL2xvZ01pY3JvQ29udmVyc2lvblwiLHt0cmFja2luZ19pZDplLGV2ZW50X2dyb3VwX2lkOm4sY3VzdG9tX3BhcmFtczpyfHxcIlwifSk6dC5sb2coXCJQYXJhbWV0ZXIgZXZlbnRHcm91cElkIGlzIHJlcXVpcmVkIHRvIGxvZyBtaWNybyBjb252ZXJzaW9uLlwiKTp0LmxvZyhcIlBhcmFtZXRlciB0cmFja2luZ0lkIGlzIHJlcXVpcmVkIHRvIGxvZyBtaWNybyBjb252ZXJzaW9uLlwiKX0sbG9nQ29udmVyc2lvbjpmdW5jdGlvbihlLG4sdCxyLG8saSxzLGMpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXt2YXIgbD1lO2EobC50cmFja2luZ19pZCxsLnRlcm1faWQsbC50ZXJtX25hbWUsbC5zdGVwX251bWJlcixsLmFtb3VudCxsLmN1cnJlbmN5LGwuY3VzdG9tX3BhcmFtcyxsLmNvbnZlcnNpb25fY2F0ZWdvcnkpfWVsc2UgYShlLG4sdCxyLG8saSxzLGMpfSxsb2dGdW5uZWxTdGVwOmZ1bmN0aW9uKGUsbixyLGkpe2U/bj9yP28oXCIvYXBpL3YzL2NvbnZlcnNpb24vbG9nRnVubmVsU3RlcFwiLHt0cmFja2luZ19pZDplLHN0ZXBfbnVtYmVyOm4sc3RlcF9uYW1lOnIsY3VzdG9tX3BhcmFtczppfHxcIlwifSk6dC5sb2coXCJQYXJhbWV0ZXIgc3RlcE5hbWUgaXMgcmVxdWlyZWQgdG8gbG9nIGZ1bm5lbCBzdGVwLlwiKTp0LmxvZyhcIlBhcmFtZXRlciBzdGVwTnVtYmVyIGlzIHJlcXVpcmVkIHRvIGxvZyBmdW5uZWwgc3RlcC5cIik6dC5sb2coXCJQYXJhbWV0ZXIgdHJhY2tpbmdJZCBpcyByZXF1aXJlZCB0byBsb2cgZnVubmVsIHN0ZXAuXCIpfSxsb2dFc3BNaWNyb0NvbnZlcnNpb246aSxsb2dCZWFjb25SZXF1ZXN0OnMsX19wcm90ZWN0ZWRfXzp7bG9nQ3VzdG9tRm9ybUltcHJlc3Npb246ZnVuY3Rpb24oZSxuLHIpe258fHQubG9nKFwiUGFyYW1ldGVyIGZvcm1OYW1lIGlzIHJlcXVpcmVkIHRvIGxvZyBpbXByZXNzaW9uLlwiKSxyfHx0LmxvZyhcIlBhcmFtZXRlciBzb3VyY2UgaXMgcmVxdWlyZWQgdG8gbG9nIGltcHJlc3Npb24uXCIpO3ZhciBpPXthaWQ6cG4uYWlkLHBhZ2V2aWV3X2lkOnBuLm1haW4uZmV0Y2hQYWdlVmlld0lkKCksY3VzdG9tX2Zvcm1fbmFtZTpuLGN1c3RvbV9mb3JtX3NvdXJjZTpyfSxhPXBuLnVzZXIuZ2V0UHJvdmlkZXIoKS5nZXRUb2tlbigpO3JldHVybiBhJiYoaS51c2VyX3Rva2VuPWEpLGUmJihpLnRyYWNraW5nX2lkPWUpLG8oXCIvYXBpL3YzL2N1c3RvbWZvcm0vbG9nL2ltcHJlc3Npb25cIixpKX0sbG9nQ3VzdG9tRm9ybVN1Ym1pc3Npb246ZnVuY3Rpb24oZSxuLHIpe258fHQubG9nKFwiUGFyYW1ldGVyIGZvcm1OYW1lIGlzIHJlcXVpcmVkIHRvIGxvZyBzdWJtaXNzaW9uLlwiKSxyfHx0LmxvZyhcIlBhcmFtZXRlciBzb3VyY2UgaXMgcmVxdWlyZWQgdG8gbG9nIHN1Ym1pc3Npb24uXCIpO3ZhciBpPXthaWQ6cG4uYWlkLHBhZ2V2aWV3X2lkOnBuLm1haW4uZmV0Y2hQYWdlVmlld0lkKCksY3VzdG9tX2Zvcm1fbmFtZTpuLGN1c3RvbV9mb3JtX3NvdXJjZTpyfSxhPXBuLnVzZXIuZ2V0UHJvdmlkZXIoKS5nZXRUb2tlbigpO3JldHVybiBhJiYoaS51c2VyX3Rva2VuPWEpLGUmJihpLnRyYWNraW5nX2lkPWUpLG8oXCIvYXBpL3YzL2N1c3RvbWZvcm0vbG9nL3N1Ym1pc3Npb25cIixpKX0sbG9nRXNwTWljcm9Db252ZXJzaW9uOml9LF9fcHJpdmF0ZV9fOntkb0xvZzpvLGxvZ0JlYWNvblJlcXVlc3Q6c319fTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJsb2dcIix7dXNlVmFsdWU6T2UoKX0pLHBuLmxvZz1wbi5jb250YWluZXIucmVzb2x2ZShcImxvZ1wiKTt2YXIgUmU9ZnVuY3Rpb24oKXt2YXIgZT1wbi5jb250YWluZXIucmVzb2x2ZShcImxvZ1wiKSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiYXBpXCIpLHQ9e2NvbXBsZXRlSW5pdDowLGV4cEV4ZWM6MCxpZFNob3c6MCxteUFjY291bnRTaG93OjAsb2ZmZXJTaG93OjAsdGVtcGxhdGVTaG93OjAsdHBBY2NTaG93OjAsdHJhY2s6MH07c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyKCl9KSwxZTQpO3ZhciByPWZ1bmN0aW9uKHIpe2lmKE1hdGguZmxvb3IoNTAwKk1hdGgucmFuZG9tKCkpKzE9PT0yNTUpe3ZhciBvPXJ8fChwbi5mdWxsVFBWZXJzaW9uP1widHNfY1wiOlwidHNfc1wiKSxpPXtjb21wbGV0ZUluaXQ6dC5jb21wbGV0ZUluaXQsdHJhY2s6dC50cmFjayxleHBFeGVjOnQuZXhwRXhlYyxpZFNob3c6dC5pZFNob3csbXlBY2NvdW50U2hvdzp0Lm15QWNjb3VudFNob3csb2ZmZXJTaG93OnQub2ZmZXJTaG93LHRlbXBsYXRlU2hvdzp0LnRlbXBsYXRlU2hvdyx0cEFjY1Nob3c6dC50cEFjY1Nob3csYWlkOnBuLmFpZCx0eXBlOm99O2UubG9nQmVhY29uUmVxdWVzdChuLmdldEVuZHBvaW50KCkrXCIvaW50ZXJuYWwvYW5vbi90ZWxlbWV0cnkvdXgvaW5pdC90aW1lL2xvZ1wiLGkpfX07cmV0dXJue25hbWU6XCJsb2dnaW5nXCIsc2V0VGltZTpmdW5jdGlvbihlKXswPT09dFtlXSYmKHRbZV09TWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKS13aW5kb3cucG5Jbml0UGVyZm9ybWFuY2UpKX19fSgpO3BuLmNvbnRhaW5lci5yZWdpc3RlcihcImxvZ2dpbmdcIix7dXNlVmFsdWU6UmV9KSxwbi5sb2dnaW5nPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwibG9nZ2luZ1wiKTt2YXIgTGU7IWZ1bmN0aW9uKGUpe2UuQVVUTz1cIkFcIixlLk1BTlVBTD1cIk1cIn0oTGV8fChMZT17fSkpO3ZhciBOZT1mdW5jdGlvbigpe3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiYWpheFwiKSx0PXBuLmNvbnRhaW5lci5yZXNvbHZlKFwianFVdGlsc1wiKSxyPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiZXZlbnRVdGlsc1wiKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZW50cmllcyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7dmFyIHQ9blswXSxyPW5bMV07cmV0dXJuKHJ8fDA9PT1yKSYmKGVbdF09ciksZX0pLHt9KX0saT1yLmNyZWF0ZUV2ZW50TWFuYWdlcihbXSksYT1mdW5jdGlvbihyLGksYSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihzLGMpe3ZhciBsPWE/XCI/XCIrdC5wYXJhbShhKTpcIlwiLHU9cG4uZ2V0RXhwZXJpZW5jZUVuZHBvaW50KCExKStcIi9cIitwbi5haWQrcitsLGQ9byh7eGJjOmUuX19wcm90ZWN0ZWRfXy5nZXRDb29raWUoXCJ4YmNcIil8fHZvaWQgMCx0YmM6ZS5nZXRUYmNDb29raWUoKXx8dm9pZCAwfSkscD1vKHllKHllKHt9LGQpLGkpKTtpZighKHAuY2lkJiZwLml0ZW1JZCYmcC54YmMpKXt2YXIgZj1cImNyZWRpdDogRXJyb3I6IFJlcXVpcmVkIHBhcmFtcyBhcmUgYWJzZW50XCI7ZS5kZWJ1ZyhmKSxjKHtjb2RlOjAsbWVzc2FnZTpmfSl9bi5yZXF1ZXN0KHt0eXBlOlwicG9zdFwiLHVybDp1LGRhdGE6eWUoeWUoe30sZCksaSkseGhyRmllbGRzOnt3aXRoQ3JlZGVudGlhbHM6ITB9LGVycm9yOmZ1bmN0aW9uKG4pe3ZhciB0PVwiY3JlZGl0OiBFcnJvcjogUmVjZWl2ZWQgZXJyb3I6XCIrbi5zdGF0dXMrXCIgXCIrbi5yZXNwb25zZVRleHQ7ZS5kZWJ1Zyh0KSxjKHtjb2RlOm4uc3RhdHVzLG1lc3NhZ2U6bi5yZXNwb25zZVRleHR9KX0sc3VjY2VzczpmdW5jdGlvbihlKXtzKGUpfX0pfSkpfSxzPWZ1bmN0aW9uKGUsbix0LHIpe3ZhciBvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gaS5maXJlKHZvaWQgMCxlLCEwLG4pLG59fSxzPW8oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplLnN1Y2Nlc3MpLGM9byhcInN0cmluZ1wiPT10eXBlb2YgZT9lOmUuZmFpbHVyZSk7cmV0dXJuIGEobix0LHIpLnRoZW4ocykuY2F0Y2goYyl9O3JldHVybntyZWRlZW06ZnVuY3Rpb24oZSl7cmV0dXJuIHMoXCJtYW51YWxDcmVkaXRSZWRlZW1lZFwiLFwiL2V4ZWN1dGlvbi9jcmVkaXQvcmVkZWVtXCIsZSl9LGNoZWNrOmZ1bmN0aW9uKGUpe3JldHVybiBzKFwiY3JlZGl0Q2hlY2tlZFwiLFwiL2V4ZWN1dGlvbi9jcmVkaXQvY2hlY2tcIixlKX0scmVnaXN0ZXJDYWxsYmFjazpmdW5jdGlvbihlLG4pe2kuYWRkRXZlbnQoZSksaS5yZWdpc3RlckNhbGxiYWNrKGUsbil9fX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJjcmVkaXRcIix7dXNlVmFsdWU6TmV9KSxwbi5jcmVkaXQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJjcmVkaXRcIik7dmFyIFVlPWZ1bmN0aW9uKCl7dmFyIGUsbj1wbi5jb250YWluZXIucmVzb2x2ZShcInBvc3RtZXNzYWdlXCIpLHQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJjb250YWluZXJVdGlsc1wiKSxyPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSxvPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiZXZlbnRVdGlsc1wiKSxpPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwibG9nZ2luZ1wiKSxhPW8uY3JlYXRlRXZlbnRNYW5hZ2VyKFtcInJlc2l6ZVwiLFwibG9naW5TdWNjZXNzXCIsXCJsb2dvdXRcIl0pLHM9ZnVuY3Rpb24oKXtyZXR1cm4gcG4uZ2V0RW5kcG9pbnRSb290KCEwKStcIi9jaGVja291dC91c2VyL2xvZ2luU2hvd1wifTtmdW5jdGlvbiBjKG8pe3IuZGVidWcoXCJMb2dpbiBldmVudCByZWNlaXZlZFwiLG8uZXZlbnQsby5wYXJhbXMsbyk7dmFyIGk9IXQuZ2V0SWZyYW1lKG8uc2VuZGVyKS5jb25maWcucGFyZW50O3N3aXRjaChvLmV2ZW50KXtjYXNlXCJsb2FkZWRcIjplPSExO2JyZWFrO2Nhc2VcImNsb3NlXCI6dC5jbG9zZU1vZGFsQ29udGFpbmVyKCksYS5maXJlQ2FsbGJhY2tzKG8uZXZlbnQsby5wYXJhbXMsby5zZW5kZXIsaSk7YnJlYWs7Y2FzZVwiY2FuY2VsXCI6Y2FzZVwiZXJyb3JcIjpjYXNlXCJjdXN0b21FdmVudFwiOmEuZmlyZUNhbGxiYWNrcyhvLmV2ZW50LG8ucGFyYW1zLG8uc2VuZGVyLGkpO2JyZWFrO2Nhc2VcImxvZ2luU3VjY2Vzc1wiOiFmdW5jdGlvbihlLG4sbyxpKXt2YXIgcz10LmdldElmcmFtZShvKTtyLnNldEFjY2Vzc1Rva2VuTGlzdENvb2tpZSh7dmFsdWU6bi50b2tlbl9saXN0LGNvb2tpZV9kb21haW46bi5jb29raWVfZG9tYWlufSxuLnVzZXJfdG9rZW4pLHMuY29uZmlnLnVzZXJUb2tlbj1uLnVzZXJfdG9rZW4scyYmcy5jb25maWcmJnMuY29uZmlnLmxvZ2luU3VjY2VzcyYmcy5jb25maWcubG9naW5TdWNjZXNzKG4uZXZlbnQsbi5wYXJhbXMsbi5zZW5kZXIpO2EuZmlyZUNhbGxiYWNrcyhlLG4sbyxpKSxzJiZzLmNvbmZpZyYmcy5jb25maWcuY2xvc2VBZnRlclN1Y2Nlc3MmJnQuY2xvc2VNb2RhbENvbnRhaW5lcihvKTt2YXIgYz17cmVsb2FkQWZ0ZXJMb2dpbjohMCx1c2VyVG9rZW46bi51c2VyX3Rva2VuLHVzZXI6bi51c2VyfTt1KGMpfShvLmV2ZW50LG8ucGFyYW1zLG8uc2VuZGVyLGkpO2JyZWFrO2Nhc2VcImxvZ291dFN1Y2Nlc3NcIjohZnVuY3Rpb24oZSxuLHQsbyl7YS5maXJlQ2FsbGJhY2tzKFwibG9nb3V0XCIsbnVsbCx2b2lkIDAsITApLHIuc2V0QWNjZXNzVG9rZW5MaXN0Q29va2llKHt2YWx1ZTpuLnRva2VuX2xpc3QsY29va2llX2RvbWFpbjpuLmNvb2tpZV9kb21haW59LG4udXNlcl90b2tlbiwhMCl9KG8uZXZlbnQsby5wYXJhbXMsby5zZW5kZXIpO2JyZWFrO2Nhc2VcInJlYWR5VG9TdWJtaXRTdGF0c1wiOnZhciBzPXtwYWdlVmlld0lkOnBuLm1haW4uZmV0Y2hQYWdlVmlld0lkKCksdGJjOnIuZ2V0VGJjQ29va2llKCl9O24uc2VuZChcInN1Ym1pdFN0YXRzXCIscyxvLnNlbmRlcik7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdm9pZCByLmRlYnVnKFwiUmVjZWl2ZWQgaW52YWxpZCBldmVudCB0eXBlOiBcIitvLmV2ZW50KX19dmFyIGwsdT1mdW5jdGlvbihlKXtuLmJyb2FkY2FzdChcInJlbG9hZE9mZmVyXCIsZSl9O2Z1bmN0aW9uIGQoZSl7bCYmdC5jbG9zZU1vZGFsQ29udGFpbmVyKGwpO3ZhciBuPXt9O09iamVjdC5hc3NpZ24obix7Y2xvc2VBZnRlclN1Y2Nlc3M6ITB9LGUpLG4uZGlzcGxheU1vZGU9XCJwb3B1cFwiLG4ud2lkdGg9MzYwLG4uaGVpZ2h0PTY2MCxuLnN0YXRlPW4uc3RhdGU/bi5zdGF0ZTpcImxvZ2luXCI7dmFyIG8saT1mdW5jdGlvbihlKXt2YXIgbj17fTtyZXR1cm5bXCJkaXNwbGF5TW9kZVwiLFwiYWlkXCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJzdGF0ZVwiXS5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3RdJiYoblt0XT1lW3RdKX0pKSxufShuKTtpLmlmcmFtZUlkPXIucmFuZG9tU3RyaW5nKDE2KSxpLnVybD13aW5kb3cubG9jYXRpb24uaHJlZixpLmhvc3RfdXJsPXdpbmRvdy5sb2NhdGlvbi5ocmVmLGw9aS5pZnJhbWVJZCxmdW5jdGlvbihlKXtbXCJhaWRcIixcImdhQ2xpZW50SWRcIixcInRhZ3NcIixcImNvbnRlbnRTZWN0aW9uXCIsXCJjb250ZW50QXV0aG9yXCJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe3BuW25dJiYoZVtuXT1wbltuXSl9KSkscG4uY29udGVudENyZWF0ZWQmJihlLmNvbnRlbnRDcmVhdGVkPXBuLmNvbnRlbnRDcmVhdGVkKX0oaSksaS51c2VyX3Byb3ZpZGVyPVwidGlueXBhc3NfYWNjb3VudHNcIixlLnVzZXJUb2tlbiYmKGkudXNlcl90b2tlbj1lLnVzZXJUb2tlbiksci5nZXRDYW1wYWlnbnMoaSk7dmFyIHU9e3VybDpzKCksY29uZmlnOm4scG9zdE1lc3NhZ2VVcmw6cygpLHJlY2VpdmU6YyxpZnJhbWVQYXJhbXM6aX07cmV0dXJuIG4uaWZyYW1lSWQ/KHUuaWZyYW1lUGFyYW1zLmlmcmFtZUlkPW4uaWZyYW1lSWQsbz10LnJlZGlyZWN0Q29udGFpbmVyKG4uaWZyYW1lSWQsdSkpOm89dC5jcmVhdGVDb250YWluZXIodSksYS5yZWdpc3RlckNhbGxiYWNrKG4saS5pZnJhbWVJZCksb31yZXR1cm57bmFtZTpcInRpbnlwYXNzTG9naW5cIixzaG93OmZ1bmN0aW9uKG4pe2lmKGUpcmV0dXJuITE7ZT0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2U9ITF9KSwxZTQpLGQobil8fHIuZXJyb3IoXCJDb3VsZCBub3QgaW5pdGlhbGl6ZSBsb2dpbjsgY2hlY2sgY29uZmlndXJhdGlvblwiKSxpLnNldFRpbWUoXCJ0cEFjY1Nob3dcIil9LGNsb3NlOmZ1bmN0aW9uKCl7dC5jbG9zZU1vZGFsQ29udGFpbmVyKCl9LHNob3dCYWNrZHJvcDpmdW5jdGlvbigpe3Quc2hvd0JhY2tkcm9wKCl9LGhpZGVCYWNrZHJvcDpmdW5jdGlvbigpe3QuaGlkZUJhY2tkcm9wKCl9LGNlbnRlckJhY2tkcm9wOmZ1bmN0aW9uKGUpe3QuY2VudGVyQmFja2Ryb3AoZSl9LHJlZ2lzdGVyQ2FsbGJhY2s6ZnVuY3Rpb24oZSxuKXthLnJlZ2lzdGVyQ2FsbGJhY2soZSxuKX0sbGlzdGVuTG9naW46ZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2EucmVnaXN0ZXJDYWxsYmFjayhlLGUuaWZyYW1lSWQpO3ZhciB0PXtpZnJhbWVJZDplLmlmcmFtZUlkLGNvbmZpZzplLGlmcmFtZVBhcmFtczplfTtuLmluaXQoe3Bvc3RNZXNzYWdlVXJsOnMoKSxyZWNlaXZlOmMsaWZyYW1lOnQsaWZyYW1lUGFyYW1zOnt9fSl9KGUpfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwidGlueXBhc3NMb2dpblwiLHt1c2VWYWx1ZTpVZX0pLHBuLnRpbnlwYXNzTG9naW49cG4uY29udGFpbmVyLnJlc29sdmUoXCJ0aW55cGFzc0xvZ2luXCIpO3ZhciBqZT1mdW5jdGlvbigpe3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiYWpheFwiKSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwianFVdGlsc1wiKSx0PXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSxyPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidGlueXBhc3NMb2dpblwiKSxvPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiZXZlbnRVdGlsc1wiKS5jcmVhdGVFdmVudE1hbmFnZXIoW1wibG9nb3V0XCJdKSxpPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0VXNlclRva2VuQ29va2llKCl8fG51bGx9O3JldHVybntuYW1lOlwidGlueXBhc3NBY2NvdW50c1wiLGlzdjohMSxpc1VzZXJWYWxpZDpmdW5jdGlvbigpe3JldHVybiEhdC5nZXRVc2VyVG9rZW5Db29raWUoKX0sZ2V0VG9rZW46aSxnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuXCJ0aW55cGFzc19hY2NvdW50c1wifSxvbkxvZ2luU3VjY2VzczpmdW5jdGlvbihlKXt0LnNldEFjY2Vzc1Rva2VuTGlzdENvb2tpZSh7dmFsdWU6ZS50b2tlbl9saXN0LGNvb2tpZV9kb21haW46ZS5jb29raWVfZG9tYWlufSxlLnVzZXJfdG9rZW4pfSxpc0NvbmZpZ3VyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXBuLnVzZVRpbnlwYXNzQWNjb3VudHN8fFwic3RyaW5nXCI9PXR5cGVvZiBwbi51c2VUaW55cGFzc0FjY291bnRzJiZcInRydWVcIj09PXBuLnVzZVRpbnlwYXNzQWNjb3VudHN9LGxvZ2luOmZ1bmN0aW9uKGUpe3JldHVybihlPWV8fHt9KS51c2VyVG9rZW49aSgpLHIuc2hvdyhlKX0sbG9nb3V0OmZ1bmN0aW9uKHIpe3ZhciBpPXthaWQ6cG4uYWlkLHVybDpkb2N1bWVudC5sb2NhdGlvbi5ocmVmfSxhPXBuLmdldEVuZHBvaW50Um9vdCghMCkrXCIvY2hlY2tvdXQvdXNlci9sb2dvdXQ/XCIrbi5wYXJhbShpKTt0LnNldEFjY2Vzc1Rva2VuTGlzdENvb2tpZSh7dmFsdWU6bnVsbH0sdm9pZCAwLCEwKSxlLnJlcXVlc3Qoe3VybDphLGRhdGFUeXBlOlwianNvbnBcIixzdWNjZXNzOmZ1bmN0aW9uKGUpe3Quc2V0QWNjZXNzVG9rZW5MaXN0Q29va2llKHt2YWx1ZTpcIlwiLGNvb2tpZV9kb21haW46ZS5tb2RlbHMuY29va2llX2RvbWFpbn0sZS5tb2RlbHMudXNlcl90b2tlbiwhMCksby5maXJlQ2FsbGJhY2tzKFwibG9nb3V0XCIsbnVsbCx2b2lkIDAsITApLHImJnIoZSl9LGVycm9yOmZ1bmN0aW9uKGUpe3Quc2V0QWNjZXNzVG9rZW5MaXN0Q29va2llKG51bGwsdm9pZCAwLCEwKSxvLmZpcmVDYWxsYmFja3MoXCJsb2dvdXRcIixudWxsLHZvaWQgMCwhMCksciYmcihlKX19KX0scmVnaXN0ZXJDYWxsYmFjazpmdW5jdGlvbihlLG4pe28uYWRkRXZlbnQoZSksby5yZWdpc3RlckNhbGxiYWNrKGUsbil9fX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJ0aW55cGFzc0FjY291bnRzXCIse3VzZVZhbHVlOmplfSkscG4udGlueXBhc3NBY2NvdW50cz1wbi5jb250YWluZXIucmVzb2x2ZShcInRpbnlwYXNzQWNjb3VudHNcIik7dmFyIERlPWZ1bmN0aW9uKCl7dmFyIGU9cG4uY29udGFpbmVyLnJlc29sdmUoXCJqcVV0aWxzXCIpLG49cG4uY29udGFpbmVyLnJlc29sdmUoXCJjb29raWVcIiksdD1wbi5jb250YWluZXIucmVzb2x2ZShcInV0aWxcIikscj1wbi5jb250YWluZXIucmVzb2x2ZShcImV2ZW50VXRpbHNcIikuY3JlYXRlRXZlbnRNYW5hZ2VyKFtcImxvZ291dFwiXSk7cmV0dXJue2lzdjohMSxuYW1lOlwiY29uZGVVc2VyUHJvdmlkZXJcIixnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuXCJjb25kZVwifSxpc1VzZXJWYWxpZDpmdW5jdGlvbigpe3JldHVybiEhdC5nZXRVc2VyVG9rZW5Db29raWUoKX0sZ2V0VG9rZW46ZnVuY3Rpb24oKXt2YXIgZT10LmZpbmRDb29raWVCeU5hbWUoXCJhbWdfdXNlcl9wYXJ0bmVyXCIpO3JldHVybiB2b2lkIDAhPT1lJiZlJiZlLmxlbmd0aD49MD9lOm51bGx9LG9uTG9naW5TdWNjZXNzOmZ1bmN0aW9uKHIpe3Quc2V0QWNjZXNzVG9rZW5MaXN0Q29va2llKHt2YWx1ZTpyLnRva2VuX2xpc3QsY29va2llX2RvbWFpbjpyLmNvb2tpZV9kb21haW59LHIudXNlcl90b2tlbik7dmFyIG89e3BhdGg6XCIvXCIsZXhwaXJlczo3MzB9O3IuY29va2llX2RvbWFpbiYmXCJsb2NhbGhvc3RcIiE9PXIuY29va2llX2RvbWFpbiYmZS5pbkFycmF5KHIuY29va2llX2RvbWFpbix0LmdldFBvc3NpYmxlQ29va2llRG9tYWlucygpKT49MCYmKG8uZG9tYWluPXIuY29va2llX2RvbWFpbiksbi5yYXc9ITAsdC5fX3Byb3RlY3RlZF9fLnNldENvb2tpZShyLnBhcmFtcy5jb29raWVOYW1lLHIucGFyYW1zLmNvb2tpZVZhbHVlLG8pLHQuX19wcm90ZWN0ZWRfXy5zZXRDb29raWUoXCJhbWdfdXNlcl9wYXJ0bmVyXCIsci5wYXJhbXMuZXh0ZXJuYWxJZCxvKSx0Ll9fcHJvdGVjdGVkX18uc2V0Q29va2llKFwiYW1nX3VzZXJfaW5mb1wiLHIucGFyYW1zLnVzZXJOYW1lLG8pLHQuX19wcm90ZWN0ZWRfXy5zZXRDb29raWUoXCJhbWdfdXNlcl9leHRcIixyLnBhcmFtcy5zaXRlVXNlcklkLG8pLHIucGFyYW1zLnVwZGF0ZVRva2VuJiZ0Ll9fcHJvdGVjdGVkX18uc2V0Q29va2llKFwiYW1nX3VzZXJfdXBkYXRlXCIsci5wYXJhbXMudXBkYXRlVG9rZW4sbyksbi5yYXc9ITF9LGxvZ291dDpmdW5jdGlvbihlKXt0LnNldEFjY2Vzc1Rva2VuTGlzdENvb2tpZSh7dmFsdWU6bnVsbH0sdm9pZCAwLCEwKTt2YXIgbj10LmdldFBvc3NpYmxlQ29va2llRG9tYWlucygpO2Zvcih2YXIgbyBpbiBuKXQuZGVsZXRlQ29va2llKFwiYW1nX3VzZXJcIixuW29dKSx0LmRlbGV0ZUNvb2tpZShcImFtZ191c2VyX3BhcnRuZXJcIixuW29dKSx0LmRlbGV0ZUNvb2tpZShcImFtZ191c2VyX2luZm9cIixuW29dKSx0LmRlbGV0ZUNvb2tpZShcImFtZ191c2VyX2V4dFwiLG5bb10pLHQuZGVsZXRlQ29va2llKFwiYW1nX3VzZXJfdXBkYXRlXCIsbltvXSk7dC5kZWxldGVDb29raWUoXCJhbWdfdXNlclwiKSx0LmRlbGV0ZUNvb2tpZShcImFtZ191c2VyX3BhcnRuZXJcIiksdC5kZWxldGVDb29raWUoXCJhbWdfdXNlcl9pbmZvXCIpLHQuZGVsZXRlQ29va2llKFwiYW1nX3VzZXJfZXh0XCIpLHQuZGVsZXRlQ29va2llKFwiYW1nX3VzZXJfdXBkYXRlXCIpLHIuZmlyZUNhbGxiYWNrcyhcImxvZ291dFwiLG51bGwsdm9pZCAwLCEwKSxlJiZlKCl9LGlzQ29uZmlndXJlZDpmdW5jdGlvbigpe3JldHVybiEwPT09cG4udXNlQ29uZGVVc2VyUHJvdmlkZXJ8fFwic3RyaW5nXCI9PXR5cGVvZiBwbi51c2VDb25kZVVzZXJQcm92aWRlciYmXCJ0cnVlXCI9PT1wbi51c2VDb25kZVVzZXJQcm92aWRlcn0scmVnaXN0ZXJDYWxsYmFjazpmdW5jdGlvbihlLG4pe3IuYWRkRXZlbnQoZSksci5yZWdpc3RlckNhbGxiYWNrKGUsbil9fX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJjb25kZVVzZXJQcm92aWRlclwiLHt1c2VWYWx1ZTpEZX0pLHBuLmNvbmRlVXNlclByb3ZpZGVyPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiY29uZGVVc2VyUHJvdmlkZXJcIik7dmFyIEZlPWZ1bmN0aW9uKCl7dmFyIGU9cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpLG49cG4uY29udGFpbmVyLnJlc29sdmUoXCJhcGlcIiksdD1wbi5jb250YWluZXIucmVzb2x2ZShcImV2ZW50VXRpbHNcIikscj1wbi5jb250YWluZXIucmVzb2x2ZShcImpxVXRpbHNcIiksbz0hMTt2YXIgaT10LmNyZWF0ZUV2ZW50TWFuYWdlcihbXCJ1c2VyQ2hhbmdlZFwiLFwib25IaWRlXCIsXCJsb2dvdXRcIl0pLGE9e2FwaUtleTpudWxsLHNjcmVlblNldDpcIkRlZmF1bHQtUmVnaXN0cmF0aW9uTG9naW5cIixzdGFydFNjcmVlbjpudWxsLGVuYWJsZWRQcm92aWRlcnM6bnVsbCxsYW5nOm51bGx9O2Z1bmN0aW9uIHMoKXt2YXIgbj1lLmdldFVzZXJUb2tlbkNvb2tpZSgpO2lmKG4mJmUuZmluZENvb2tpZUJ5TmFtZShcImdsdF9cIithLmFwaUtleSk9PT1lLmZpbmRDb29raWVCeU5hbWUoXCJfX3V0Z19cIithLmFwaUtleSkpcmV0dXJuIG47cmV0dXJuIG51bGx9dmFyIGM9W107ZnVuY3Rpb24gbCh0LHMpe2lmKCFvKXRocm93XCJHaWd5YSBpcyBub3QgY29uZmlndXJlZFwiO2QoKTsoZS5maW5kQ29va2llQnlOYW1lKFwiZ2x0X1wiK2EuYXBpS2V5KSE9PWUuZmluZENvb2tpZUJ5TmFtZShcIl9fdXRnX1wiK2EuYXBpS2V5KXx8dCkmJihjLnB1c2gocyksMT09PWMubGVuZ3RoJiZ3aW5kb3cuZ2lneWEuYWNjb3VudHMuZ2V0QWNjb3VudEluZm8oe2NhbGxiYWNrOmZ1bmN0aW9uKHQpe2lmKDA9PT10LmVycm9yQ29kZSl7dmFyIG89e3VpZDp0LlVJRCxzaWduYXR1cmU6dC5VSURTaWduYXR1cmUsc2lnbmF0dXJlX3RpbWVzdGFtcDp0LnNpZ25hdHVyZVRpbWVzdGFtcCx1cmw6ZS5wcmVwYXJlVXJsUGFyYW1ldGVyKHdpbmRvdy5sb2NhdGlvbi5ocmVmKX07ZS5zdGFydENhbGwoXCJyZWZyZXNoVXNlclRva2VuXCIpLG4uY2FsbEFwaShcIi9hbm9uL2dpZ3lhL3ZlcmlmeUFjY291bnRJbmZvXCIsbywoZnVuY3Rpb24obil7aWYobiYmbi5yZXN1bHQpe2Uuc2V0QWNjZXNzVG9rZW5MaXN0Q29va2llKG4ucmVzdWx0LmFjY2Vzc190b2tlbixuLnJlc3VsdC51c2VyX3Rva2VuKTt2YXIgdD17cGF0aDpcIi9cIixleHBpcmVzOjczMH07aWYobi5yZXN1bHQuYWNjZXNzX3Rva2VuKXt2YXIgbz1uLnJlc3VsdC5hY2Nlc3NfdG9rZW4uY29va2llX2RvbWFpbjtvJiZcImxvY2FsaG9zdFwiIT09byYmci5pbkFycmF5KG8sZS5nZXRQb3NzaWJsZUNvb2tpZURvbWFpbnMoKSk+PTAmJih0LmRvbWFpbj1vKX12YXIgcz1lLmZpbmRDb29raWVCeU5hbWUoXCJnbHRfXCIrYS5hcGlLZXkpO2UuX19wcm90ZWN0ZWRfXy5zZXRDb29raWUoXCJfX3V0Z19cIithLmFwaUtleSxzLHQpO2Zvcih2YXIgbD0wO2w8Yy5sZW5ndGg7bCsrKXt2YXIgdT1jW2xdO3UmJnUobi5yZXN1bHQpfW4ucmVzdWx0LnVzZXImJihuLnJlc3VsdC51c2VyPXt1aWQ6bi5yZXN1bHQudXNlci51aWQsZW1haWw6bi5yZXN1bHQudXNlci5lbWFpbCxmaXJzdE5hbWU6bi5yZXN1bHQudXNlci5maXJzdF9uYW1lLGxhc3ROYW1lOm4ucmVzdWx0LnVzZXIubGFzdF9uYW1lLHZhbGlkOm4ucmVzdWx0LnVzZXIudmFsaWR9KSxpLmZpcmVDYWxsYmFja3MoXCJ1c2VyQ2hhbmdlZFwiLG4ucmVzdWx0LHZvaWQgMCwhMCl9ZWxzZSBlLmxvZyhcIkNhbid0IHZlcmlmeSBnaWd5YSB1c2VyOiBtYXkgYmUgdGhlIGNvbmZpZ3VyYXRpb24gb2YgZ2lneWEgdXNlciBwcm92aWRlciBpcyBpbnZhbGlkXCIpLGUuc2V0QWNjZXNzVG9rZW5MaXN0Q29va2llKCk7Yz1bXSxlLmRvbmVDYWxsKFwicmVmcmVzaFVzZXJUb2tlblwiKX0pKX1lbHNlIGUuc2V0QWNjZXNzVG9rZW5MaXN0Q29va2llKCksYz1bXX19KSl9dmFyIHU9ITE7ZnVuY3Rpb24gZCgpe2lmKCF3aW5kb3cuZ2lneWF8fCF3aW5kb3cuZ2lneWEuX19pbml0aWFsaXplZCl0aHJvd1wiR2lneWEgaXMgbm90IGluaXRpYWxpemVkXCJ9cmV0dXJue2lzdjohMSxuYW1lOlwiZ2lneWFcIixpbml0OmZ1bmN0aW9uKG4pe2lmKCFvKXtmb3IodmFyIHQgaW4gbil2b2lkIDAhPT1uW3RdJiYoYVt0XT1uW3RdKTtpZighYS5zY3JlZW5TZXQpdGhyb3dcIkdpZ3lhIGlzIG5vdCBjb25maWd1cmVkOiBzY3JlZW5TZXQgcGFyYW1ldGVyIHJlcXVpcmVkXCI7aWYoIWEuYXBpS2V5KXRocm93XCJHaWd5YSBpcyBub3QgY29uZmlndXJlZDogYXBpS2V5IHBhcmFtZXRlciByZXF1aXJlZFwiO2QoKSx3aW5kb3cuZ2lneWEuYWNjb3VudHMuYWRkRXZlbnRIYW5kbGVycyh7b25Mb2dpbjpmdW5jdGlvbigpe3U9ITAsbCgpfSxvbkxvZ291dDpmdW5jdGlvbigpe2Uuc2V0QWNjZXNzVG9rZW5MaXN0Q29va2llKHt2YWx1ZTpudWxsfSx2b2lkIDAsITApLGkuZmlyZUNhbGxiYWNrcyhcImxvZ291dFwiLG51bGwsdm9pZCAwLCEwKX19KSxvPSEwLGwoKX19LGlzVXNlclZhbGlkOmZ1bmN0aW9uKCl7dmFyIGU9cygpO3JldHVybiEhKHZvaWQgMCE9PWUmJmUmJmUubGVuZ3RoPj0wKX0sZ2V0VG9rZW46cyxnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuXCJnaWd5YVwifSxvbkxvZ2luU3VjY2VzczpmdW5jdGlvbihuKXtlLnNldEFjY2Vzc1Rva2VuTGlzdENvb2tpZSh7dmFsdWU6bi50b2tlbl9saXN0LGNvb2tpZV9kb21haW46bi5jb29raWVfZG9tYWlufSxuLnVzZXJfdG9rZW4pfSxsb2dpbjpmdW5jdGlvbihlKXtpZighbyl0aHJvd1wiR2lneWEgaXMgbm90IGNvbmZpZ3VyZWRcIjtkKCksZSYmd2luZG93LmdpZ3lhLmFjY291bnRzLmFkZEV2ZW50SGFuZGxlcnMoe29uTG9naW46ZnVuY3Rpb24oKXtsKCEwLGUpfX0pO3ZhciBuPXtzY3JlZW5TZXQ6YS5zY3JlZW5TZXQsb25IaWRlOmZ1bmN0aW9uKCl7aS5maXJlQ2FsbGJhY2tzKFwib25IaWRlXCIse2FmdGVyTG9naW46dX0sdm9pZCAwLCEwKX19LHQ9W1wiYXBpS2V5XCIsXCJzY3JlZW5TZXRcIl07Zm9yKHZhciByIGluIGEpe3IgaW4gdHx8KG5bcl09YVtyXSl9dT0hMSx3aW5kb3cuZ2lneWEuYWNjb3VudHMuc2hvd1NjcmVlblNldChuKX0sbG9nb3V0OmZ1bmN0aW9uKG4pe2lmKCFvKXRocm93XCJHaWd5YSBpcyBub3QgY29uZmlndXJlZFwiO2QoKSx3aW5kb3cuZ2lneWEuYWNjb3VudHMubG9nb3V0KHtjYWxsYmFjazpmdW5jdGlvbigpe2kuZmlyZUNhbGxiYWNrcyhcImxvZ291dFwiLG51bGwsdm9pZCAwLCEwKSxuJiZuKCksZS5zZXRBY2Nlc3NUb2tlbkxpc3RDb29raWUoe3ZhbHVlOm51bGx9LHZvaWQgMCwhMCl9fSksZS5zZXRBY2Nlc3NUb2tlbkxpc3RDb29raWUoe3ZhbHVlOm51bGx9LHZvaWQgMCwhMCl9LGlzQ29uZmlndXJlZDpmdW5jdGlvbigpe3JldHVybiEwPT09cG4udXNlR2lneWFVc2VyUHJvdmlkZXJ8fFwic3RyaW5nXCI9PXR5cGVvZiBwbi51c2VHaWd5YVVzZXJQcm92aWRlciYmXCJ0cnVlXCI9PT1wbi51c2VHaWd5YVVzZXJQcm92aWRlcn0scmVnaXN0ZXJDYWxsYmFjazpmdW5jdGlvbihlLG4pe2kuYWRkRXZlbnQoZSksaS5yZWdpc3RlckNhbGxiYWNrKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSkpfSxsb2dpbkJ5UGFzc3dvcmRsZXNzOmZ1bmN0aW9uKG4pe2lmKCFuKXRocm93XCJTZXNzaW9uIGluZm8gaXMgZW1wdHlcIjt2YXIgdD1uLmFjY2Vzc1Rva2VuTmFtZSxyPW4uYWNjZXNzVG9rZW47ZS5fX3Byb3RlY3RlZF9fLnNldENvb2tpZSh0LHIpO3ZhciBvPVwiZ2x0X1wiK2EuYXBpS2V5O2UuX19wcm90ZWN0ZWRfXy5zZXRDb29raWUobyxyKSxsKCEwKX19fSgpO3BuLmNvbnRhaW5lci5yZWdpc3RlcihcImdpZ3lhXCIse3VzZVZhbHVlOkZlfSkscG4uZ2lneWE9cG4uY29udGFpbmVyLnJlc29sdmUoXCJnaWd5YVwiKTt2YXIgQmU9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZnVuY3Rpb24oZSxuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuJiZudWxsIT09bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcobikrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiB0KCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXdlKGUsbiksZS5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKToodC5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IHQpfShuLGUpLG4ucHJvdG90eXBlLmNvbnN0cnVjdD1mdW5jdGlvbihlKXt0aGlzLm1lc3NhZ2U9ZSx0aGlzLm5hbWU9XCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3JcIn0sbn0oRXJyb3IpO2Z1bmN0aW9uIG4obil7dmFyIHQ9U3RyaW5nKG4pLnJlcGxhY2UoLz0rJC8sXCJcIik7aWYodC5sZW5ndGglND09MSl0aHJvdyBuZXcgZShcIidhdG9iJyBmYWlsZWQ6IFRoZSBzdHJpbmcgdG8gYmUgZGVjb2RlZCBpcyBub3QgY29ycmVjdGx5IGVuY29kZWQuXCIpO2Zvcih2YXIgcixvLGk9MCxhPTAscz1cIlwiO289dC5jaGFyQXQoYSsrKTt+byYmKHI9aSU0PzY0KnIrbzpvLGkrKyU0KT9zKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZyPj4oLTIqaSY2KSk6MClvPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIi5pbmRleE9mKG8pO3JldHVybiBzfXRyeXt2YXIgdD13aW5kb3cuYXRvYiYmd2luZG93LmF0b2IuYmluZCh3aW5kb3cpfHxufWNhdGNoKGUpe3Q9bn12YXIgcj1mdW5jdGlvbihlKXt2YXIgbj1lLnJlcGxhY2UoLy0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKTtzd2l0Y2gobi5sZW5ndGglNCl7Y2FzZSAwOmJyZWFrO2Nhc2UgMjpuKz1cIj09XCI7YnJlYWs7Y2FzZSAzOm4rPVwiPVwiO2JyZWFrO2RlZmF1bHQ6dGhyb3dcIklsbGVnYWwgYmFzZTY0dXJsIHN0cmluZyFcIn10cnl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodChlKS5yZXBsYWNlKC8oLikvZywoZnVuY3Rpb24oZSxuKXt2YXIgdD1uLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7cmV0dXJuIHQubGVuZ3RoPDImJih0PVwiMFwiK3QpLFwiJVwiK3R9KSkpfShuKX1jYXRjaChlKXtyZXR1cm4gdChuKX19O3JldHVybiBmdW5jdGlvbihlLG4pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdG9rZW4gc3BlY2lmaWVkXCIpO3ZhciB0PSEwPT09KG49bnx8e30pLmhlYWRlcj8wOjE7cmV0dXJuIEpTT04ucGFyc2UocihlLnNwbGl0KFwiLlwiKVt0XSkpfX0oKTtwbi5qd3REZWNvZGU9QmUscG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiand0RGVjb2RlXCIse3VzZVZhbHVlOkJlfSk7dmFyIFZlPWZ1bmN0aW9uKCl7dmFyIGUsbj1wbi5jb250YWluZXIucmVzb2x2ZShcInV0aWxcIiksdD1wbi5jb250YWluZXIucmVzb2x2ZShcImFwaVwiKSxyPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicG9zdG1lc3NhZ2VcIiksbz1cInBpYW5vVHJhY2tlclwiLGk9XCJnYUFjY291bnRcIixhPVwibWV0cmljc0dBQWNjb3VudFwiLHM9XCJ0cmFja09ubHlBaWRzXCIsYz1cImRpc2FibGVkXCIsbD04NjQwMCx1PXtnYUFjY291bnQ6dm9pZCAwLHRyYWNrZXJOYW1lOm8sdHJhY2tPbmx5QWlkczpbXSxtZXRyaWNzR0FBY2NvdW50OnZvaWQgMCxpc0dBRW5hYmxlZDohMSxpc0dBQXBwZW5kZWQ6ITEsaXNNZXRyaWNzRW5hYmxlZDohMSxpc1RyYWNrZXJBcHBlbmRlZDohMSxpc01ldHJpY3NUcmFja2VyQXBwZW5kZWQ6ITF9LGQ9W10scD0hMSxmPSEwLG09ITEsZz0hMSx2PVtdO2Z1bmN0aW9uIGgoKXttfHwoZj9zZXRUaW1lb3V0KChmdW5jdGlvbigpe2Y9ITEsdygpfSksM2UzKTp3KCkpfWZ1bmN0aW9uIHcoKXttPSEwLFMoKSx1LmdhQWNjb3VudD9FKCkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpOm5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe3QuY2FsbEFwaShcIi9hbm9uL2Fzc2V0cy9nYUFjY291bnRcIix7YWlkOnRwLmFpZH0sKGZ1bmN0aW9uKHQpezA9PT10LmNvZGU/KHgodC5kYXRhKSxlKG51bGwpKTpuKCl9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gRSgpfSkpLmNhdGNoKChmdW5jdGlvbigpe30pKX12YXIgeT1mdW5jdGlvbihlLG4pe2QucHVzaCh7YWN0aW9uOmUscGFyYW1zOm59KX0sYj1mdW5jdGlvbigpe2lmKHdpbmRvdy5nYSYmdS5pc1RyYWNrZXJBcHBlbmRlZClmb3IoO2QubGVuZ3RoOyl7dmFyIGU9ZC5wb3AoKTtDKGUuYWN0aW9uLGUucGFyYW1zKX19LGs9ZnVuY3Rpb24oZSxuKXt2LnB1c2goe2FjdGlvbjplLHBhcmFtczpufSl9LF89ZnVuY3Rpb24oKXtpZih3aW5kb3cuZ2EmJnUuaXNNZXRyaWNzVHJhY2tlckFwcGVuZGVkKWZvcig7di5sZW5ndGg7KXt2YXIgZT12LnBvcCgpO0koZS5hY3Rpb24sZS5wYXJhbXMpfX0sQz1mdW5jdGlvbihlLG4pe3dpbmRvdy5nYSYmdS5pc1RyYWNrZXJBcHBlbmRlZD93aW5kb3cuZ2EodS50cmFja2VyTmFtZStcIi5cIitlLG4pOnkoZSxuKX0sST1mdW5jdGlvbihlLG4pe3UuaXNNZXRyaWNzRW5hYmxlZCYmKHdpbmRvdy5nYSYmdS5pc01ldHJpY3NUcmFja2VyQXBwZW5kZWQ/d2luZG93LmdhKFwicGVyZm9ybWFuY2VUcmFja2VyLlwiK2Usbik6ayhlLG4pKX0sUz1mdW5jdGlvbigpe2lmKCFwKXtpZih0cC5nYUNsaWVudElkJiYoZT10cC5nYUNsaWVudElkKSxuLl9fcHJvdGVjdGVkX18uaGFzTG9jYWxTdG9yYWdlKCkpe3ZhciB0PW4uX19wcm90ZWN0ZWRfXy5nZXRMb2NhbFN0b3JhZ2VJdGVtKGkpLHI9bi5fX3Byb3RlY3RlZF9fLmdldExvY2FsU3RvcmFnZUl0ZW0oYSksbz1uLl9fcHJvdGVjdGVkX18uZ2V0TG9jYWxTdG9yYWdlSXRlbShzKTt1LmlzR0FFbmFibGVkPSEhdCYmdCE9PWMsdS5pc01ldHJpY3NFbmFibGVkPSEhciYmciE9PWMsdS5nYUFjY291bnQ9dCx1Lm1ldHJpY3NHQUFjY291bnQ9cix1LnRyYWNrT25seUFpZHM9b3x8W119cD0hMH19O3ZhciB4PWZ1bmN0aW9uKGUpe3UuaXNHQUVuYWJsZWQ9ISFlLHUuZ2FBY2NvdW50PWV8fGMsbi5fX3Byb3RlY3RlZF9fLnNldExvY2FsU3RvcmFnZUl0ZW0oaSx1LmdhQWNjb3VudCxsKX0sUD1mdW5jdGlvbihlKXt1LmlzTWV0cmljc0VuYWJsZWQ9SlNPTi5wYXJzZShlLmlzX2VuYWJsZWQpLHUubWV0cmljc0dBQWNjb3VudD11LmlzTWV0cmljc0VuYWJsZWQ/ZS5nYV9hY2NvdW50OmMsdS50cmFja09ubHlBaWRzPXUuaXNNZXRyaWNzRW5hYmxlZD9KU09OLnBhcnNlKGUudHJhY2tfb25seV9haWRzKTpbXSxuLl9fcHJvdGVjdGVkX18uc2V0TG9jYWxTdG9yYWdlSXRlbShzLHUudHJhY2tPbmx5QWlkcyxsKSxuLl9fcHJvdGVjdGVkX18uc2V0TG9jYWxTdG9yYWdlSXRlbShhLHUubWV0cmljc0dBQWNjb3VudCxsKX07ZnVuY3Rpb24gRSgpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obix0KXt1LmlzR0FFbmFibGVkP0EoKS50aGVuKChmdW5jdGlvbigpe2lmKHUuaXNHQUFwcGVuZGVkKWlmKHUuaXNUcmFja2VyQXBwZW5kZWQpbihudWxsKTtlbHNlIHRyeXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3IuaW5uZXJIVE1MPWZ1bmN0aW9uKCl7dmFyIG49bmV3IFJlZ0V4cChcIl5VQS1bMC05YS16QS1aXSotWzAtOWEtekEtWl0qJFwiKS50ZXN0KHUuZ2FBY2NvdW50KSx0PW5ldyBSZWdFeHAoXCIoW3tdP1swLTlhLWZBLUZdezh9LShbMC05YS1mQS1GXXs0fS0pezN9WzAtOWEtZkEtRl17MTJ9W31dPyl8KFswLTldKlxcXFwuWzAtOV0qKVwiKS50ZXN0KGV8fFwiXCIpO2lmKCFuKXJldHVyblwiXCI7dmFyIHI9XCJnYShmdW5jdGlvbigpIHtcXG4gICAgICAgIGdhKCdjcmVhdGUnLCAnXCIrdS5nYUFjY291bnQrXCInLCAnYXV0bycsICdcIitcInBpYW5vVHJhY2tlcidcIjtyKz1lJiZ0P1wiLCB7IGNsaWVudElkOiAnXCIrZStcIicgfSk7XCI6XCIpO1xcbiAgICAgICAgdHAuZ2FTZXJ2aWNlLnNldENsaWVudElkKGdhLmdldEJ5TmFtZSgncGlhbm9UcmFja2VyJykuZ2V0KCdjbGllbnRJZCcpKTtcIjtyZXR1cm4gcis9XCJ0cC5nYVNlcnZpY2UudHJhY2tlckFwcGVuZGVkKCk7IH0pO1wifSgpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQociksdS5pc1RyYWNrZXJBcHBlbmRlZD0hMCxuKG51bGwpfWNhdGNoKGUpe3QoKX1lbHNlIHQoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7fSkpOnQoKX0pKX1mdW5jdGlvbiBUKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe3UuaXNNZXRyaWNzRW5hYmxlZD9BKCkudGhlbigoZnVuY3Rpb24oKXtpZih1LmlzR0FBcHBlbmRlZClpZih1LmlzTWV0cmljc1RyYWNrZXJBcHBlbmRlZCllKG51bGwpO2Vsc2UgdHJ5e3ZhciB0PSF1LnRyYWNrT25seUFpZHMubGVuZ3RofHx1LnRyYWNrT25seUFpZHMuY29udGFpbnModHAuYWlkKSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aWYoIW5ldyBSZWdFeHAoXCJeVUEtWzAtOWEtekEtWl0qLVswLTlhLXpBLVpdKiRcIikudGVzdCh1Lm1ldHJpY3NHQUFjY291bnQpKXJldHVybiB2b2lkIG4oKTtyLmlubmVySFRNTD1cIlxcbmdhKGZ1bmN0aW9uKCkge1xcbiAgaWYgKFwiK3QrXCIpIHtcXG4gICAgZ2EoJ2NyZWF0ZScsICdcIit1Lm1ldHJpY3NHQUFjY291bnQrXCInLCAnYXV0bycsICdcIitcInBlcmZvcm1hbmNlVHJhY2tlcicsIHsgc3RvcmFnZTogJ25vbmUnIH0pO1xcbiAgICB0cC5nYVNlcnZpY2UubWV0cmljc1RyYWNrZXJBcHBlbmRlZCgpO1xcbiAgfVxcbn0pO1xcblwiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQociksdS5pc01ldHJpY3NUcmFja2VyQXBwZW5kZWQ9ITAsZShudWxsKX1jYXRjaChlKXtuKCl9ZWxzZSBuKCl9KSk6ZShcImlzTWV0cmljc0VuYWJsZWQgIT09IHRydWVcIil9KSl9ZnVuY3Rpb24gQSgpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXtpZih1LmlzR0FBcHBlbmRlZCllKG51bGwpO2Vsc2UgdHJ5e3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7dC5pbm5lckhUTUw9XCJcXG4gICAgICAgICAgICAoZnVuY3Rpb24oaSxzLG8sZyxyLGEsbSl7aVsnR29vZ2xlQW5hbHl0aWNzT2JqZWN0J109cjtpW3JdPWlbcl18fGZ1bmN0aW9uKCl7XFxuICAgICAgICAgICAgKGlbcl0ucT1pW3JdLnF8fFtdKS5wdXNoKGFyZ3VtZW50cyl9LGlbcl0ubD0xKm5ldyBEYXRlKCk7YT1zLmNyZWF0ZUVsZW1lbnQobyksXFxuICAgICAgICAgICAgbT1zLmdldEVsZW1lbnRzQnlUYWdOYW1lKG8pWzBdO2EuYXN5bmM9MTthLnNyYz1nO20ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxtKVxcbiAgICAgICAgICAgIH0pKHdpbmRvdyxkb2N1bWVudCwnc2NyaXB0JywnaHR0cHM6Ly93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vYW5hbHl0aWNzLmpzJywnZ2EnKTtcXG4gICAgICAgICAgXCIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0KSx1LmlzR0FBcHBlbmRlZD0hMCxlKG51bGwpfWNhdGNoKGUpe24oKX19KSl9cmV0dXJue25hbWU6XCJnYVNlcnZpY2VcIixlbWl0RXZlbnQ6ZnVuY3Rpb24oZSl7aWYoZS5oaXRUeXBlPVwiZXZlbnRcIiwhdS5pc1RyYWNrZXJBcHBlbmRlZClyZXR1cm4geShcInNlbmRcIixlKSx2b2lkIGgoKTt1LmlzR0FFbmFibGVkJiYod2luZG93LmdhJiZ1LmlzVHJhY2tlckFwcGVuZGVkPyhkLmxlbmd0aCYmYigpLEMoXCJzZW5kXCIsZSkpOnkoXCJzZW5kXCIsZSkpfSxlbWl0TWV0cmljc0V2ZW50OmZ1bmN0aW9uKGUpe2lmKGUuaGl0VHlwZT1cInRpbWluZ1wiLCF1LmlzTWV0cmljc1RyYWNrZXJBcHBlbmRlZClyZXR1cm4gayhcInNlbmRcIixlKSx2b2lkIGZ1bmN0aW9uKCl7aWYoZylyZXR1cm47aWYoZz0hMCxTKCksIXUubWV0cmljc0dBQWNjb3VudClyZXR1cm4gdm9pZCBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt0LmNhbGxBcGkoXCIvYW5vbi9hc3NldHMvcGVyZm9ybWFuY2VNZXRyaWNzXCIsbnVsbCwoZnVuY3Rpb24odCl7MD09PXQuY29kZT8oUCh0LnBlcmZvcm1hbmNlX21ldHJpY3NfZHRvKSxlKG51bGwpKTpuKCl9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gVCgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtuLmVycm9yKFwiUE4gY2F0Y2g6IHNvbWV0aGluZyB2ZW50IHdyb25nIHdpdGggR0EgaW5qZWN0aW9uOiBcIitlKX0pKTtUKCkuY2F0Y2goKGZ1bmN0aW9uKGUpe24uZXJyb3IoXCJQTiBjYXRjaDogc29tZXRoaW5nIHZlbnQgd3Jvbmcgd2l0aCBHQSBpbmplY3Rpb246IFwiK2UpfSkpfSgpO3UuaXNNZXRyaWNzRW5hYmxlZCYmKHdpbmRvdy5nYSYmdS5pc01ldHJpY3NUcmFja2VyQXBwZW5kZWQ/KHYubGVuZ3RoJiZfKCksSShcInNlbmRcIixlKSk6ayhcInNlbmRcIixlKSl9LGdldENsaWVudElkOmZ1bmN0aW9uKCl7cmV0dXJuIGV9LGdldEdBQWNjb3VudDpmdW5jdGlvbigpe3JldHVybiB1LmdhQWNjb3VudH0sbWV0cmljc1RyYWNrZXJBcHBlbmRlZDpmdW5jdGlvbigpe3UuaXNNZXRyaWNzVHJhY2tlckFwcGVuZGVkPSEwLGc9ITEsXygpfSxyZWNyZWF0ZVdpdGhDbGllbnRJZDpmdW5jdGlvbihuKXtlPW4saCgpfSxzZXRDbGllbnRJZDpmdW5jdGlvbihuKXtlPW59LHNldFRyYWNrZXJOYW1lOmZ1bmN0aW9uKGUpe3UudHJhY2tlck5hbWU9ZX0sdHJhY2tlckFwcGVuZGVkOmZ1bmN0aW9uKCl7dS5pc1RyYWNrZXJBcHBlbmRlZD0hMCxyLmJyb2FkY2FzdChcImdhQXBwZW5kZWRcIix7Y2xpZW50SWQ6ZSxnYUFjY291bnQ6dS5nYUFjY291bnR9KSxtPSExLGIoKX19fSgpO3BuLmNvbnRhaW5lci5yZWdpc3RlcihcImdhU2VydmljZVwiLHt1c2VWYWx1ZTpWZX0pLHBuLmdhU2VydmljZT1wbi5jb250YWluZXIucmVzb2x2ZShcImdhU2VydmljZVwiKTt2YXIgcWU9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9cG4uY29udGFpbmVyKTt2YXIgbix0LHIsbyxpLGE9ZS5yZXNvbHZlKFwiY29va2llXCIpLHM9ZS5yZXNvbHZlKFwianFVdGlsc1wiKSxjPWUucmVzb2x2ZShcImFqYXhcIiksbD1lLnJlc29sdmUoXCJqd3REZWNvZGVcIiksdT1lLnJlc29sdmUoXCJ1dGlsXCIpLGQ9ZS5yZXNvbHZlKFwiY29udGFpbmVyVXRpbHNcIikscD1lLnJlc29sdmUoXCJwb3N0bWVzc2FnZVwiKSxmPWUucmVzb2x2ZShcImxvZ1wiKSxtPWUucmVzb2x2ZShcIm9ic2VydmVyXCIpLGc9ZS5yZXNvbHZlKFwiZ2FTZXJ2aWNlXCIpLHY9ZS5yZXNvbHZlKFwiYXBpXCIpLGg9ZS5yZXNvbHZlKFwibG9nZ2luZ1wiKSx3PWUucmVzb2x2ZShcImxvY2FsU3RvcmFnZVwiKSx5PVwicGlhbm9fc29jaWFsX3Rva2VuXCIsYj11LmdldEFpZFNwZWNpZmllZE5hbWUoXCJfX3V0cFwiKSxrPVwiX19waWxcIixfPVwiX19waWRcIixDPVwiX19pZHJcIixJPVwiX19lZWFcIixTPVwiUElBTk9JRFwiLHg9XCJzaG93X2Zvcm1cIixQPVwicmVnaXN0cmF0aW9uXCIsRT1cImNoZWNrb3V0XCIsVD0zMDAsQT1cInBuaWQtdGMtc3RyaW5nXCIsTT1bXCJoZV9JTFwiLFwiYXJfRUdcIl0sTz17fSxSPVtdLEw9e2xvZ2dlZEluOltdLGxvZ2dlZE91dDpbXSxsb2dpblN1Y2Nlc3M6W10scmVnaXN0cmF0aW9uU3VjY2VzczpbXSxwcm9maWxlVXBkYXRlOltdLGxhbmdDaGFuZ2U6W10sbGFuZ0NoYW5nZUZyb21JZnJhbWU6e30sZmlyZV9sb2dpblN1Y2Nlc3M6W10sbG9naW5EaXNwbGF5ZWQ6W10scmVnaXN0ZXJEaXNwbGF5ZWQ6W10sbG9naW5GYWlsZWQ6W10scmVnaXN0cmF0aW9uRmFpbGVkOltdLG9uU2hvdzpbXSxsYXlvdXRSZWFkeTpbXX0sTj17fSxVPXt9LGo9W10sRD0hMSxGPVtcIkcxOHJJSldRMkdcIixcIjQ1TDJCYVM2cHVcIl07cy5vbih3aW5kb3csXCJyZXNpemVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQigpfSkpO3ZhciBCPWZ1bmN0aW9uKGUpe1IuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cImlubGluZVwiPT09ZS5jb25maWcuZGlzcGxheU1vZGV9KSkuZmlsdGVyKChmdW5jdGlvbihuKXtyZXR1cm4hZXx8ZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gbi5jb250YWluZXI9PT1lfSkpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXMuZ2V0V2lkdGgoZS5jb250YWluZXIpO2QucmVzaXplSWZyYW1lKGUse3dpZHRoOm59KSxwLnNlbmQoXCJyZXNpemVcIix7d2lkdGg6bn0sZS5pZnJhbWVJZCl9KSl9LFY9ZnVuY3Rpb24oZSl7aWYociYmIWUpcmV0dXJuIHI7dmFyIG47Tz1PYmplY3QuYXNzaWduKHt9LGUpLHI9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe249ZX0pKSxRZSgpfHxwbi5zZXRVc2VQaWFub0lkVXNlclByb3ZpZGVyKCEwKSxhZShPKTt2YXIgdD11LmdldFF1ZXJ5UGFyYW1CeU5hbWUoXCJyZXNldF90b2tlblwiKTt2b2lkIDA9PT1PLnJlc2V0UGFzc3dvcmRUb2tlbiYmdCYmKE8ucmVzZXRQYXNzd29yZFRva2VuPXQpO3ZhciBvPXUuZ2V0UXVlcnlQYXJhbUJ5TmFtZShcInBhc3N3b3JkbGVzc190b2tlblwiKTt2b2lkIDA9PT1PLnBhc3N3b3JkbGVzc1Rva2VuJiZvJiYoTy5wYXNzd29yZGxlc3NUb2tlbj1vKTt2YXIgaT11LmdldFF1ZXJ5UGFyYW1CeU5hbWUoXCJ2ZXJpZmljYXRpb25fY29kZVwiKTt2b2lkIDA9PT1PLnZlcmlmaWNhdGlvbl9jb2RlJiZpJiYoTy52ZXJpZmljYXRpb25fY29kZT1pKTt2YXIgYT11LmdldFF1ZXJ5UGFyYW1CeU5hbWUoeSk7cmV0dXJuIGEmJih1LnJlbW92ZVF1ZXJ5UGFyYW1CeU5hbWUoeSksT2UoKXx8KHBuLmluYXBwQnJvd3NlclJldHVybj0hMCxmdW5jdGlvbihlLG4pe3ZhciB0PWwoZSk7dC5yZW1lbWJlck1lPSEhbixTZSh7dXNlcjp0LHRva2VuOmV9KX0oYSwhMCkpKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBuKCl9KSw1MCkscn0scT1mdW5jdGlvbihlLG4pe2lmKHQmJiFlKXJldHVybiB0O3ZhciByO3Q9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3I9ZX0pKTt2YXIgbz1mdW5jdGlvbigpe3UuZG9uZUNhbGwoXCJyZWZyZXNoVXNlclRva2VuXCIpLHQ9bnVsbCxyKCl9O3JldHVybiBlJiZlLnByZXZpZXc/KHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHIoKX0pLDEwKSx0KToodS5zdGFydENhbGwoXCJyZWZyZXNoVXNlclRva2VuXCIpLFYoZSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gTy5wYXNzd29yZGxlc3NUb2tlbj9KKCk6bj9Qcm9taXNlLnJlc29sdmUoKTpSZSgpfSkpLnRoZW4obyxvKSx0KX0sej1mdW5jdGlvbihlKXt2YXIgdD0hT2UoKTtxKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgcj1PYmplY3QuYXNzaWduKHt9LE8sZSx7aXNSZWdpc3RyYXRpb246ITB9KSxvPU9lKCk7bz8obmUocix7ZW1pdEdsb2JhbExvZ2luU3VjY2Vzc0V2ZW50OnQmJm99KSxEJiYhWGUoKSYmKGFlKGUpLHNlKHIpLF9lKHIpKSk6bj8oYWUoZSksdS5sb2coXCJNb2RhbCBsb2dpbiB3aW5kb3cgYWxyZWFkeSBzaG93blwiKSk6KGFlKGUpLHNlKHIpLF9lKHIpKTtoLnNldFRpbWUoXCJpZFNob3dcIil9KSl9LEg9ZnVuY3Rpb24oKXt2YXIgZT1cImVtYWlsX2lzX25vdF9jb25maXJtZWRcIixuPXUuZ2V0UXVlcnlQYXJhbUJ5TmFtZShlKTtpZihuKXt1LnJlbW92ZVF1ZXJ5UGFyYW1CeU5hbWUoZSk7dmFyIHQ9XCJyZWdpc3RyYXRpb25cIj09PW4/XCJlbWFpbF9pc19ub3RfY29uZmlybWVkXCI6XCJlbWFpbF9jb25maXJtYXRpb25fcmVxdWlyZWRcIixyPVRlKCk7Vyh7c2NyZWVuOnQsZW1haWw6ciYmci5lbWFpbH0pfX0sVz1mdW5jdGlvbihlKXtpZihuKXUubG9nKFwiTW9kYWwgd2luZG93IGFscmVhZHkgc2hvd25cIik7ZWxzZXtlfHwoZT17fSk7dmFyIHQ9T2JqZWN0LmFzc2lnbih7fSxlLE8pO2UuY3VzdG9tRXZlbnRzJiZcIm9iamVjdFwiPT10eXBlb2YgZS5jdXN0b21FdmVudHMmJihOPWUuY3VzdG9tRXZlbnRzKSxzZSh0KSxhZShlKSxfZSh0KX19LEo9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7Yy5yZXF1ZXN0KHt1cmw6aGUoKStcImFwaS92MS9pZGVudGl0eS9wYXNzd29yZGxlc3MvYXV0aG9yaXphdGlvbi9jb2RlXCIsZGF0YVR5cGU6XCJqc29ucFwiLGRhdGE6e2FpZDpPLmFpZHx8cG4uYWlkLHBhc3N3b3JkbGVzc190b2tlbjpPLnBhc3N3b3JkbGVzc1Rva2VufSxzdWNjZXNzOmZ1bmN0aW9uKHQpe3QuZXJyb3I/KFEodCksbigpKTooRyh0KSxlKG51bGwpKX0seGhyRmllbGRzOnt3aXRoQ3JlZGVudGlhbHM6ITB9LGNyb3NzRG9tYWluOiEwfSl9KSl9LEc9ZnVuY3Rpb24oZSl7IWUuZXJyb3ImJmUuYWNjZXNzX3Rva2VuJiYoWChlKSxNZSh7c291cmNlOlMsdG9rZW46ZS5hY2Nlc3NfdG9rZW4sdXNlcjpsKGUuYWNjZXNzX3Rva2VuKSxleHRlbmRFeHBpcmVkQWNjZXNzRW5hYmxlZDplLmV4dGVuZF9leHBpcmVkX2FjY2Vzc19lbmFibGVkfSwhMSwhMCksZGVsZXRlIE8ucGFzc3dvcmRsZXNzVG9rZW4sdS5yZW1vdmVRdWVyeVBhcmFtQnlOYW1lKFwicGFzc3dvcmRsZXNzX3Rva2VuXCIpKSx1LmRvbmVDYWxsKFwicmVmcmVzaFVzZXJUb2tlblwiKX0sUT1mdW5jdGlvbihlKXtXKHtzY3JlZW46XCJwYXNzd29yZGxlc3NfY29uZmlybWF0aW9uXCIsanNvbnBFcnJvcjplfSksZGVsZXRlIE8ucGFzc3dvcmRsZXNzVG9rZW4sdS5yZW1vdmVRdWVyeVBhcmFtQnlOYW1lKFwicGFzc3dvcmRsZXNzX3Rva2VuXCIpfSxYPWZ1bmN0aW9uKGUpe3ZhciBuPXthaWQ6Ty5haWR8fHBuLmFpZCxsb2dpbl90b2tlbl9pZDplLmxvZ2luX3Rva2VuX2lkLHVzZXJfdG9rZW46ZS5hY2Nlc3NfdG9rZW59LHQ9e3Bhc3N3b3JkbGVzc1Rva2VuOmUucGFzc3dvcmRsZXNzX3Rva2VuLHJlZGlyZWN0VXJpOmUuZGlyZWN0aW9uX3VybH07JChuLHQpfSwkPWZ1bmN0aW9uKGUsbil7ZC5zaG93V2FpdFBhbmVsKCksdi5jYWxsQXBpKFwiL2Fub24vcGFzc3dvcmRsZXNzL2NvbXBsZXRlXCIsZSwoZnVuY3Rpb24oZSl7aWYoZS5yZXN1bHQmJmUucmVzdWx0LnBvbGxpbmdfZW5hYmxlZClyZXR1cm4gWShlKS50aGVuKChmdW5jdGlvbihlKXtaKGUsbil9KSk7WihlLG4pfSkpfSxZPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7dmFyIHQ9e2FpZDpwbi5haWQsb2lkOmUucmVzdWx0Lm9pZCxwcm9jZXNzX2lkOmUucmVzdWx0LnByb2Nlc3NfaWQsdXNlcl90b2tlbjpwbi51c2VyLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKX07Syh0LDAsZS5yZXN1bHQucG9sbGluZ190aW1lb3V0cyxuKX0pKX0sSz1mdW5jdGlvbihlLG4sdCxyKXt2LmNhbGxBcGkoXCIvYW5vbi9wYXNzd29yZGxlc3MvY2hlY2tcIixlLChmdW5jdGlvbihvKXtuKyssbyYmby5yZXN1bHQmJlwid2FpdGluZ1wiIT09by5yZXN1bHQucG9sbF9zdGF0dXM/cihvKTohby5yZXN1bHQmJm8ubWVzc2FnZT8odS5lcnJvcihcIlBhc3N3b3JkbGVzcyBwdXJjaGFzZSBmYWlsZWRcIixvLm1lc3NhZ2UpLHIoKSk6bjw9dC5sZW5ndGg/c2V0VGltZW91dCgoZnVuY3Rpb24oKXtLKGUsbix0LHIpfSksdFtuLTFdKTpyKCl9KSl9LFo9ZnVuY3Rpb24oZSxuKXt0cnl7dmFyIHQ9ZS5yZXN1bHQucmVzb3VyY2V8fHt9LHI9SlNPTi5wYXJzZShlLnJlc3VsdC5zaG93X29mZmVyX3BhcmFtcyksbz1lZShuKTtpZighT2JqZWN0LmtleXModCkubGVuZ3RoJiYhT2JqZWN0LmtleXMocikubGVuZ3RoKXJldHVybiBXKG8pO289dC5uYW1lP2VlKG4se2N1c3RvbVBhcmFtczp7cmVzb3VyY2VOYW1lOnQubmFtZX19KTplZShuLHtjdXN0b21FdmVudHM6e2NoZWNrb3V0Q29udGludWU6ZnVuY3Rpb24oKXtDZSgpLGQuY2xvc2VNb2RhbENvbnRhaW5lcigpLHBuLm9mZmVyLnNob3cocil9fX0pLFcobyl9Y2F0Y2goZSl7VyhlZShuKSl9ZmluYWxseXtkLmhpZGVXYWl0UGFuZWwoKX19LGVlPWZ1bmN0aW9uKGUsbil7dmFyIHQ9e3NjcmVlbjpcInBhc3N3b3JkbGVzc19jb25maXJtYXRpb25cIn07cmV0dXJuIGUmJih0LnBhc3N3b3JkbGVzc1Rva2VuPWUucGFzc3dvcmRsZXNzVG9rZW4sdC5yZWRpcmVjdFVyaT1lLnJlZGlyZWN0VXJpKSxuP09iamVjdC5hc3NpZ24odCxuKTpPYmplY3QuYXNzaWduKHQse3Bhc3N3b3JkbGVzc1N1Y2Nlc3M6ITB9KX0sbmU9ZnVuY3Rpb24oZSxuKXtuPW58fHt9O3ZhciB0PVRlKCk7aWYodCl7dmFyIHI9e3Rva2VuOlBlKCksdXNlcjp0LHNvdXJjZTpuLnNvdXJjZSxzdGFnZTpuLnN0YWdlfSxpPXtldmVudDpcImxvZ2luU3VjY2Vzc1wiLHNvdXJjZTpuLnNvdXJjZSxwYXJhbXM6ci51c2VyLHVzZXJfdG9rZW46ci50b2tlbixyZWdpc3RyYXRpb246byxzdGFnZTpuLnN0YWdlfTtlPyhlLmxvZ2dlZEluJiZlLmxvZ2dlZEluKHIpLG4uZW1pdEdsb2JhbExvZ2luU3VjY2Vzc0V2ZW50JiZvZShcImxvZ2luU3VjY2Vzc1wiLGkpKToocmUoXCJsb2dnZWRJblwiLHIpLHJlKFwibG9naW5TdWNjZXNzXCIsciksbi5zb3VyY2U9PT1TJiYocmUoXCJmaXJlX2xvZ2luU3VjY2Vzc1wiLGkpLG9lKFwibG9naW5TdWNjZXNzXCIsaSkpKX19LHRlPWZ1bmN0aW9uKGUsbil7aWUoe2xvZ2luOlwibG9naW5EaXNwbGF5ZWRcIixyZWdpc3RlcjpcInJlZ2lzdGVyRGlzcGxheWVkXCJ9W2VdLHt9LG4pfSxyZT1mdW5jdGlvbihlLG4pe0xbZV0mJkxbZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZShuKX0pKX0sb2U9ZnVuY3Rpb24oZSxuKXtVW2VdJiZVW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uobil9KSl9LGllPWZ1bmN0aW9uKGUsbix0KXshdCYmcmUoZSxuKSxvZShlLG4pfSxhZT1mdW5jdGlvbihlKXtlJiZPYmplY3Qua2V5cyhMKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dJiZMW25dLnB1c2goZVtuXSl9KSl9LHNlPWZ1bmN0aW9uKGUpe2UuYWlkfHwoZS5haWQ9cG4uYWlkKSxlLmRpc3BsYXlNb2RlfHwoZS5kaXNwbGF5TW9kZT1cIm1vZGFsXCIpLFwicG9wdXBcIj09PWUuZGlzcGxheU1vZGU/KGUud2lkdGg9cGFyc2VJbnQoZS53aWR0aCl8fGxlKCksZS5oZWlnaHQ9cGFyc2VJbnQoZS5oZWlnaHQpfHw0NjApOlwibW9kYWxcIj09PWUuZGlzcGxheU1vZGUmJihlLndpZHRoPXBhcnNlSW50KGUud2lkdGgpfHxsZSgpKSxlLmFjY2Vzc1Rva2VuPVBlKCl9LGNlPWZ1bmN0aW9uKGUpe1Q9ZX0sbGU9ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHx3aW5kb3cuc2NyZWVuLndpZHRoO3JldHVybiBNYXRoLm1pbihlLDQwMCl9LHVlPWZ1bmN0aW9uKGUsbix0KXtvPSExLEVlKCksdy5yZW1vdmUoQSksdS5zZXRBY2Nlc3NUb2tlbkxpc3RDb29raWUoe3ZhbHVlOm51bGx9LHZvaWQgMCwhMCksVWUoKS50aGVuKChmdW5jdGlvbigpe3R8fGZ1bmN0aW9uKGUpe3ZhciBuPXtzb3VyY2U6ZX07cmUoXCJsb2dnZWRPdXRcIixuKSxvZShcImxvZ291dFwiLG4pfShuKSxlJiZlKCl9KSksWWUoKX07ZnVuY3Rpb24gZGUoZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciB0LHIsbz1lLmNvbmZpZy50cmFja2luZ0lkLGk9ZS5jb25maWcuZm9ybU5hbWU7c3dpdGNoKG4uZXZlbnQpe2Nhc2VcImxvYWRlZFwiOlwibW9kYWxcIj09PWUuY29uZmlnLmRpc3BsYXlNb2RlJiZkLmNoZWNrQmFja2Ryb3BBbmRDb250YWluZXIoZSwhMCksZS5jb25maWcubG9hZGVkQ2FsbGJhY2smJmUuY29uZmlnLmxvYWRlZENhbGxiYWNrKGUpO2JyZWFrO2Nhc2VcInN0YXRlUmVhZHlcIjplLmNvbmZpZy5yZWFkeUNhbGxiYWNrJiZlLmNvbmZpZy5yZWFkeUNhbGxiYWNrKGUpO2JyZWFrO2Nhc2VcInJlc2l6ZVwiOmQucmVzaXplSWZyYW1lKGUsbi5wYXJhbXMpO2JyZWFrO2Nhc2VcInJlc3RvcmVTaXplXCI6XCJpbmxpbmVcIj09PWUuY29uZmlnLmRpc3BsYXlNb2RlJiZkLnJlc2l6ZUlmcmFtZShlLHt3aWR0aDpzLmdldFdpZHRoKGUuY29udGFpbmVyKX0pO2JyZWFrO2Nhc2VcImxvZ2luU3VjY2Vzc1wiOnZlKG4sKGZ1bmN0aW9uKCl7ZS5jb25maWcuY2FsbGJhY2smJmUuY29uZmlnLmNhbGxiYWNrKCkscG4udXNlci5yZWZyZXNoQWNjZXNzVG9rZW4oITApLHAuYnJvYWRjYXN0KFwicGlhbm9JZExvZ2luU3VjY2Vzc1wiLG4ucGFyYW1zKX0pKTticmVhaztjYXNlXCJsb2dpbkZhaWxlZFwiOmllKFwibG9naW5GYWlsZWRcIixuLnBhcmFtcyk7YnJlYWs7Y2FzZVwicmVnaXN0cmF0aW9uU3VjY2Vzc1wiOnZlKG4sKGZ1bmN0aW9uKCl7aWUoXCJyZWdpc3RyYXRpb25TdWNjZXNzXCIsbi5wYXJhbXMpLHAuYnJvYWRjYXN0KFwicGlhbm9JZExvZ2luU3VjY2Vzc1wiLG4ucGFyYW1zKX0pKTticmVhaztjYXNlXCJyZWdpc3RyYXRpb25GYWlsZWRcIjppZShcInJlZ2lzdHJhdGlvbkZhaWxlZFwiLG4ucGFyYW1zKTticmVhaztjYXNlXCJsYW5nXCI6QmUobi5wYXJhbXMubGFuZywhMCksR2Uobi5wYXJhbXMubGFuZyxlKTticmVhaztjYXNlXCJjdXN0b21FdmVudFwiOnQ9ZS5jb25maWcscj1uLnBhcmFtcyx0JiZ0LmN1c3RvbUV2ZW50JiZ0LmN1c3RvbUV2ZW50KHIpLG9lKFwiY3VzdG9tRXZlbnRcIixyKTticmVhaztjYXNlXCJjbG9zZWRcIjpEZShlLCEwKSxlLmNvbmZpZy5jbG9zZWRDYWxsYmFjayYmZS5jb25maWcuY2xvc2VkQ2FsbGJhY2soZSk7YnJlYWs7Y2FzZVwiY2ZGb3JtU3VibWlzc2lvblwiOmYuX19wcm90ZWN0ZWRfXy5sb2dDdXN0b21Gb3JtU3VibWlzc2lvbihvLGkseCk7YnJlYWs7Y2FzZVwiZm9ybVNlbmRcIjpjYXNlXCJmb3JtU2tpcFwiOkRlKGUpO2JyZWFrO2Nhc2VcImNmQXBwSW1wcmVzc2lvblwiOmYuX19wcm90ZWN0ZWRfXy5sb2dDdXN0b21Gb3JtSW1wcmVzc2lvbihvLGksUCk7YnJlYWs7Y2FzZVwiY2ZBcHBTdWJtaXNzaW9uXCI6Zi5fX3Byb3RlY3RlZF9fLmxvZ0N1c3RvbUZvcm1TdWJtaXNzaW9uKG8saSxQKTticmVhaztjYXNlXCJjZkZvcm1JbXByZXNzaW9uXCI6Zi5fX3Byb3RlY3RlZF9fLmxvZ0N1c3RvbUZvcm1JbXByZXNzaW9uKG8saSx4KTticmVhaztjYXNlXCJjaGFuZ2VTY3JlZW5cIjp0ZShuLnBhcmFtcy5zY3JlZW4pO2JyZWFrO2Nhc2VcInNjcmVlblJlYWR5XCI6aWUoXCJvblNob3dcIik7YnJlYWs7Y2FzZVwibGF5b3V0UmVhZHlcIjppZShcImxheW91dFJlYWR5XCIsbi5wYXJhbXMpO2JyZWFrO2Nhc2VcImNvbmZpcm1hdGlvbkVtYWlsU2VudFwiOlwiaW5saW5lXCI9PT1lLmNvbmZpZy5kaXNwbGF5TW9kZXx8bi5wYXJhbXMuaXNET0l8fG4ucGFyYW1zLmlzUGFzc3dvcmRsZXNzRGlnaXRhbENvZGV8fERlKGUpO2JyZWFrO2Nhc2VcInZlcmlmaWNhdGlvbkNvZGVTdGFydENoZWNrb3V0XCI6dmFyIGE9e307dHJ5e2E9SlNPTi5wYXJzZShuLnBhcmFtcy5zdGFydENoZWNrb3V0UGFyYW1zKX1jYXRjaChlKXt1LmxvZyhcImVycm9yIHBhcnNlIHN0YXJ0IGNoZWNrb3V0IHBhcmFtc1wiKSxhPXt9fURlKGUsITApLFJlKCEwLCEwKSx1LndhaXRDYWxsKFwicmVmcmVzaFVzZXJUb2tlblwiLChmdW5jdGlvbigpe3BuLm9mZmVyLnNob3coYSl9KSk7YnJlYWs7Y2FzZVwicmVtb3ZlUGFyYW1Gcm9tR2xvYmFsQ29uZmlnXCI6ZmUobik7YnJlYWs7Y2FzZVwidmVyaWZ5Q29kZVwiOm1lKG4sZSk7YnJlYWs7Y2FzZVwib3BlblBhc3N3b3JkbGVzc0xvZ2luV2l0aENyZWF0aW5nVXNlclwiOnBlKCk7YnJlYWs7Y2FzZVwiZmlyZUN1c3RvbUV2ZW50XCI6IWZ1bmN0aW9uKGUpe04mJlwiZnVuY3Rpb25cIj09dHlwZW9mIE5bZV0mJk5bZV0oKX0obi5wYXJhbXMubmFtZSk7YnJlYWs7Y2FzZVwicGFzc3dvcmRSZXN0b3JlZFwiOnUucmVtb3ZlUXVlcnlQYXJhbUJ5TmFtZShcInJlc2V0X3Rva2VuXCIpLE8ucmVzZXRQYXNzd29yZFRva2VuPXZvaWQgMDticmVhaztjYXNlXCJlbWl0R0FFdmVudFwiOmcuZW1pdEV2ZW50KG4ucGFyYW1zKTticmVhaztjYXNlXCJyZWRpcmVjdFwiOmRvY3VtZW50LmxvY2F0aW9uLmhyZWY9bi5wYXJhbXMudXJsO2JyZWFrO2Nhc2VcImRlc2lnblZlcnNpb25cIjpkLmFkZENsYXNzVG9Db250YWluZXIoZSxcInBpYW5vLWlkLW1vZGFsLXZlci1cIituLnBhcmFtcy52ZXJzaW9uKTticmVhaztjYXNlXCJwcm9maWxlVXBkYXRlZFwiOnJlKFwicHJvZmlsZVVwZGF0ZVwiLG4ucGFyYW1zKTticmVhaztjYXNlXCJsb2dvdXRcIjp1ZSgpO2JyZWFrO2RlZmF1bHQ6dS5kZWJ1ZyhcIlJlY2VpdmVkIGludmFsaWQgZXZlbnQgdHlwZTogXCIrbi5ldmVudCl9fX12YXIgcGU9ZnVuY3Rpb24oKXt6KHtjcmVhdGVQYXNzd29yZGxlc3NVc2VyOiEwfSl9LGZlPWZ1bmN0aW9uKGUpe3ZhciBuPWUucGFyYW1zLm5hbWUsdD11LmZyb21VbmRlcnNjb3JlVG9DYW1lbENhc2Uobik7ZGVsZXRlIE9bdF0sZS5wYXJhbXMucmVtb3ZlRnJvbVVybCYmdS5yZW1vdmVRdWVyeVBhcmFtQnlOYW1lKG4pfSxtZT1mdW5jdGlvbihlLG4pe3ZhciB0PWUucGFyYW1zLnZlcmlmaWNhdGlvbkNvZGUscj1lLnBhcmFtcy5sb2NhbGUsbz1PLmFpZHx8cG4uYWlkLGk9QWUoKSxhPWRvY3VtZW50LmxvY2F0aW9uLmhyZWY7Yy5yZXF1ZXN0KHt1cmw6aGUoKStcImFwaS92MS9pZGVudGl0eS92ZXJpZmljYXRpb24vY29kZVwiLGRhdGFUeXBlOlwianNvbnBcIixkYXRhOntjbGllbnRfaWQ6byxhY2Nlc3NfdG9rZW46aSxzaXRlOmEsdmVyaWZpY2F0aW9uX2NvZGU6dCxsYW5nOnJ9LHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7ZS5lcnJvcnx8Z2UoZSxuKX0seGhyRmllbGRzOnt3aXRoQ3JlZGVudGlhbHM6ITB9LGNyb3NzRG9tYWluOiEwfSl9LGdlPWZ1bmN0aW9uKGUsbil7IWUuZXJyb3ImJmUuYWNjZXNzX3Rva2VuJiZTZSh7dG9rZW46ZS5hY2Nlc3NfdG9rZW4sdXNlcjpsKGUuYWNjZXNzX3Rva2VuKSxjb29raWVfZG9tYWluOmUuc2l0ZV9jb29raWVfZG9tYWlufSkscC5zZW5kKFwidmVyaWZpY2F0aW9uQ29kZUNvbXBsZXRlXCIsZSxuLmlmcmFtZUlkKX0sdmU9ZnVuY3Rpb24oZSxuKXtlJiZlLnBhcmFtcyYmIWUucGFyYW1zLmFyZUNvb2tpZXNTZXQ/KGUucGFyYW1zLnNvdXJjZT1TLG89ISFlLnBhcmFtcy5yZWdpc3RyYXRpb24sTWUoZS5wYXJhbXMpLnRoZW4oKGZ1bmN0aW9uKGUpe24oZSl9KSkpOlwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4oKSwkZSgpfSxoZT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXBuLnNhbmRib3h8fHBuLmlzTm9uUHJvZEVuZHBvaW50KCksbj1PLmlmcmFtZVVybHx8cG4ucGlhbm9JZFVybHx8IWUmJlwiaHR0cHM6Ly9pZC50aW55cGFzcy5jb21cInx8XCIvXCI7cmV0dXJuXCIvXCI9PT1uJiYobj1wbi5nZXRFbmRwb2ludFJvb3QoITApKSxuLnJlcGxhY2UoL1xcLyQvLFwiXCIpfSgpK1wiL2lkL1wifSx3ZT1mdW5jdGlvbigpe3ZhciBlPU8uYWlkfHxwbi5haWQ7cmV0dXJuIEYuaW5kZXhPZihlKT49MH0sYmU9ZnVuY3Rpb24oZSxuLHQscil7ZS5tYXRjaChcInByb3h5Lmh0bWxcIil8fChlKz13ZSgpP1wiaW5kZXgzLmh0bWxcIjpcIlwiKTt2YXIgbz17Y2xpZW50X2lkOm4uYWlkLHNlbmRlcjp0LmlmcmFtZUlkLG9yaWdpbjpyfHx3aW5kb3cubG9jYXRpb24ub3JpZ2lufHx3aW5kb3cubG9jYXRpb24uaHJlZixzaXRlOndpbmRvdy5sb2NhdGlvbi5ocmVmLGRpc3BsYXlfbW9kZTpuLmRpc3BsYXlNb2RlLHBhZ2VWaWV3SWQ6cG4ubWFpbi5mZXRjaFBhZ2VWaWV3SWQoKSx0YmM6dS5nZXRUYmNDb29raWUoKX0saT1WZSgpO2lmKGkmJihvLmxhbmc9aSksZy5nZXRDbGllbnRJZCgpJiYoby5nYV9jbGllbnRfaWQ9Zy5nZXRDbGllbnRJZCgpKSxnLmdldEdBQWNjb3VudCgpJiYoby5nYT1nLmdldEdBQWNjb3VudCgpKSxuLmRpc2FibGVTaWduVXAmJihvLmRpc2FibGVfc2lnbl91cD0hMCksbi5zY3JlZW4mJihvLnNjcmVlbj1uLnNjcmVlbiksbi5yZXNldFBhc3N3b3JkVG9rZW4mJihvLnJlc2V0PW4ucmVzZXRQYXNzd29yZFRva2VuKSxuLnZlcmlmaWNhdGlvbl9jb2RlJiYoby52ZXJpZmljYXRpb25fY29kZT1uLnZlcmlmaWNhdGlvbl9jb2RlKSxuLnN0YWdlJiYoby5zdGFnZT1uLnN0YWdlKSxuLnJlc2V0UGFzc3dvcmRMYW5kaW5nVXJsJiYoby5yZXNldF91cmk9bi5yZXNldFBhc3N3b3JkTGFuZGluZ1VybCksbi53aWR0aCYmXCJtb2RhbFwiPT09bi5kaXNwbGF5TW9kZSYmKG8ud2lkdGg9bi53aWR0aCksbi5mb3JtTmFtZSYmKG8uZm9ybV9uYW1lPW4uZm9ybU5hbWUpLGtlKG4sZSkmJihlKz1cImZvcm1cIiksXCJwcm9maWxlXCI9PT1uLnRlbXBsYXRlJiYoZSs9XCJwcm9maWxlXCIpLG4uaGlkZUlmQ29tcGxldGUmJihvLmhpZGVfaWZfY29tcGxldGU9bi5oaWRlSWZDb21wbGV0ZSksbi5wcmV2aWV3JiYoby5wcmV2aWV3PW4ucHJldmlldyksbi50ZW1wbGF0ZVZlcnNpb24mJihvLnRlbXBsYXRlVmVyc2lvbj1uLnRlbXBsYXRlVmVyc2lvbiksbi50ZW1wbGF0ZSYmKG8udGVtcGxhdGU9bi50ZW1wbGF0ZSksbi5hY2Nlc3NUb2tlbiYmKG8uYWNjZXNzX3Rva2VuPW4uYWNjZXNzVG9rZW4pLG4uZW1haWwmJihvLmVtYWlsPW4uZW1haWwpLG4uc2luZ2xlU3RlcCYmKG8uc2luZ2xlX3N0ZXA9ITApLG4uY3JlYXRlUGFzc3dvcmRsZXNzVXNlciYmKG8uY3JlYXRlX3Bhc3N3b3JkbGVzc191c2VyPSEwKSxuLmN1c3RvbVBhcmFtcyYmKG8uY3VzdG9tX3BhcmFtcz1KU09OLnN0cmluZ2lmeShuLmN1c3RvbVBhcmFtcykpLG4uY3VzdG9tRXZlbnRzKXt2YXIgYT1bXTtPYmplY3Qua2V5cyhuLmN1c3RvbUV2ZW50cykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5wdXNoKGUpfSkpLGEubGVuZ3RoJiYoby5jdXN0b21fZXZlbnRzPUpTT04uc3RyaW5naWZ5KGEpKX1yZXR1cm4gbi5qc29ucEVycm9yJiYoby5qc29ucF9lcnJvcj1KU09OLnN0cmluZ2lmeShuLmpzb25wRXJyb3IpKSxuLnBhc3N3b3JkbGVzc1N1Y2Nlc3MmJihvLnBhc3N3b3JkbGVzc19zdWNjZXNzPSEwKSxuLnBhc3N3b3JkbGVzc1Rva2VuJiYoby5wYXNzd29yZGxlc3NfdG9rZW49bi5wYXNzd29yZGxlc3NUb2tlbiksbi5yZWRpcmVjdFVyaSYmKG8ucmVkaXJlY3RfdXJpPW4ucmVkaXJlY3RVcmkpLHQuaWZyYW1lVXJsJiYoby51cmw9dC5pZnJhbWVVcmwpLG4ucmV0dXJuQmFjayYmKG8ucmV0dXJuX2JhY2s9bi5yZXR1cm5CYWNrKSx0LnBvcyYmKG8ud2lkdGg9dC5wb3Mud2lkdGgsby5oZWlnaHQ9dC5wb3MuaGVpZ2h0LG8udG9wPXQucG9zLnRvcCxvLmxlZnQ9dC5wb3MubGVmdCksbi50ZW1wbGF0ZUlkJiYoby50ZW1wbGF0ZV9pZD1uLnRlbXBsYXRlSWQpLG4udmFyaWFudElkJiYoby52YXJpYW50X2lkPW4udmFyaWFudElkKSxbZSxzLnBhcmFtKG8pXS5qb2luKFwiP1wiKX0sa2U9ZnVuY3Rpb24oZSxuKXt2YXIgdD13ZSgpLHI9IWUuaXNSZWdpc3RyYXRpb24sbz0hL1xcLmh0bWwkLy50ZXN0KG4pfHx0O3JldHVybiBlLmZvcm1OYW1lJiZvJiZyfSxfZT1mdW5jdGlvbihlKXt2YXIgdD1zLnF1ZXJ5RWwoZS5jb250YWluZXJTZWxlY3Rvcikscj1cInBpYW5vLWlkLVwiKyhlLmlzUmVnaXN0cmF0aW9uP1wiXCI6XCJmb3JtLVwiKSt1LnJhbmRvbVN0cmluZygpO2Uuc2luZ2xlQ29udGFpbmVyPXQ7dmFyIG8saSxhLGM9e2lmcmFtZUlkOnIsY29udGFpbmVyU2VsZWN0b3I6ZS5jb250YWluZXJTZWxlY3Rvcix3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH0sbD1iZShoZSgpLGUsYyksZj1oZSgpLGc9ITA7aWYoZS5pZnJhbWVQYXJhbXM9YyxcImlubGluZVwiPT09ZS5kaXNwbGF5TW9kZSl7dmFyIHY9ZC5pbml0SW5saW5lQ29udGFpbmVyKGUpO2lmKCEobz12LmNvbnRhaW5lcikpcmV0dXJuO2k9ZC5nZW5lcmF0ZUlmcmFtZShlLGMsbCksZz0hIXYuY29udGFpbmVyUmVhZHksZS5vYnNlcnZlQ29udGFpbmVyJiYoYT1tLmNyZWF0ZShvLEIpKX1lbHNlIGlmKFwibW9kYWxcIj09PWUuZGlzcGxheU1vZGUpbz1kLmdldE1vZGFsQ29udGFpbmVyKGUsKGZ1bmN0aW9uKCl7cmV0dXJuIERlKG4pfSkpLGk9ZC5nZW5lcmF0ZUlmcmFtZShlLGMsbCk7ZWxzZSBpZihcInBvcHVwXCI9PT1lLmRpc3BsYXlNb2RlKWlmKHUuaXNJRSgpKXtvPWQuZ2VuZXJhdGVJZnJhbWVXcmFwcGVyKCksbD1iZShoZSgpLGUsYyxoZSgpK1wicHJveHkuaHRtbFwiKSxjLmlmcmFtZVVybD1sLGMucG9zPWQuZ2V0UG9wdXBQb3NpdGlvbihjKTt2YXIgaD1iZShoZSgpK1wicHJveHkuaHRtbFwiLGUsYyk7ZS5kaXNwbGF5TW9kZT1cImlubGluZVBvcHVwXCIsaT1kLmdlbmVyYXRlSWZyYW1lKHt9LGMsaCl9ZWxzZXtvPWQuZ2VuZXJhdGVQb3B1cChjLGwpO3RyeXt0cnl7aT1vLmRvY3VtZW50fWNhdGNoKGUpe2k9b319Y2F0Y2goZSl7aT13aW5kb3cuZG9jdW1lbnR9fXZhciB3PXtpZnJhbWVJZDpjLmlmcmFtZUlkLGNvbmZpZzplLGVsZW1lbnQ6aSxjb250YWluZXI6byxpZnJhbWVQYXJhbXM6Yyxjb250YWluZXJSZWFkeTpnfSx5PXtjZW50ZXI6dS5jZW50ZXJTY3JlZW4oKSxvcmlnaW5Vcmw6ZG9jdW1lbnQubG9jYXRpb24uaHJlZn07aWYocC5pbml0KHtwb3N0TWVzc2FnZVVybDpmLHJlY2VpdmU6ZGUodyksaWZyYW1lOncsaWZyYW1lUGFyYW1zOmN9LHkpLFwiaW5saW5lXCI9PT1lLmRpc3BsYXlNb2RlKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3MuYWRkQ2xhc3MoXCJwaWFuby1pZC1jb250YWluZXJcIixiKSxzLmFwcGVuZChiLGkpLHMuYXBwZW5kKG8sYil9ZWxzZVwibW9kYWxcIj09PWUuZGlzcGxheU1vZGU/cy5hcHBlbmQobyxpKTpcImlubGluZVBvcHVwXCI9PT1lLmRpc3BsYXlNb2RlJiYocy5hcHBlbmQobyxpKSxzLmFwcGVuZChkb2N1bWVudC5ib2R5LG8pKTtpZih1LmRlYnVnKFwiY3JlYXRpbmcgaWZyYW1lOiBcIixlKSxSLnB1c2godyksXCJtb2RhbFwiPT09ZS5kaXNwbGF5TW9kZSl7KG49dykub2JzZXJ2ZXI9YSwodS5pc0lwaG9uZSgpfHx1LmlzU2FmYXJpT3JJT3NVaVdlYlZpZXcoKXx8dS5pc0FuZHJvaWQoKSkmJmQuX19wcml2YXRlX18ubW9iaWxlTW9kYWxGaXgubW9kYWxPcGVuZWQoKTt2YXIgaz1WZSgpO0dlKGssdyl9cmV0dXJuIHd9LENlPWZ1bmN0aW9uKGUpe2lmKG4pe3ZhciB0PWQuX19wcml2YXRlX18ubW9iaWxlTW9kYWxGaXg7ZC5jbG9zZU1vZGFsKG4pLHMucmVtb3ZlKG4uZWxlbWVudCksbi5vYnNlcnZlciYmbi5vYnNlcnZlci5kaXNjb25uZWN0KCksdC5pc0lwaG9uZUNhcmV0Rml4ZWQmJnQubW9kYWxDbG9zZWQoKSxuPXZvaWQgMH19LEllPWZ1bmN0aW9uKGUpe3ZhciBuPXtwYXRoOlwiL1wifSx0PXUuX19wcm90ZWN0ZWRfXy5nZXRDb29raWUoXykscj11LmV4dHJhY3RDb29raWVEb21haW4oZXx8dCk7cmV0dXJuIHImJihuLmRvbWFpbj1yKSwocG4uY29va2llRG9tYWlufHxwbi5jb29raWVQYXRoKSYmKG4uZG9tYWluPXBuLmNvb2tpZURvbWFpbj9wbi5jb29raWVEb21haW46bi5kb21haW4sbi5wYXRoPXBuLmNvb2tpZVBhdGg/cG4uY29va2llUGF0aDpuLnBhdGgpLG59LFNlPWZ1bmN0aW9uKGUpe2lmKGUmJmUudXNlciYmZS50b2tlbil7RWUobnVsbCwhMCwhMCk7dmFyIG49SWUoZS5jb29raWVfZG9tYWluKTtlLmV4dGVuZEV4cGlyZWRBY2Nlc3NFbmFibGVkJiZ4ZShlLmV4dGVuZEV4cGlyZWRBY2Nlc3NFbmFibGVkLGUuY29va2llX2RvbWFpbiksKGUudXNlci5yZW1lbWJlck1lfHxIZSgpKSYmKG4uZXhwaXJlcz1uZXcgRGF0ZSgxZTMqZS51c2VyLmV4cCkscWUobikpO3ZhciB0PXUuZ2V0UG9zc2libGVDb29raWVEb21haW5zKCk7Zm9yKHZhciByIGluIHQpdS5kZWxldGVDb29raWUoYix0W3JdKTt1Ll9fcHJvdGVjdGVkX18uc2V0Q29va2llKGIsZS50b2tlbixuKSxlLmNvb2tpZV9kb21haW4mJihuLmV4cGlyZXM9MzAsdS5fX3Byb3RlY3RlZF9fLnNldENvb2tpZShfLGUuY29va2llX2RvbWFpbixuKSl9fSx4ZT1mdW5jdGlvbihlLG4pe0plKFwic2V0RXh0ZW5kRXhwaXJlZEFjY2Vzc1wiLGUsXCJicm9hZGNhc3RcIik7dmFyIHQ9SWUobik7dC5leHBpcmVzPTMwLHUuX19wcm90ZWN0ZWRfXy5zZXRDb29raWUoSSxlP1widHJ1ZVwiOlwiZmFsc2VcIix0KX0sUGU9ZnVuY3Rpb24oKXt2YXIgZT11LmZpbmRDb29raWVCeU5hbWUoYik7cmV0dXJuIGV8fG51bGx9LEVlPWZ1bmN0aW9uKGUsbix0KXt2YXIgcj1JZSgpLG89dS5nZXRQb3NzaWJsZUNvb2tpZURvbWFpbnMoci5kb21haW4pO2UmJnUuX19wcm90ZWN0ZWRfXy5sb2dSZW1vdmVUb2tlbnMoZSksby5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbz15ZSh5ZSh7fSxyKSx7ZG9tYWluOmV9KTthLnJlbW92ZShiLG8pLHR8fGEucmVtb3ZlKEksbyksbnx8emUobyl9KSl9LFRlPWZ1bmN0aW9uKCl7dmFyIGU9bnVsbCxuPVBlKCk7aWYobil0cnl7aWYoZT1sKG4pKXtlLmZpcnN0TmFtZT1lLmdpdmVuX25hbWUsZS5sYXN0TmFtZT1lLmZhbWlseV9uYW1lLGUudmFsaWQ9ITAsZS51aWQ9ZS5zdWIsZS5jb25maXJtZWQ9IWUuZW1haWxfY29uZmlybWF0aW9uX3JlcXVpcmVkO3ZhciB0PW5ldyBEYXRlO25ldyBEYXRlKDFlMyplLmV4cCk8dCYmKHUubG9nKFwiUmVtb3ZpbmcgZXhwaXJlZCB0b2tlbnNcIiksRWUobiksZT1udWxsKX19Y2F0Y2goZSl7fXJldHVybiBlfSxBZT1mdW5jdGlvbigpe3JldHVybiBwbi5leHRlcm5hbEpXVCYmUWUoKT9wbi5leHRlcm5hbEpXVDpQZSgpfSxNZT1mdW5jdGlvbihlLG4sdCl7U2UoZSk7dmFyIHI9amUoZSkudGhlbigoZnVuY3Rpb24oKXshbiYmbmUobnVsbCx7c3RhZ2U6ZS5zdGFnZSxzb3VyY2U6ZS5zb3VyY2V9KX0pKTtpZighKHQ9dHx8ZS53aXRob3V0Q2xvc2VNb2RhbCkpe3ZhciBvPWUmJmUudXNlciYmZS51c2VyLmVtYWlsX2NvbmZpcm1hdGlvbl9yZXF1aXJlZCxpPU8udmVyaWZpY2F0aW9uX2NvZGU7b3x8aT9kLmhpZGVDbG9zZUJ1dHRvbigpOkZlKCl9cmV0dXJuIHJ9LE9lPWZ1bmN0aW9uKCl7cmV0dXJuIFFlKCk/ISFwbi5leHRlcm5hbEpXVDohIVRlKCl9LFJlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LHIpe3Uuc3RhcnRDYWxsKFwicmVmcmVzaFVzZXJUb2tlblwiKTt2YXIgbz1mdW5jdGlvbihlKXt2YXIgbj12b2lkIDA9PT1lP3t9OmUsbz1uLmlzU3VjY2Vzc2Z1bCxpPW4uZ21TU09FbmFibGVkO28/dChudWxsKTpyKCksdS5kb25lQ2FsbChcInJlZnJlc2hVc2VyVG9rZW5cIiksbyYmKEQ9aSkmJiFYZSgpJiZ6KHtzY3JlZW46XCJzc29fY29uZmlybVwifSl9LGk9ZnVuY3Rpb24odCl7IXQuZXJyb3ImJnQuYWNjZXNzX3Rva2VuP01lKHt0b2tlbjp0LmFjY2Vzc190b2tlbix1c2VyOmwodC5hY2Nlc3NfdG9rZW4pLGNvb2tpZV9kb21haW46dC5zaXRlX2Nvb2tpZV9kb21haW4sZXh0ZW5kRXhwaXJlZEFjY2Vzc0VuYWJsZWQ6dC5leHRlbmRfZXhwaXJlZF9hY2Nlc3NfZW5hYmxlZH0sZSxuKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBvKHtpc1N1Y2Nlc3NmdWw6ITAsZ21TU09FbmFibGVkOnQuYXV0aG9yaXplZF9ieV9zc299KX0pKTooRWUoQWUoKSksbyh7aXNTdWNjZXNzZnVsOiExfSkpfSxhPUFlKCl8fHZvaWQgMCxzPXtjbGllbnRfaWQ6Ty5haWR8fHBuLmFpZCxzaXRlOmRvY3VtZW50LmxvY2F0aW9uLm9yaWdpbnx8ZG9jdW1lbnQubG9jYXRpb24uaHJlZn0sZD1MZSgpO2QmJihzLnRjZj1kKSxhP2MucmVxdWVzdCh7dXJsOmhlKCkrXCJhcGkvdjEvaWRlbnRpdHkvdG9rZW4vdmFsaWRhdGlvblwiLGRhdGE6cyxoZWFkZXJzOntBdXRob3JpemF0aW9uOmF9LHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7aShlKSxlLmFjY2Vzc190b2tlbiYmTmUoZCl9LGVycm9yOm99KTpjLnJlcXVlc3Qoe3VybDpoZSgpK1wiYXBpL3YxL2lkZW50aXR5L3Rva2VuL3ZlcmlmeVwiLGRhdGE6cyxzdWNjZXNzOmZ1bmN0aW9uKGUpe2koZSksZS5hY2Nlc3NfdG9rZW4mJk5lKGQpfSxlcnJvcjpvLGRhdGFUeXBlOlwianNvbnBcIix4aHJGaWVsZHM6e3dpdGhDcmVkZW50aWFsczohMH0sY3Jvc3NEb21haW46ITB9KSxzZXRUaW1lb3V0KG8sMTAqVCl9KSl9LExlPWZ1bmN0aW9uKCl7dmFyIGUsbj13aW5kb3c7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiExO3ZhciBuPWU7aWYoIW58fCFuLnRjU3RyaW5nfHwhbi5kYXRlKXJldHVybiExO3ZhciB0PW5ldyBEYXRlLHI9bmV3IERhdGUobi5kYXRlKSxvPU1hdGguYWJzKHIuZ2V0VGltZSgpLXQuZ2V0VGltZSgpKTtyZXR1cm4gTWF0aC5jZWlsKG8vODY0ZTUpPD0xfSh3LmdldChBKSk/bnVsbDooZT1udWxsLG4uX190Y2ZhcGkmJm4uX190Y2ZhcGkoXCJnZXRUQ0RhdGFcIiwyLChmdW5jdGlvbihuLHQpe3QmJm4udGNTdHJpbmcmJihlPW4udGNTdHJpbmcpfSksWzQxMl0pLGUpfSxOZT1mdW5jdGlvbihlKXtpZihlKXt2YXIgbj17ZGF0ZToobmV3IERhdGUpLnRvU3RyaW5nKCksdGNTdHJpbmc6ZX07dy5zZXQoQSxKU09OLnN0cmluZ2lmeShuKSl9fSxVZT1mdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7Yy5yZXF1ZXN0KHt1cmw6aGUoKStcImFwaS92MS9pZGVudGl0eS9sb2dvdXRcIixkYXRhOntjbGllbnRfaWQ6Ty5haWR8fHBuLmFpZH0sZGF0YVR5cGU6XCJqc29ucFwiLGNvbXBsZXRlOmUseGhyRmllbGRzOnt3aXRoQ3JlZGVudGlhbHM6ITB9LGNyb3NzRG9tYWluOiEwfSksc2V0VGltZW91dChlLFQpfSkpfSxqZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe3ZhciB0PSEoZSYmZS51c2VyJiZlLnVzZXIucmVtZW1iZXJNZXx8SGUoKSk7Yy5yZXF1ZXN0KHt1cmw6aGUoKStcImFwaS92MS9pZGVudGl0eS92eGF1dGgvY29va2llXCIsZGF0YTp7Y2xpZW50X2lkOk8uYWlkfHxwbi5haWQsc2Vzc2lvbl9jb29raWU6dH0saGVhZGVyczp7QXV0aG9yaXphdGlvbjplLnRva2VufHx2b2lkIDB9LGNvbXBsZXRlOm59KSxzZXRUaW1lb3V0KG4sVCl9KSl9LERlPWZ1bmN0aW9uKGUsbil7ZSYmKG4/ZS5jbG9zZWR8fChlLmNsb3NlZD0hMCxcImlubGluZVwiPT09ZS5jb25maWcuZGlzcGxheU1vZGU/cy5lbXB0eShlLmNvbnRhaW5lcik6XCJwb3B1cFwiPT09ZS5jb25maWcuZGlzcGxheU1vZGU/ZS5jb250YWluZXIuY2xvc2UoKTpcIm1vZGFsXCI9PT1lLmNvbmZpZy5kaXNwbGF5TW9kZSYmKENlKCkscy5yZW1vdmUoZS5jb250YWluZXIucGFyZW50RWxlbWVudCkpLEQmJkFlKCkmJiRlKCkpOihwLnNlbmQoXCJjbG9zZVwiLHt9LGUuaWZyYW1lSWQpLFI9Ui5maWx0ZXIoKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlmcmFtZUlkIT09ZS5pZnJhbWVJZH0pKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe0RlKGUsITApfSksNjAwKSkpfSxGZT1mdW5jdGlvbigpe1IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7RGUoZSl9KSksUj1bXX0sQmU9ZnVuY3Rpb24oZSxuKXt2YXIgdD1JZSgpO3QuZXhwaXJlcz0zMCx1Ll9fcHJvdGVjdGVkX18uc2V0Q29va2llKGssZSx0KSxufHxSLmZvckVhY2goKGZ1bmN0aW9uKG4pe3Auc2VuZChcImxhbmdcIix7bGFuZzplfSxuLmlmcmFtZUlkKX0pKSxPYmplY3Qua2V5cyhMLmxhbmdDaGFuZ2VGcm9tSWZyYW1lKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgdD1MLmxhbmdDaGFuZ2VGcm9tSWZyYW1lW25dO3AuX19wcm90ZWN0ZWRfXy5pc0lmcmFtZU1hbmFnZWQobikmJnQ/dChlKTpkZWxldGUgTC5sYW5nQ2hhbmdlRnJvbUlmcmFtZVtuXX0pKSxpZShcImxhbmdDaGFuZ2VcIixlKX0sVmU9ZnVuY3Rpb24oKXtyZXR1cm4gcG4ubG9jYWxlfHx1Ll9fcHJvdGVjdGVkX18uZ2V0Q29va2llKGspfHxcIlwifSxxZT1mdW5jdGlvbihlKXt1Ll9fcHJvdGVjdGVkX18uc2V0Q29va2llKEMsMSxlKX0semU9ZnVuY3Rpb24oZSl7ZSYmYS5yZW1vdmUoQyxlKX0sSGU9ZnVuY3Rpb24oKXtyZXR1cm4hIXUuX19wcm90ZWN0ZWRfXy5nZXRDb29raWUoQyl9LFdlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7dmFyIHQ9T2JqZWN0LmFzc2lnbih7fSxPLGUpO2MucmVxdWVzdCh7dXJsOmhlKCkrXCJhcGkvdjEvaWRlbnRpdHkvdXNlcmluZm9cIixkYXRhOntjbGllbnRfaWQ6Ty5haWR8fHBuLmFpZCxmb3JtX25hbWU6dC5mb3JtTmFtZX0saGVhZGVyczp7QXV0aG9yaXphdGlvbjpBZSgpfHx2b2lkIDB9LHN1Y2Nlc3M6bixjb21wbGV0ZTpmdW5jdGlvbigpe3JldHVybiBuKG51bGwpfX0pLHNldFRpbWVvdXQobiwxMCpUKX0pKX0sSmU9ZnVuY3Rpb24oZSxuLHQpe2oucHVzaCh7dHlwZTp0LG5hbWU6ZSxkYXRhOm59KX0sR2U9ZnVuY3Rpb24oZSxuKXtNLmluY2x1ZGVzKGUpP2QudHVybk9uUlRMKG4pOmQudHVybk9mZlJUTChuKX0sUWU9ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXBuLnVzZVBpYW5vSWRMaXRlVXNlclByb3ZpZGVyfHxcInN0cmluZ1wiPT10eXBlb2YgcG4udXNlUGlhbm9JZExpdGVVc2VyUHJvdmlkZXImJlwidHJ1ZVwiPT09cG4udXNlUGlhbm9JZExpdGVVc2VyUHJvdmlkZXJ9LFhlPWZ1bmN0aW9uKCl7cmV0dXJuISF3LmdldChcInBpYW5vLWlkLWluaXRpYWwtZ20tc3NvLXNob3duLVwiKyhPLmFpZHx8cG4uYWlkKSl9LCRlPWZ1bmN0aW9uKCl7dy5zZXQoXCJwaWFuby1pZC1pbml0aWFsLWdtLXNzby1zaG93bi1cIisoTy5haWR8fHBuLmFpZCksXCIxXCIpfSxZZT1mdW5jdGlvbigpe3cucmVtb3ZlKFwicGlhbm8taWQtaW5pdGlhbC1nbS1zc28tc2hvd24tXCIrKE8uYWlkfHxwbi5haWQpKX07cmV0dXJue25hbWU6XCJwaWFub0lkXCIsaXN2OiExLGluaXQ6cSxwcmVwYXJlOmZ1bmN0aW9uKCl7cmV0dXJuIFYoKX0sc2hvdzp6LHNob3dGb3JtOmZ1bmN0aW9uKGUpe3EoKS50aGVuKChmdW5jdGlvbigpe3ZhciB0PU9iamVjdC5hc3NpZ24oe30sTyxlLHtpc1JlZ2lzdHJhdGlvbjohMX0pO2lmKCF0LmZvcm1OYW1lKXRocm93IG5ldyBFcnJvcignRm9ybSBuYW1lIHNob3VsZCBiZSBzcGVjaWZpZWQsIGxpa2VcXG50cC5waWFub3NJZC5zaG93Rm9ybSh7Zm9ybU5hbWU6IFwiLi4uXCJ9KTsnKTt2YXIgcj1mdW5jdGlvbigpe2lmKG4pdS5sb2coXCJNb2RhbCBsb2dpbiB3aW5kb3cgYWxyZWFkeSBzaG93blwiKTtlbHNle2lmKHNlKHQpLGFlKGUpLCF0LnByZXZpZXcmJm8pcmV0dXJuIHZvaWQgdS5sb2coXCJTa2lwIHNob3cgZm9ybSwgcmVnaXN0ZXIgbmV3IHVzZXJcIik7aWYoIXQuaGlkZUlmQ29tcGxldGUpcmV0dXJuIE9iamVjdC5hc3NpZ24odCx7cmVhZHlDYWxsYmFjazpmdW5jdGlvbihlKXtwLnNlbmQoXCJzZXRUb2tlblwiLEFlKCksZS5pZnJhbWVJZCl9fSksX2UodCk7V2UodCkudGhlbigoZnVuY3Rpb24oZSl7aWYoZSYmZS5oYXNfYWxsX2N1c3RvbV9maWVsZF92YWx1ZXNfZmlsbGVkJiZ0LmhpZGVJZkNvbXBsZXRlKXUubG9nKFwiU2tpcCBzaG93IGZvcm0sIGFsbCBmaWVsZHMgYXJlIGNvbXBsZXRlZFwiKTtlbHNle3ZhciBuPU9iamVjdC5hc3NpZ24oe30sdCx7cmVhZHlDYWxsYmFjazpmdW5jdGlvbihuKXtwLnNlbmQoXCJ1c2VyRGF0YVwiLGUsbi5pZnJhbWVJZCl9fSk7X2Uobil9fSkpfX07aWYoZS5wcmV2aWV3fHxPZSgpKXIoKTtlbHNle3ZhciBpPU9iamVjdC5hc3NpZ24oe30sZSx7Y2xvc2VkQ2FsbGJhY2s6ZnVuY3Rpb24oKXtPZSgpJiZyKCl9fSk7eihpKX19KSl9LGNoZWNrQW5kU2hvd0VtYWlsSXNOb3RDb25maXJtZWQ6SCxzaG93RW1haWxDb25maXJtYXRpb25SZXF1aXJlZDpmdW5jdGlvbihlKXtuP3UubG9nKFwiTW9kYWwgd2luZG93IGFscmVhZHkgc2hvd25cIik6cSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIG49T2JqZWN0LmFzc2lnbih7c2NyZWVuOlwiZW1haWxfY29uZmlybWF0aW9uX3JlcXVpcmVkXCJ9LE8sZSk7YWUoZSksc2UobiksX2Uobil9KSl9LHN1Ym1pdExvZ2luRm9ybTpmdW5jdGlvbigpe3Auc2VuZChcInN1Ym1pdExvZ2luRm9ybVwiLG51bGwsbnVsbD09bj92b2lkIDA6bi5pZnJhbWVJZCl9LGxvZ2luQnlUb2tlbjpmdW5jdGlvbihlKXt2YXIgbj1sKGUpO01lKHt1c2VyOm4sdG9rZW46ZX0pfSxsb2dvdXQ6dWUsZ2V0VG9rZW46QWUsZ2V0VXNlcjpUZSxsb2FkRXh0ZW5kZWRVc2VyOmZ1bmN0aW9uKGUpe3ZhciBuPU9iamVjdC5hc3NpZ24oe30sTyxlKTtXZShuKS50aGVuKChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QuYXNzaWduKHt9LGUpO2UmJkFycmF5LmlzQXJyYXkoZS5jdXN0b21fZmllbGRfdmFsdWVzKSYmKGUuY3VzdG9tX2ZpZWxkX3ZhbHVlcz1lLmN1c3RvbV9maWVsZF92YWx1ZXMubWFwKChmdW5jdGlvbihlKXt2YXIgbjt0cnl7bj1KU09OLnBhcnNlKGUudmFsdWUpfWNhdGNoKHQpe249ZS52YWx1ZX1yZXR1cm57ZmllbGRfbmFtZTplLmZpZWxkX25hbWUsdmFsdWU6bixjcmVhdGVkOmUuY3JlYXRlZH19KSkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4uZXh0ZW5kZWRVc2VyTG9hZGVkJiZuLmV4dGVuZGVkVXNlckxvYWRlZCh0KSxvZShcImV4dGVuZGVkVXNlckxvYWRlZFwiLHQpfSkpfSxnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuXCJwaWFub19pZFwifSxpc0NvbmZpZ3VyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXBuLnVzZVBpYW5vSWRVc2VyUHJvdmlkZXJ8fFwic3RyaW5nXCI9PXR5cGVvZiBwbi51c2VQaWFub0lkVXNlclByb3ZpZGVyJiZcInRydWVcIj09PXBuLnVzZVBpYW5vSWRVc2VyUHJvdmlkZXJ9LG9uTG9naW5TdWNjZXNzOmZ1bmN0aW9uKGUpe2lmKCFpKXtpPSEwO3ZhciBuPXtzb3VyY2U6ZS5zb3VyY2UsdG9rZW46ZS51c2VyX3Rva2VuLHVzZXI6ZS5wYXJhbXMsY29va2llX2RvbWFpbjplLmNvb2tpZV9kb21haW4sc3RhZ2U6ZS5zdGFnZX07dS5zZXRBY2Nlc3NUb2tlbkxpc3RDb29raWUoe3ZhbHVlOmUudG9rZW5fbGlzdCxjb29raWVfZG9tYWluOmUuY29va2llX2RvbWFpbn0sZS51c2VyX3Rva2VuKSxNZShuKS50aGVuKChmdW5jdGlvbigpe2k9ITF9KSl9fSxvblByb2ZpbGVVcGRhdGU6ZnVuY3Rpb24oZSxuKXt2YXIgdD17dG9rZW46ZS50b2tlbix1c2VyOmUudXNlcixjb29raWVfZG9tYWluOmUuY29va2llX2RvbWFpbn07TWUodCwhMCkudGhlbigoZnVuY3Rpb24oKXtuKCksZnVuY3Rpb24oZSl7cmUoXCJwcm9maWxlVXBkYXRlXCIsZSl9KHQpfSkpfSxvbkV4dGVuZGVkVXNlckxvZ2luUmVxdWlyZWQ6ZnVuY3Rpb24oKXtXKCl9LGlzVXNlclZhbGlkOk9lLHNldENhbGxiYWNrczphZSxnZXRJZnJhbWVVcmw6ZnVuY3Rpb24oKXtyZXR1cm4gaGUoKX0sdXBkYXRlTGFuZzpCZSxvbkxhbmdDaGFuZ2U6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gTC5sYW5nQ2hhbmdlRnJvbUlmcmFtZVtuXT1lLGZ1bmN0aW9uKCl7ZGVsZXRlIEwubGFuZ0NoYW5nZUZyb21JZnJhbWVbbl19fSxnZXRMYW5nOlZlLGlzQW90OmZ1bmN0aW9uKCl7Ui5mb3JFYWNoKChmdW5jdGlvbihlKXtwLnNlbmQoXCJpc0FPVFwiLHt9LGUuaWZyYW1lSWQpfSkpfSxyZWdpc3RlckNhbGxiYWNrOmZ1bmN0aW9uKGUsbil7VVtlXT1VW2VdfHxbXSxVW2VdLnB1c2gobil9LHNldFJlcXVlc3RUaW1lb3V0OmNlLF9fcHJvdGVjdGVkX186e29mZmVyTWVzc2FnZVJlY2VpdmVyOmZ1bmN0aW9uKGUpe3N3aXRjaChlLnBhcmFtcy5ldmVudCl7Y2FzZVwiY2ZBcHBJbXByZXNzaW9uXCI6Y2FzZVwiY2ZGb3JtSW1wcmVzc2lvblwiOmYuX19wcm90ZWN0ZWRfXy5sb2dDdXN0b21Gb3JtSW1wcmVzc2lvbihlLnBhcmFtcy50cmFja2luZ0lkLGUucGFyYW1zLnRyYWNraW5nSWQsRSk7YnJlYWs7Y2FzZVwiY2ZGb3JtU3VibWlzc2lvblwiOmYuX19wcm90ZWN0ZWRfXy5sb2dDdXN0b21Gb3JtU3VibWlzc2lvbihlLnBhcmFtcy50cmFja2luZ0lkLGUucGFyYW1zLnRyYWNraW5nSWQsRSk7YnJlYWs7Y2FzZVwiY2hhbmdlU2NyZWVuXCI6dGUoZS5wYXJhbXMucGFyYW1zLnNjcmVlbiwhMCk7YnJlYWs7Y2FzZVwibG9naW5GYWlsZWRcIjpjYXNlXCJyZWdpc3RyYXRpb25GYWlsZWRcIjpjYXNlXCJyZWdpc3RyYXRpb25TdWNjZXNzXCI6Y2FzZVwiY3VzdG9tRXZlbnRcIjppZShlLnBhcmFtcy5ldmVudCxlLnBhcmFtcy5wYXJhbXMsITApO2JyZWFrO2Nhc2VcImVtaXRHQUV2ZW50XCI6Zy5lbWl0RXZlbnQoZS5wYXJhbXMucGFyYW1zKTticmVhaztkZWZhdWx0OnJldHVybiB2b2lkIHUuZGVidWcoXCJSZWNlaXZlZCBpbnZhbGlkIGV2ZW50IHR5cGU6IFwiK2UucGFyYW1zLmV2ZW50KX19LHNob3dFbWFpbENvbmZpcm1hdGlvbjpmdW5jdGlvbihlKXtuP3UubG9nKFwiTW9kYWwgd2luZG93IGFscmVhZHkgc2hvd25cIik6cSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIG49T2JqZWN0LmFzc2lnbih7c2NyZWVuOlwiZW1haWxfY29uZmlybWF0aW9uXCJ9LE8sZSk7YWUoZSksc2UobiksX2Uobil9KSl9LGNoZWNrQW5kU2hvd0VtYWlsSXNOb3RDb25maXJtZWQ6SCxjbG9zZU1vZGFsQ29udGFpbmVyOkNlLGV4ZWN1dGVQb3N0TWVzc2FnZXNCYXRjaDpmdW5jdGlvbigpe2Zvcig7ai5sZW5ndGg7KXt2YXIgZT1qLnBvcCgpO1wiYnJvYWRjYXN0XCI9PT1lLnR5cGU/cC5icm9hZGNhc3QoZS5uYW1lLGUuZGF0YSk6cC5zZW5kKGUubmFtZSxlLmRhdGEpfX19LF9fcHJpdmF0ZV9fOntwcmVwYXJlQ29uZmlnOnNlLGV4dGVuZFVzZXJUb2tlbjpmdW5jdGlvbigpe3ZhciBlPVBlKCk7aWYoZSl7dmFyIG49KG5ldyBEYXRlKS5nZXRUaW1lKCksdD11Ll9fcHJvdGVjdGVkX18uZ2V0Q29va2llKEkpLHI9bi1sKGUpLmxvZ2luX3RpbWVzdGFtcD44NjRlNTt0JiZyJiZSZSghMSwhMCl9fSxzZXRSZXF1ZXN0VGltZW91dDpjZX19fTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJwaWFub0lkXCIse3VzZVZhbHVlOnFlKCl9KSxwbi5waWFub0lkPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicGlhbm9JZFwiKTt2YXIgemU9ZnVuY3Rpb24oKXt2YXIgZT1wbi5jb250YWluZXIucmVzb2x2ZShcInV0aWxcIiksbj1wbi5jb250YWluZXIucmVzb2x2ZShcInBpYW5vSWRcIiksdD1wbi5jb250YWluZXIucmVzb2x2ZShcImV2ZW50VXRpbHNcIikuY3JlYXRlRXZlbnRNYW5hZ2VyKFtcInVzZXJDaGFuZ2VkXCIsXCJvbkhpZGVcIl0pLHI9ZS5nZXRBaWRTcGVjaWZpZWROYW1lKFwiX191dHBcIiksbz1mdW5jdGlvbigpe3JldHVybiBwbi5leHRlcm5hbEpXVHx8aSgpfSxpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuZmluZENvb2tpZUJ5TmFtZShyKXx8bnVsbH07cmV0dXJue25hbWU6XCJwaWFub0lkTGl0ZVwiLGlzdjohMSxpc0NvbmZpZ3VyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXBuLnVzZVBpYW5vSWRMaXRlVXNlclByb3ZpZGVyfHxcInN0cmluZ1wiPT10eXBlb2YgcG4udXNlUGlhbm9JZExpdGVVc2VyUHJvdmlkZXImJlwidHJ1ZVwiPT09cG4udXNlUGlhbm9JZExpdGVVc2VyUHJvdmlkZXJ9LGlzVXNlclZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuISFvKCl9LGdldFRva2VuOm8sZ2V0TmFtZTpmdW5jdGlvbigpe3JldHVyblwicGlhbm9faWRfbGl0ZVwifSxvbkxvZ2luU3VjY2VzczpmdW5jdGlvbihuKXtlLnNldEFjY2Vzc1Rva2VuTGlzdENvb2tpZSh7dmFsdWU6bi50b2tlbl9saXN0LGNvb2tpZV9kb21haW46bi5jb29raWVfZG9tYWlufSxuLnVzZXJfdG9rZW4pfSxyZWdpc3RlckNhbGxiYWNrOmZ1bmN0aW9uKGUsbil7dC5hZGRFdmVudChlKSx0LnJlZ2lzdGVyQ2FsbGJhY2soZSxuKX0sbG9naW5CeVRva2VuOmZ1bmN0aW9uKGUpe24ubG9naW5CeVRva2VuKGUpfSxsb2dvdXQ6ZnVuY3Rpb24obil7ZS53YWl0Q2FsbChcInJlZnJlc2hVc2VyVG9rZW5cIiwoZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuKCl9KSl9fX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJwaWFub0lkTGl0ZVwiLHt1c2VWYWx1ZTp6ZX0pLHBuLnBpYW5vSWRMaXRlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicGlhbm9JZExpdGVcIik7dmFyIEhlPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXBuLmNvbnRhaW5lcik7dmFyIG49ZS5yZXNvbHZlKFwiYXBpXCIpLHQ9ZS5yZXNvbHZlKFwidXRpbFwiKSxyPWUucmVzb2x2ZShcImphbnJhaW5cIiksbz1lLnJlc29sdmUoXCJ0aW55cGFzc0FjY291bnRzXCIpLGk9ZS5yZXNvbHZlKFwiY29uZGVVc2VyUHJvdmlkZXJcIiksYT1lLnJlc29sdmUoXCJnaWd5YVwiKSxzPWUucmVzb2x2ZShcInBpYW5vSWRcIiksYz1lLnJlc29sdmUoXCJwaWFub0lkTGl0ZVwiKSxsPWUucmVzb2x2ZShcImV2ZW50VXRpbHNcIikuY3JlYXRlRXZlbnRNYW5hZ2VyKFtdKSx1PXtpc3Y6ITEsZ2V0TmFtZTpmdW5jdGlvbigpe3JldHVyblwicHVibGlzaGVyX3VzZXJfcmVmXCJ9LGdldFRva2VuOmZ1bmN0aW9uKCl7cmV0dXJuIHBuLnVzZXJSZWY/cG4udXNlclJlZi5jb25zdHJ1Y3Rvcj09PVwiXCIuY29uc3RydWN0b3I/cG4udXNlclJlZjpwbi51c2VyUmVmLmNvbnN0cnVjdG9yPT09e30uY29uc3RydWN0b3I/XCJ7am94fVwiK0pTT04uc3RyaW5naWZ5KHBuLnVzZXJSZWYpOnBuLnVzZXJSZWY6bnVsbH0saXNVc2VyVmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4hISh2b2lkIDAhPT1wbi51c2VyUmVmJiZwbi51c2VyUmVmJiZwbi51c2VyUmVmLmxlbmd0aD4wKX0sb25Mb2dpblN1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5zZXRBY2Nlc3NUb2tlbkxpc3RDb29raWUoe3ZhbHVlOmUudG9rZW5fbGlzdCxjb29raWVfZG9tYWluOmUuY29va2llX2RvbWFpbn0sZS51c2VyX3Rva2VuKX0sbG9nb3V0OmZ1bmN0aW9uKGUpe3Quc2V0QWNjZXNzVG9rZW5MaXN0Q29va2llKCksZSYmZSgpfX0sZD1mdW5jdGlvbigpe3ZhciBlPVtyLG8saSxhLHMsY10uZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNDb25maWd1cmVkKCkmJiFlLmlzdn0pKTtyZXR1cm4gZXx8dX07cmV0dXJue25hbWU6XCJ1c2VyXCIsZ2V0UHJvdmlkZXI6ZCxwcm92aWRlckluaXQ6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZSYmZXx8KGU9ZnVuY3Rpb24oKXt9KTt2YXIgbj1kKCk7XCJmdW5jdGlvblwiPT10eXBlb2Ygbi5wcmVwYXJlP1wicHJlcGFyZVwiaW4gbiYmbi5wcmVwYXJlKCkudGhlbihlLGUpOmUoKX0scmVmcmVzaEFjY2Vzc1Rva2VuOmZ1bmN0aW9uKGUscil7dm9pZCAwIT09ciYmcnx8KHI9ZnVuY3Rpb24oKXt9KTt2YXIgbz0hMTtpZih2b2lkIDAhPT1lJiZlKW89ITA7ZWxzZXt2YXIgaT10Ll9fcHJvdGVjdGVkX18uZ2V0Q29va2llKFwiX190YWVcIik7aWYodm9pZCAwIT09aSYmaSl7dmFyIGE9bmV3IERhdGUocGFyc2VJbnQoaSkpOyhuZXcgRGF0ZSkuZ2V0VGltZSgpLWEuZ2V0VGltZSgpPjg2NGU1JiYobz0hMCl9ZWxzZSBvPSEwfW8/dC53YWl0Q2FsbChcInJlZnJlc2hVc2VyVG9rZW5cIiwoZnVuY3Rpb24oKXt0LndhaXRDYWxsKFwib2ZmZXJDcmVhdGVcIiwoZnVuY3Rpb24oKXt0LndhaXRDYWxsKFwiZXhwZXJpZW5jZUV4ZWN1dGVcIiwoZnVuY3Rpb24oKXtpZihkKCkuaXNVc2VyVmFsaWQoKSl7dC5zdGFydENhbGwoXCJyZWZyZXNoQWNjZXNzVG9rZW5MaXN0XCIpO3ZhciBlPXt1cmw6dC5wcmVwYXJlVXJsUGFyYW1ldGVyKHdpbmRvdy5sb2NhdGlvbi5ocmVmKX07bi5jYWxsQXBpKFwiL2FjY2Vzcy90b2tlbi9saXN0XCIsZSwoZnVuY3Rpb24oZSl7dC5kb25lQ2FsbChcInJlZnJlc2hBY2Nlc3NUb2tlbkxpc3RcIiksdm9pZCAwIT09ZS5hY2Nlc3NfdG9rZW5fbGlzdD8odC5zZXRBY2Nlc3NUb2tlbkxpc3RDb29raWUoZS5hY2Nlc3NfdG9rZW5fbGlzdCksciYmcihlLmFjY2Vzc190b2tlbl9saXN0LnZhbHVlKSk6ciYmcihudWxsKX0pLHZvaWQgMCx2b2lkIDAsITApfWVsc2UgciYmcihcIlwiKX0pKX0pKX0pKTpyKG51bGwpfSxzaG93TG9naW46ZnVuY3Rpb24oZSl7dmFyIG49ZCgpLmdldE5hbWUoKTtpZihcInRpbnlwYXNzX2FjY291bnRzXCI9PT1uKW8ubG9naW4oZSk7ZWxzZSBpZihcInBpYW5vX2lkXCI9PT1uKXt2YXIgdD1lfHx7fTtzLnNob3codCl9ZWxzZVwicHVibGlzaGVyX3VzZXJfcmVmXCI9PT1uJiZsLmZpcmVDYWxsYmFja3MoXCJsb2dpblJlcXVpcmVkXCIse30sdm9pZCAwLCEwKX0saXNVc2VyVmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZCgpLmlzVXNlclZhbGlkKCl9LGxvZ291dDpmdW5jdGlvbihlLG4pe2QoKS5sb2dvdXQoZSxuKX0scmVnaXN0ZXJDYWxsYmFjazpmdW5jdGlvbihlLG4pe2wuYWRkRXZlbnQoZSksbC5yZWdpc3RlckNhbGxiYWNrKGUsbil9LGdldFVzZXJJbmZvUGFyYW1zOmZ1bmN0aW9uKGUpe3ZhciBuPWUudXNlclRva2VuO2lmKCFuKXt2YXIgcj1kKCkuZ2V0VG9rZW4oKTtuPXImJnIubGVuZ3RoPjA/cjpcIlwifXJldHVybnt1c2VyX3Rva2VuOm4sdXNlcl9sYW5nOnQuX19wcm90ZWN0ZWRfXy5nZXRDb29raWUoXCJMQU5HXCIpfHxcIlwiLGlzX3ByZXZpZXc6ZS5wcmV2aWV3LGlzX25vbl9sb2dnZWRfdXNlcjplLnByZXZpZXdOb25Mb2dnZWRVc2VyfX19fTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJ1c2VyXCIse3VzZVZhbHVlOkhlKCl9KSxwbi51c2VyPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXNlclwiKTt2YXIgV2U9ZnVuY3Rpb24oKXt2YXIgZT1wbi5jb250YWluZXIucmVzb2x2ZShcImpxVXRpbHNcIiksbj1wbi5jb250YWluZXIucmVzb2x2ZShcInV0aWxcIiksdD1cInZpZXdwb3J0LWV4aXQtYWN0aXZhdGVkXCIscj1cInZpZXdwb3J0LWV4aXQtcHJlcGFyZWRcIixvPSExLGk9ITEsYT0wLHM9MCxjPVtcInRvcFwiLFwicmlnaHRcIixcImJvdHRvbVwiLFwibGVmdFwiXSxsPSEwLHU9ITEsZD0hMSxwPVtdLGY9e3RvcDp7dmlzaXRlZDohMSx2YWx1ZToxfSxyaWdodDp7dmlzaXRlZDohMSx2YWx1ZToyfSxib3R0b206e3Zpc2l0ZWQ6ITEsdmFsdWU6NH0sbGVmdDp7dmlzaXRlZDohMSx2YWx1ZTo4fX0sbT0wLGc9ZnVuY3Rpb24oKXtpZighdSl7dT0hMCxtPTA7dmFyIG49Lyg/OkZpcmVmb3h8U2FmYXJpKVtcXC9cXHNdKFxcZCtcXC5cXGQrKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT9kb2N1bWVudC5ib2R5OmRvY3VtZW50O2Uub24obixcIm1vdXNlbGVhdmVcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIHYoZSl9KSksZS5vbihkb2N1bWVudCxcIm1vdXNlbW92ZVwiLChmdW5jdGlvbihlKXtyZXR1cm4gaChlKX0pKX19O3ZhciB2PWZ1bmN0aW9uKHQpe3ZhciByLG8sbCx1LGQscCxnOyhyPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNsaWVudFg9PT1lLmNsaWVudFkmJmUuY2xpZW50WDwwJiZlLmNsaWVudFg+PS0xfSh0KT9cIlwiOihvPXQuY2xpZW50WCxsPXQuY2xpZW50WSx1PWUud2luU2l6ZSgpLGQ9dS53aWR0aCxwPXUuaGVpZ2h0LGc9XCJcIixvPj1kJiYoZz1cInJpZ2h0XCIpLGw+PXAmJihnPVwiYm90dG9tXCIpLG88PTAmJihnPVwibGVmdFwiKSxsPD0wJiYoZz1cInRvcFwiKSxnKSl8fChyPWZ1bmN0aW9uKCl7aWYoIWkpcmV0dXJuXCJcIjt2YXIgbj1lLndpblNpemUoKSx0PW4ud2lkdGgscj1uLmhlaWdodDtyZXR1cm4gY1tmdW5jdGlvbihlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuLTE7Zm9yKHZhciBuPWVbMF0sdD0wLHI9MTtyPGUubGVuZ3RoO3IrKyllW3JdPG4mJih0PXIsbj1lW3JdKTtyZXR1cm4gdH0oW3MsdC1hLHItcyxhXSldfSgpLHJ8fG4uZGVidWcoXCJ2aWV3cG9ydEV4aXQ6IHRoZSBkZXRlY3Qgb2YgdGhlIGV4aXQgc2lkZSBmYWlsZWRcIikpLHImJmZ1bmN0aW9uKGUpey0xIT09Yy5pbmRleE9mKGUpP2ZbZV0udmlzaXRlZHx8KGZbZV0udmlzaXRlZD0hMCxtKz1mW2VdLnZhbHVlKTpuLmRlYnVnKFwidmlld3BvcnRFeGl0OiB0aGUgZGV0ZWN0IG9mIHRoZSBleGl0IHNpZGUgZmFpbGVkXCIpfShyKSx3KFwiYWxsXCIpLFwidG9wXCI9PT1yJiZ3KFwidG9wXCIpfSxoPWZ1bmN0aW9uKGUpe2k9ITAscz1lLmNsaWVudFksYT1lLmNsaWVudFh9LHc9ZnVuY3Rpb24oZSl7aWYobCl7Zm9yKHZhciB0LHI9W10sbz1bXSxpPTA7aTxwLmxlbmd0aDtpKyspKCh0PXBbaV0pLmRldGVjdEV4aXRNb2RlPT09ZXx8XCJiYWNrXCI9PT1lJiZ0LmRldGVjdEJhY2tCdXR0b25Gb3JNb2JpbGUpJiZ0LmNvbnN1bWVFdmVudEZuKCk/ci5wdXNoKHQpOm8ucHVzaCh0KTtyLmxlbmd0aCYmbi5kZWJ1ZyhcInZpZXdwb3J0RXhpdDogbGlzdGVuZXJzIHdhcyBydW4gZmlyZSB3aXRoIHR5cGU6IFwiLGUpLHA9bztmb3IoaT0wO2k8ci5sZW5ndGg7aSsrKSh0PXJbaV0pLmNhbGxiYWNrKCl9fTtyZXR1cm57bmFtZTpcInZpZXdwb3J0RXhpdFwiLGluaXRpYWxpemU6Zyxpc0luaXRpYWxpemVkOmZ1bmN0aW9uKCl7cmV0dXJuIHV9LGFkZExpc3RlbmVyOmZ1bmN0aW9uKGUsbixpKXtcIm1vYmlsZVwiIT09bi5jbGllbnREZXZpY2UmJlwidGFibGV0XCIhPT1uLmNsaWVudERldmljZXx8IW4uZGV0ZWN0QmFja0J1dHRvbkZvck1vYmlsZXx8ZnVuY3Rpb24oKXtpZighZCl7ZD0hMCx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsKGZ1bmN0aW9uKGUpe28mJmUuc3RhdGUmJmUuc3RhdGUucGlhbm9WaWV3cG9ydEV4aXRTdGF0ZT09PXQmJihvPSExLHcoXCJiYWNrXCIpKX0pKTt2YXIgZT13aW5kb3cuaGlzdG9yeS5zdGF0ZXx8e307ZSYmZS5waWFub1ZpZXdwb3J0RXhpdFN0YXRlIT09ciYmKGUucGlhbm9WaWV3cG9ydEV4aXRTdGF0ZSE9PXQmJihlLnBpYW5vVmlld3BvcnRFeGl0U3RhdGU9dCx3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoZSxkb2N1bWVudC50aXRsZSkpLHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7cGlhbm9WaWV3cG9ydEV4aXRTdGF0ZTpyfSxkb2N1bWVudC50aXRsZSkpLG89ITB9fSgpLGcoKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBpJiYoaT1mdW5jdGlvbigpe3JldHVybiEwfSkscC5wdXNoKHtjYWxsYmFjazplLGRldGVjdEV4aXRNb2RlOm4uZGV0ZWN0RXhpdE1vZGUsZGV0ZWN0QmFja0J1dHRvbkZvck1vYmlsZTpuLmRldGVjdEJhY2tCdXR0b25Gb3JNb2JpbGUsY29uc3VtZUV2ZW50Rm46aX0pfSxyZXNldFN1bU9mQ29kZXNEaXJlY3Rpb25Ub0RlZmF1bHQ6ZnVuY3Rpb24oKXttPTB9LGdldFN1bU9mQ29kZXNEaXJlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gbX0scmVtb3ZlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7cD1bXX0sZW5hYmxlOmZ1bmN0aW9uKCl7bD0hMH0sZGlzYWJsZTpmdW5jdGlvbigpe2w9ITF9fX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJ2aWV3cG9ydEV4aXRcIix7dXNlVmFsdWU6V2V9KSxwbi52aWV3cG9ydEV4aXQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJ2aWV3cG9ydEV4aXRcIik7dmFyIEplPWZ1bmN0aW9uKCl7dmFyIGU9cG4uY29udGFpbmVyLnJlc29sdmUoXCJwb3N0bWVzc2FnZVwiKSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiY29udGFpbmVyVXRpbHNcIiksdD1wbi5jb250YWluZXIucmVzb2x2ZShcInVzZXJcIikscj1wbi5jb250YWluZXIucmVzb2x2ZShcImFwaVwiKTtwbi5jb250YWluZXIucmVzb2x2ZShcInV0aWxcIik7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gYShlLFwiL2NoZWNrb3V0L3RlbXBsYXRlL3Nob3dcIil9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS5pbml0Q29udGV4dExvYWRQcm9taXNlPWZ1bmN0aW9uKGUsbil7ZS5jb250ZXh0TG9hZGluZ1Byb21pc2U9cyhlLG4pfSxhKGUsXCIvY2hlY2tvdXQvdGVtcGxhdGUvY2FjaGVhYmxlU2hvd1wiKX12YXIgYT1mdW5jdGlvbihlLG4pe3ZhciB0PXBuLmdldEVuZHBvaW50Um9vdCghMCkrbjtyZXR1cm4gZS5pZnJhbWVVcmw9dCxlLnBvc3RNZXNzYWdlVXJsPXQsZS53aWRnZXQ9XCJ0ZW1wbGF0ZVwiLHBuLm9mZmVyLmNyZWF0ZU9mZmVySWZyYW1lKGUpfSxzPWZ1bmN0aW9uKGUsbil7dmFyIG89dC5nZXRVc2VySW5mb1BhcmFtcyhlKTtyZXR1cm4gby50cmFja2luZ19pZD1lLnRyYWNraW5nSWQsby50ZW1wbGF0ZUlkPWUudGVtcGxhdGVJZCxvLnRlbXBsYXRlVmFyaWFudElkPWUudGVtcGxhdGVWYXJpYW50SWQsby5haWQ9cG4uYWlkLG8ucHJlbG9hZD1lLmlzUHJlbG9hZCxlLmFmZmlsaWF0ZVN0YXRlJiYoby5hZmZpbGlhdGVTdGF0ZT1KU09OLnN0cmluZ2lmeShlLmFmZmlsaWF0ZVN0YXRlKSksT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7b1tlXT1uW2VdfSkpLG5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe3IuY2FsbEFwaShcIi9hbm9uL3RlbXBsYXRlL2xvYWRUZW1wbGF0ZUNvbnRleHRcIixvLChmdW5jdGlvbih0KXt2YXIgcj10LmNvZGUsbz10LnRlbXBsYXRlQ29udGV4dCxpPXQubWVzc2FnZTswPT09cj9lKG8pOm4oaSl9KSx2b2lkIDAsdm9pZCAwLCEwKX0pKX0sYz1mdW5jdGlvbihlLG4pe3ZhciB0PXt9O3JldHVybltcImFpZFwiLFwidGVtcGxhdGVJZFwiLFwidGVtcGxhdGVWYXJpYW50SWRcIixcInByZXZpZXdUZW1wbGF0ZVZlcnNpb25cIixcInByZWxvYWRcIixcInByZXZpZXdcIixcInByZXZpZXdVbmNhY2hlZFwiLFwiZGVwbG95bWVudEl0ZW1JZFwiLFwiZ2FDbGllbnRJZFwiLFwienVvcmFTZWxlY3RlZFJhdGVQbGFuSWRzXCIsXCJuZXdzY3ljbGVTZWxlY3RlZElkc1wiLFwiYWRkTmV3c2xldHRlckFzc2V0c1wiLFwib2ZmZXJJZFwiLFwiZXhwZXJpZW5jZUlkXCIsXCJpZnJhbWVJZFwiLFwiZGlzcGxheU1vZGVcIixcImRlYnVnXCIsXCJwaWFub0lkVXJsXCIsXCJ3aWRnZXRcIixcInVybFwiXS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dJiYodFtuXT1lW25dKX0pKSxuLnBhcmFtKHQpfTtmdW5jdGlvbiBsKGUpe3BuLmdldENhY2hlYWJsZVNob3dUZW1wbGF0ZSgpPyghZnVuY3Rpb24oZSl7ZS5kZWZlcnJlZENvbnRleHRMb2FkaW5nPSEwLGUuYnVpbGRRdWVyeVN0cmluZ0ZuPWN9KGUpLGUuY3JlYXRlSWZyYW1lRm49aSk6ZS5jcmVhdGVJZnJhbWVGbj1vfXJldHVybntuYW1lOlwidGVtcGxhdGVcIixzaG93OmZ1bmN0aW9uKGUpe3JldHVybiBlLm9mZmVySWQ9bi5mYWtlT2ZmZXJJZCxlLnRyYWNrU3RhdHNPblNob3c9ITAsbChlKSxwbi5vZmZlci5zaG93KGUpfSxkZWZlcnJlZFNob3c6ZnVuY3Rpb24oZSl7cmV0dXJuIGUub2ZmZXJJZD1uLmZha2VPZmZlcklkLGwoZSkscG4ub2ZmZXIuZGVmZXJyZWRTaG93KGUpfSxjbG9zZTpmdW5jdGlvbigpe24uY2xvc2VNb2RhbENvbnRhaW5lcigpfSxjbG9zZUlubGluZTpmdW5jdGlvbihlKXtuLl9fcHJvdGVjdGVkX18uY2xvc2VJbmxpbmVDb250YWluZXJzKGUpfSxjcmVhdGVUZW1wbGF0ZUlmcmFtZTpvLHNob3dCYWNrZHJvcDpmdW5jdGlvbigpe24uc2hvd0JhY2tkcm9wKCl9LGhpZGVCYWNrZHJvcDpmdW5jdGlvbigpe24uaGlkZUJhY2tkcm9wKCl9LGNlbnRlckJhY2tkcm9wOmZ1bmN0aW9uKGUpe24uY2VudGVyQmFja2Ryb3AoZSl9LHJlZ2lzdGVyQ2FsbGJhY2s6ZnVuY3Rpb24oZSxuKXt9LHJlZnJlc2hVc2VyOmZ1bmN0aW9uKG4pe3QucmVmcmVzaEFjY2Vzc1Rva2VuKCEwLChmdW5jdGlvbigpe2Uuc2VuZChcImV4dGVybmFsTG9naW5TdWNjZXNzXCIse3VzZXJfdG9rZW46dC5nZXRQcm92aWRlcigpLmdldFRva2VuKCl9LG4pfSkpfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwidGVtcGxhdGVcIix7dXNlVmFsdWU6SmV9KSxwbi50ZW1wbGF0ZT1wbi5jb250YWluZXIucmVzb2x2ZShcInRlbXBsYXRlXCIpO3ZhciBHZT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT1wbi5jb250YWluZXIpO3ZhciBuLHQscj1lLnJlc29sdmUoXCJqcVV0aWxzXCIpLG89ZS5yZXNvbHZlKFwidXRpbFwiKSxpPWUucmVzb2x2ZShcInBvc3RtZXNzYWdlXCIpLGE9ZS5yZXNvbHZlKFwidXNlclwiKSxzPWUucmVzb2x2ZShcImNvbnRhaW5lclV0aWxzXCIpLGM9ZS5yZXNvbHZlKFwiZXZlbnRVdGlsc1wiKSxsPWUucmVzb2x2ZShcInZpZXdwb3J0RXhpdFwiKSx1PWUucmVzb2x2ZShcImdhU2VydmljZVwiKSxkPWUucmVzb2x2ZShcInNoYTFcIikscD1lLnJlc29sdmUoXCJsb2dnaW5nXCIpLGY9ZS5yZXNvbHZlKFwidGVtcGxhdGVcIiksbT17fSxnPTAsdj1cImNsb3NlXCIsaD1cIk9GRkVSXCIsdz0hMSx5PSExLGI9ITEsaz17fSxfPW5ldyBNYXAsQz17fSxJPVtcImhlX0lMXCIsXCJhcl9FR1wiXSxTPWMuY3JlYXRlRXZlbnRNYW5hZ2VyKFtcImNvbXBsZXRlXCIsXCJjYW5jZWxcIixcImNsb3NlXCIsXCJlcnJvclwiLFwibG9naW5SZXF1aXJlZFwiLFwibG9naW5TdWNjZXNzXCIsXCJsb2FkZWRcIixcImN1c3RvbUV2ZW50XCIsXCJzdGFydENoZWNrb3V0XCIsXCJyZXNpemVcIixcIm9uTWV0ZXJFeHBpcmVkXCIsXCJvbk1ldGVyQWN0aXZlXCIsXCJvbkFjY2Vzc0dyYW50ZWRcIixcIm9uU2hvd09mZmVyXCIsXCJwaWFub0lkRXZlbnRcIixcInBhcmVudFNpemVcIixcInJlZGVlbUNyZWRpdFwiLFwib25TdGFydENyZWRpdFJlZGVtcHRpb25cIl0pO3Muc2V0SWZyYW1lc1BvcHN0YXRlSGFuZGxlcnMoKTt2YXIgeD1mdW5jdGlvbigpe3JldHVybiBwbi5vZmZlckJhc2VVcmw/cG4ub2ZmZXJCYXNlVXJsOnBuLmdldEVuZHBvaW50Um9vdCgpK1wiL2NoZWNrb3V0L29mZmVyL3Nob3dcIn07ZnVuY3Rpb24gUChlLG4pe3ZhciBjPXMuZ2V0SWZyYW1lKGUuc2VuZGVyKSxkPSEwO3N3aXRjaChjJiZjLmNvbmZpZyYmKGQ9IWMuY29uZmlnLnBhcmVudCksZS5ldmVudCl7Y2FzZVwiaW5pdENvbnRleHRcIjppZihlLnBhcmFtcyYmZS5wYXJhbXMucmVzdWx0Q2FsbGJhY2tJZCl7dmFyIHA9e3Jlc3VsdENhbGxiYWNrSWQ6ZS5wYXJhbXMucmVzdWx0Q2FsbGJhY2tJZCxhZmZpbGlhdGVTdGF0ZTpjLmNvbmZpZy5hZmZpbGlhdGVTdGF0ZX07aS5zZW5kKFwicmVzdWx0Q2FsbGJhY2tcIixwLGUuc2VuZGVyKX1icmVhaztjYXNlXCJzdG9yZUN1c3RvbVZhcmlhYmxlc1wiOnRwLnNhdmVDdXN0b21WYXJpYWJsZXNUb0xvY2FsU3RvcmFnZSgzMDApO2JyZWFrO2Nhc2VcImZ1bGxSZWRpcmVjdFRocmVlRFNcIjp3aW5kb3cubG9jYXRpb24uaHJlZj1lLnBhcmFtcy5iYW5rU2VjdXJlVXJsO2JyZWFrO2Nhc2VcInJlc2l6ZVwiOmlmKGUucGFyYW1zLmlmcmFtZUlkPT09ZS5zZW5kZXIpe3ZhciBmPXZvaWQgMD09PWUucGFyYW1zLndpZHRoP3llKHllKHt9LGUucGFyYW1zKSx7d2lkdGg6ci5nZXRXaWR0aChjLmNvbnRhaW5lcil9KTplLnBhcmFtcztzLnJlc2l6ZUlmcmFtZShjLGYpLFwibW9kYWxcIj09PWMuY29uZmlnLmRpc3BsYXlNb2RlJiYoXCJib2lsZXJwbGF0ZVwiPT09ZS5wYXJhbXMuY2xvc2VCdXR0b25UeXBlJiZzLmhpZGVDbG9zZUJ1dHRvbihjLmNvbnRhaW5lcikscy5jZW50ZXJJdChjLmNvbnRhaW5lcikpLGkuc2VuZChcImFmdGVyUmVzaXplXCIse30sYy5pZnJhbWVJZCl9Uy5maXJlQ2FsbGJhY2tzKGUuZXZlbnQsZS5wYXJhbXMsZS5zZW5kZXIsZCk7YnJlYWs7Y2FzZVwic3RhcnRDaGVja291dFwiOmlmKGUucGFyYW1zLndpZHRoPW51bGwsXCJpbmxpbmVcIj09PWUuZGlzcGxheU1vZGUpe2UucGFyYW1zLmNsb3NlT25Mb2dvdXQ9ITA7dmFyIG09cShlLnBhcmFtcyxjLnN0YXRQYXJhbXMpO20uYnJvd3NlcklkPWMuYnJvd3NlcklkLG0uaXNPcGVuZWRGcm9tSW5saW5lQ2hlY2tvdXQ9ITAsSyhtLGUuc2VuZGVyKX1lLnBhcmFtcy5pZnJhbWVJZD09PWUuc2VuZGVyJiZTLmZpcmVDYWxsYmFja3MoZS5ldmVudCxlLnBhcmFtcyxlLnNlbmRlcixkKTticmVhaztjYXNlXCJsb2FkZWRcIjppZihlLnBhcmFtcy5pZnJhbWVJZD09PWUuc2VuZGVyKXtpZihpLnNlbmQoXCJzZXR1cEN1c3RvbVZhcmlhYmxlc1wiLGtbZS5wYXJhbXMuaWZyYW1lSWRdLGUucGFyYW1zLmlmcmFtZUlkKSxpLnNlbmQoXCJzZXR1cEVWVEZpZWxkc1wiLGMuY29uZmlnLmV4dGVybmFsVmVyaWZpY2F0aW9uRmllbGRzLGUucGFyYW1zLmlmcmFtZUlkKSxjLmNvbmZpZy5kZWZlcnJlZENvbnRleHRMb2FkaW5nJiZUKGMsZSksYy53YWl0RmluaXNoUHJvY2Vzc2VzKXJldHVybiB2b2lkIHMuX19wcm90ZWN0ZWRfXy5jbG9zZUFuZFJlbW92ZUlmcmFtZShjKTtcInBpYW5vSWRcIj09PWEuZ2V0UHJvdmlkZXIoKS5uYW1lJiZwbi5waWFub0lkLl9fcHJvdGVjdGVkX18uZXhlY3V0ZVBvc3RNZXNzYWdlc0JhdGNoKCksXCJtb2RhbFwiPT09Yy5jb25maWcuZGlzcGxheU1vZGUmJihzLnJlc2l6ZUlmcmFtZShjLGUucGFyYW1zKSxjLmNvbmZpZy5pc1ByZWxvYWR8fHMuY2hlY2tCYWNrZHJvcEFuZENvbnRhaW5lcihjLCEwKSksXCJwb3B1cFwiPT09Yy5jb25maWcuZGlzcGxheU1vZGUmJnMucmVzaXplSWZyYW1lKGMsZS5wYXJhbXMpLGMuY29uZmlnLmlzUHJlbG9hZHx8Yy5jb25maWcudHJhY2tTdGF0c09uU2hvd3x8QihjKSxWKGMpLFMuZmlyZUNhbGxiYWNrcyhlLmV2ZW50LGUucGFyYW1zLGUuc2VuZGVyLGQpLFwiaW5saW5lXCI9PT1jLmNvbmZpZy5kaXNwbGF5TW9kZSYmKGMuY29udGFpbmVyUmVhZHk/cy5yZXNpemVJZnJhbWUoYyxlLnBhcmFtcyk6cy5vcGVyYXRpb25XaXRoQ29udGFpbmVyKGMuaWZyYW1lUGFyYW1zLmNvbnRhaW5lclNlbGVjdG9yLChmdW5jdGlvbihuKXt2YXIgdD1yLnF1ZXJ5RWwoXCIjdGVtcC1pbmxpbmUtXCIrYy5pZnJhbWVJZCk7dCYmKG4uaW5uZXJIVE1MPXQuaW5uZXJIVE1MLHIucmVtb3ZlKHQpKSxjLmVsZW1lbnQ9ci5xdWVyeUVsKFwiaWZyYW1lXCIsbiksYy5jb250YWluZXJSZWFkeT0hMCxzLnJlc2l6ZUlmcmFtZShjLGUucGFyYW1zKX0pKSksUihjLmNvbmZpZyksby5kb25lQ2FsbChcIm9mZmVyQ3JlYXRlXCIpfWJyZWFrO2Nhc2VcImRvd25Gb3JNYWludGVuYW5jZVwiOnMucmVzaXplSWZyYW1lKGMse3dpZHRoOjMwMCxoZWlnaHQ6MjAwfSksXCJtb2RhbFwiPT09Yy5jb25maWcuZGlzcGxheU1vZGUmJihjLmNvbmZpZy5pc1ByZWxvYWR8fHMuY2hlY2tCYWNrZHJvcEFuZENvbnRhaW5lcihjKSk7YnJlYWs7Y2FzZVwicmVtb3ZlUXVlcnlQYXJhbUJ5TmFtZVwiOmUmJmUucGFyYW1zJiZBcnJheS5pc0FycmF5KGUucGFyYW1zLnBhcmFtc1RvUmVtb3ZlKSYmZS5wYXJhbXMucGFyYW1zVG9SZW1vdmUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7by5yZW1vdmVRdWVyeVBhcmFtQnlOYW1lKGUpfSkpO2JyZWFrO2Nhc2VcInB1cmdlXCI6bnx8KGUmJmUucGFyYW1zJiZlLnBhcmFtcy5hbHJlYWR5UHVyY2hhc2VkJiYodj1cImFscmVhZHlIYXNBY2Nlc3NcIiksZSYmZS5wYXJhbXMmJmUucGFyYW1zLmNvbXBsZXRlUGF5bWVudCYmKHY9XCJjaGVja291dENvbXBsZXRlZFwiKSxzLnB1cmdlSWZyYW1lKGUuc2VuZGVyLGMuY29uZmlnLnBhcmVudCksUihjLmNvbmZpZykpO2JyZWFrO2Nhc2VcImNsb3NlXCI6bnx8KGUmJmUucGFyYW1zJiZlLnBhcmFtcy5hbHJlYWR5UHVyY2hhc2VkJiYodj1cImFscmVhZHlIYXNBY2Nlc3NcIiksZSYmZS5wYXJhbXMmJmUucGFyYW1zLmNvbXBsZXRlUGF5bWVudCYmKHY9XCJjaGVja291dENvbXBsZXRlZFwiKSxvLmhhc1F1ZXJ5UGFyYW1CeU5hbWUoXCJ2b3VjaGVyX2NvZGVcIikmJih2PVwidm91Y2hlclJlZGVtcHRpb25Db21wbGV0ZWRcIikscy5jbG9zZUNvbnRhaW5lcihlLnNlbmRlcixjLmNvbmZpZy5wYXJlbnQpLFIoYy5jb25maWcpKTticmVhaztjYXNlXCJjbG9zZUFuZFJlZnJlc2hcIjp2YXIgZz1lLnBhcmFtcztnP3dpbmRvdy5sb2NhdGlvbi5hc3NpZ24oZyk6d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO2JyZWFrO2Nhc2VcInNlbGVjdFRlcm1cIjp2PWUmJmUucGFyYW1zJiZlLnBhcmFtcy5hbHJlYWR5UHVyY2hhc2VkP1wiYWxyZWFkeUhhc0FjY2Vzc1wiOlwiY2xvc2VcIjticmVhaztjYXNlXCJzdWJtaXRQYXltZW50XCI6Y2FzZVwiY2hlY2tvdXRTZWxlY3RUZXJtXCI6Uy5maXJlQ2FsbGJhY2tzKGUuZXZlbnQscShlLnBhcmFtcyx7b2ZmZXJJZDpjLmlmcmFtZVBhcmFtcy5vZmZlcklkfSksZS5zZW5kZXIsZCk7YnJlYWs7Y2FzZVwiY29tcGxldGVcIjppZih2b2lkIDAhPT1lLnBhcmFtcy50b2tlbl9saXN0KXt2YXIgaD1lLnBhcmFtcy51c2VyX3Rva2VuOyFoJiZhLmlzVXNlclZhbGlkKCkmJlwicGlhbm9JZFwiPT09YS5nZXRQcm92aWRlcigpLm5hbWUmJihoPWEuZ2V0UHJvdmlkZXIoKS5nZXRUb2tlbigpKSxvLnNldEFjY2Vzc1Rva2VuTGlzdENvb2tpZSh7dmFsdWU6ZS5wYXJhbXMudG9rZW5fbGlzdCxjb29raWVfZG9tYWluOmUucGFyYW1zLmNvb2tpZV9kb21haW59LGgpfXZhciB5PXEoZS5wYXJhbXMse29mZmVySWQ6Yy5pZnJhbWVQYXJhbXMub2ZmZXJJZH0pO1MuZmlyZUNhbGxiYWNrcyhlLmV2ZW50LHksZS5zZW5kZXIsZCksdj1cImNoZWNrb3V0Q29tcGxldGVkXCI7YnJlYWs7Y2FzZVwiY2hlY2tvdXRTdGF0ZUNoYW5nZVwiOmNhc2VcImNoZWNrb3V0UGF5bWVudEVycm9yXCI6Y2FzZVwiYWxyZWFkeVB1cmNoYXNlZFwiOmNhc2VcInN0YXJ0VGhyZWVEQmFua1NlY3VyZVwiOmNhc2VcImNhbmNlbFwiOmNhc2VcImVycm9yXCI6Y2FzZVwiY3VzdG9tRXZlbnRcIjpTLmZpcmVDYWxsYmFja3MoZS5ldmVudCxlLnBhcmFtcyxlLnNlbmRlcixkKTticmVhaztjYXNlXCJsb2dpblJlcXVpcmVkXCI6dz0hMCxTLmZpcmVDYWxsYmFja3MoZS5ldmVudCxuZShjLGUucGFyYW1zKSxlLnNlbmRlcixkKTticmVhaztjYXNlXCJsb2dvdXRcIjpBKGUuZXZlbnQsZS5wYXJhbXMsZS5zZW5kZXIsYy5jb25maWcucGFyZW50KTticmVhaztjYXNlXCJsb2dpblN1Y2Nlc3NcIjpNKGUuZXZlbnQsZS5wYXJhbXMsZS5zZW5kZXIsZCk7YnJlYWs7Y2FzZVwiaW5wdXRGb2N1c1wiOnZhciBiPXIucXVlcnlFbChcIi50cC1tb2RhbFwiKTtiJiYoYi5zdHlsZS56SW5kZXg9cG4uekluZGV4ZXMubW9kYWwrMStcIlwiLGIuc3R5bGUuekluZGV4PXBuLnpJbmRleGVzLm1vZGFsK1wiXCIpO2JyZWFrO2Nhc2VcImlucHV0Qmx1clwiOnZhciBfPXIucXVlcnlFbChcIi50cC1tb2RhbFwiKTtfJiYoXy5zdHlsZS56SW5kZXg9cG4uekluZGV4ZXMubW9kYWwrMStcIlwiLF8uc3R5bGUuekluZGV4PXBuLnpJbmRleGVzLm1vZGFsK1wiXCIpO2JyZWFrO2Nhc2VcImdldExvY2F0aW9uXCI6ZS5wYXJhbXMmJmUucGFyYW1zLnJlc3VsdENhbGxiYWNrSWQmJihlLnBhcmFtcy5yZXN1bHQ9d2luZG93LmxvY2F0aW9uLmhyZWYsaS5zZW5kKFwicmVzdWx0Q2FsbGJhY2tcIixlLnBhcmFtcyxlLnNlbmRlcikpO2JyZWFrO2Nhc2VcInNldExvY2F0aW9uSGFzaFwiOmUucGFyYW1zJiZlLnBhcmFtcy5oYXNoJiYod2luZG93LmxvY2F0aW9uLmhhc2g9ZS5wYXJhbXMuaGFzaCk7YnJlYWs7Y2FzZVwibGFuZ0NoYW5nZWRXaXRoaW5PZmZlclwiOnBuLnBpYW5vSWQuaXNDb25maWd1cmVkKCkmJnBuLnBpYW5vSWQudXBkYXRlTGFuZyhlLnBhcmFtcy5sYW5nKSxJLmluZGV4T2YoZS5wYXJhbXMubGFuZyk+PTA/cy50dXJuT25SVEwoYyk6cy50dXJuT2ZmUlRMKGMpO2JyZWFrO2Nhc2VcImxvZ2luU3RhcnRcIjpsLmRpc2FibGUoKTticmVhaztjYXNlXCJsb2dpbkVuZFwiOmwuZW5hYmxlKCk7YnJlYWs7Y2FzZVwicGlhbm9JZEV2ZW50XCI6ZS5wYXJhbXMuaWZyYW1lSWQ9PT1lLnNlbmRlciYmKFwiY2xvc2VkXCI9PT1lLnBhcmFtcy5ldmVudCYmcy5jbG9zZUNvbnRhaW5lcihlLnNlbmRlcikscG4ucGlhbm9JZC5fX3Byb3RlY3RlZF9fLm9mZmVyTWVzc2FnZVJlY2VpdmVyKGUpKSxFKGUucGFyYW1zLGUuc2VuZGVyKTticmVhaztjYXNlXCJzd2dDaGVja291dFN0YXJ0XCI6YnJlYWs7Y2FzZVwic2hhcmVkQWNjb3VudHNTdWNjZXNzZnVsbHlBZGRlZFwiOmkuYnJvYWRjYXN0KFwicmVmcmVzaE15QWNjb3VudFwiLHt1c2VyVG9rZW46YS5nZXRQcm92aWRlcigpLmdldFRva2VuKCl9KTticmVhaztjYXNlXCJuZXdzbGV0dGVyU2lnbnVwSW1wcmVzc2lvblwiOmNhc2VcIm5ld3NsZXR0ZXJTaWdudXBTdWJtaXNzaW9uXCI6cG4ucGlhbm9Fc3AuX19wcm90ZWN0ZWRfXy5vZmZlck1lc3NhZ2VSZWNlaXZlcihlKSxTLmZpcmVDYWxsYmFja3MoZS5ldmVudCxlLnBhcmFtcyxlLnNlbmRlcixkKTticmVhaztjYXNlXCJwYXJlbnRTaXplXCI6dmFyIEM9ci53aW5TaXplKCkseD17d2lkdGg6Qy53aWR0aCxoZWlnaHQ6Qy5oZWlnaHR9O2kuc2VuZChcInBhcmVudFNpemVcIix4LGUuc2VuZGVyKTticmVhaztjYXNlXCJnaWd5YVBhc3N3b3JkbGVzc0xvZ2luXCI6ZS5wYXJhbXMuaWZyYW1lSWQ9PT1lLnNlbmRlciYmKHQ9ZS5wYXJhbXMuaWZyYW1lSWQscG4uZ2lneWEubG9naW5CeVBhc3N3b3JkbGVzcyhlLnBhcmFtcykpO2JyZWFrO2Nhc2VcImVtaXRHQUV2ZW50XCI6cmV0dXJuIHZvaWQoIW4mJnUuZW1pdEV2ZW50KGUucGFyYW1zKSk7Y2FzZVwiZW1pdE1ldHJpY3NFdmVudFwiOiFuJiZ1LmVtaXRNZXRyaWNzRXZlbnQoZS5wYXJhbXMpO2JyZWFrO2Nhc2VcImJhbm5lckluaXRcIjpjLmNvbmZpZy5zaW5nbGVDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInRwLWJhbm5lclwiKTticmVhaztjYXNlXCJiYW5uZXJEZXN0cm95XCI6Yy5jb25maWcuc2luZ2xlQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJ0cC1iYW5uZXJcIik7YnJlYWs7Y2FzZVwicmVkZWVtQ3JlZGl0XCI6dmFyIFA9Uy5maXJlQ2FsbGJhY2tzKFwib25TdGFydENyZWRpdFJlZGVtcHRpb25cIixlLnBhcmFtcyxlLnNlbmRlcixkKTtQJiZQLnRoZW4mJlAudGhlbigoZnVuY3Rpb24obil7aS5zZW5kKFwic3VjY2Vzc2Z1bGx5Q3JlZGl0UmVkZWVtXCIsbixlLnNlbmRlcil9KSwoZnVuY3Rpb24obil7aS5zZW5kKFwiY3JlZGl0UmVkZWVtRmFpbGVkXCIsbixlLnNlbmRlcil9KSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdm9pZCBvLmRlYnVnKFwiUmVjZWl2ZWQgaW52YWxpZCBldmVudCB0eXBlOiBcIitlLmV2ZW50KX19dmFyIEU9ZnVuY3Rpb24oZSxuKXtcInN1Y2Nlc3NET0lcIj09PWUuZXZlbnQmJihlLmlmcmFtZUlkIT09biYmcy5jbG9zZUNvbnRhaW5lcihlLmlmcmFtZUlkKSxpLnNlbmQoXCJhZnRlclN1Y2Nlc3NET0lcIixlLnBhcmFtcyxuKSl9LFQ9ZnVuY3Rpb24oZSxuKXtlLmNvbmZpZy5jb250ZXh0TG9hZGluZ1Byb21pc2UudGhlbigoZnVuY3Rpb24odCl7dmFyIHI9e2lmcmFtZVBhcmFtczplLmlmcmFtZVBhcmFtcyx1c2VyQ29udGV4dDp0fTtyLmlmcmFtZVBhcmFtcy51cmw9by5wcmVwYXJlVXJsUGFyYW1ldGVyKHdpbmRvdy5sb2NhdGlvbi5ocmVmKSxpLnNlbmQoXCJ1c2VyRGF0YUNvbnRleHRMb2FkZWRcIixyLG4ucGFyYW1zLmlmcmFtZUlkKX0pKX0sQT1mdW5jdGlvbihlLG4sdCxyLG8pe2EubG9nb3V0KChmdW5jdGlvbigpe3ZhciBlPXt9O2UudXNlclByb3ZpZGVyPWEuZ2V0UHJvdmlkZXIoKS5nZXROYW1lKCksZS51c2VyVG9rZW49YS5nZXRQcm92aWRlcigpLmdldFRva2VuKCkmJmEuZ2V0UHJvdmlkZXIoKS5nZXRUb2tlbigpLmxlbmd0aD4wP2EuZ2V0UHJvdmlkZXIoKS5nZXRUb2tlbigpOlwiXCIsZS5ub05lZWRTdGFydENoZWNrb3V0PSEwLGVlKGUpfSksaCksbi5jbG9zZU9uTG9nb3V0JiZzLmNsb3NlTW9kYWxDb250YWluZXIodCxyKX0sTT1mdW5jdGlvbihlLG4sdCxyKXtpZihuLnNvdXJjZT1oLGEuZ2V0UHJvdmlkZXIoKS5vbkxvZ2luU3VjY2VzcyhuKSxTLmZpcmVDYWxsYmFja3MoXCJsb2dpblN1Y2Nlc3NcIixuLHQsciksIWIpe3ZhciBvPXt1c2VyVG9rZW46bi51c2VyX3Rva2VuLHVzZXI6bi51c2VyLHJlbG9hZEFmdGVyTG9naW46ITB9O2VlKG8sdCl9fSxPPWZ1bmN0aW9uKGUpe3ZhciBuPWUuZGlzcGxheU1vZGV8fFwibW9kYWxcIjtyZXR1cm5bZS5vZmZlcklkLG4sZS5jb250YWluZXJTZWxlY3Rvcl0uam9pbihcInxcIil9LFI9ZnVuY3Rpb24oZSl7dmFyIG49TyhlKTtkZWxldGUgbVtuXX0sTD1mdW5jdGlvbihlKXtpZih2PVwiY2xvc2VcIixRKGUpLHZvaWQgMD09PWUuZGlzcGxheU1vZGUpZS5kaXNwbGF5TW9kZT1cIm1vZGFsXCI7ZWxzZSBpZihcIm1vZGFsXCIhPT1lLmRpc3BsYXlNb2RlJiZcImlubGluZVwiIT09ZS5kaXNwbGF5TW9kZSYmXCJwb3B1cFwiIT09ZS5kaXNwbGF5TW9kZSlyZXR1cm4gby5sb2coXCJJbnZhbGlkIG9mZmVyIGRpc3BsYXlNb2RlOyBtdXN0IGJlIG9uZSBvZjogbW9kYWwsIGlubGluZSwgcG9wdXBcIiksdm9pZCBSKGUpO2lmKFwibW9kYWxcIj09PWUuZGlzcGxheU1vZGUmJiFlLmlzUHJlbG9hZCYmcy5oYXNNb2RhbElmcmFtZSgpKXJldHVybiBvLmxvZyhcIk1vZGFsIG9mZmVyIGlzIGFscmVhZHkgc2hvd247IG11c3QgYmUgb25lIG1vZGFsIG9mZmVyIHBlciB0aW1lXCIpLHZvaWQgUihlKTtpZihcIm1vZGFsXCIhPT1lLmRpc3BsYXlNb2RlKXt2YXIgbix0PXIucWEoZS5jb250YWluZXJTZWxlY3Rvcik7aWYoIWUuaXNQcmVsb2FkKWlmKHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9cSh7fSxlKTtyLnNpbmdsZUNvbnRhaW5lcj10LG49TihyKX0pKSxuKXJldHVybiBuO3ZhciBpPXRbdC5sZW5ndGgtMV07aSYmKGUuc2luZ2xlQ29udGFpbmVyPWkpfXJldHVybiBOKGUpfTtmdW5jdGlvbiBOKGUsYyl7dmFyIGw9ZnVuY3Rpb24oZSl7dmFyIG49e307ZS50ZXJtSWRzJiYoZS50ZXJtSWRzIGluc3RhbmNlb2YgQXJyYXl8fChlLnRlcm1JZHM9W2UudGVybUlkc10pKTt2YXIgdD1lLmFkZGl0aW9uYWxQYXJhbU5hbWVzP2UuYWRkaXRpb25hbFBhcmFtTmFtZXM6W107W1wiZGlzcGxheU1vZGVcIixcImNvbnRhaW5lclNlbGVjdG9yXCIsXCJ0ZW1wbGF0ZUlkXCIsXCJ0ZW1wbGF0ZVZhcmlhbnRJZFwiLFwib2ZmZXJJZFwiLFwidGVybUlkXCIsXCJ0ZXJtSWRzXCIsXCJyaWRcIixcImFpZFwiLFwiaXNDaGVja291dFwiLFwiaXNPcGVuZWRGcm9tSW5saW5lQ2hlY2tvdXRcIixcInB3X2lkXCIsXCJwYXl3YWxsSWRcIixcIndpZHRoXCIsXCJwcmV2aWV3XCIsXCJwcmV2aWV3VW5jYWNoZWRcIixcInByZXZpZXdUZW1wbGF0ZVR5cGVcIixcInByZXZpZXdUZW1wbGF0ZVZlcnNpb25cIixcInRva2VuVHlwZVwiLFwiamFucmFpbkNhcHR1cmVUb2tlblwiLFwiY2xvc2VPbkxvZ291dFwiLFwidm91Y2hlckNvZGVcIixcImlzUmVkZW1wdGlvblwiLFwiYWxsb3dSZXR1cm5Ub1N0YXJ0U3RhdGVcIixcInN0YXJ0RnJvbUlubGluZUNoZWNrb3V0XCIsXCJmb3JtTmFtZUJ5VGVybUlkXCIsXCJoaWRlQ29tcGxldGVkRmllbGRzXCIsXCJzdGFydEZyb21JbmxpbmVDaGVja291dFwiLFwicmVsb2FkQWZ0ZXJMb2dpblwiLFwicHJldmVudFJlbG9hZEFmdGVyTG9naW5cIixcImlzQXV0aFwiLFwiYXV0aFN0YXJ0U2NyZWVuXCIsXCJzaG93Q2xvc2VCdXR0b25cIixcImNsb3NlQnV0dG9uVHlwZVwiLFwiY2hlY2tvdXRGbG93SWRcIixcIm9mZmVyU3RhdGVcIixcIm9pZFwiLFwicHJvbW9Db2RlXCIsXCJwcm9tb0NvZGVJZFwiLFwicHJvbW9Db2RlVGVybUlkXCIsXCJydXJsXzNkc1wiLFwidGhpcmRQYXJ0eVBhcmFtc1wiLFwidGVybUlkM2RzXCIsXCJwcm92aWRlcklkXCIsXCJkZXBsb3ltZW50SXRlbUlkXCIsXCJzaGFyZWRBY2NvdW50Q29kZVwiLFwidGFyZ2V0ZWRUZXJtSWRcIixcIndpZGdldFwiXS5jb25jYXQoW1widHJhY2tpbmdJZFwiLFwiZXhwZXJpZW5jZUlkXCIsXCJhY3RpdmVNZXRlcnNcIl0sdCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XSYmKG5bdF09ZVt0XSksXCJzaG93Q2xvc2VCdXR0b25cIj09PXQmJih2b2lkIDA9PT1lW3RdP25bdF09ITA6blt0XT1lW3RdKX0pKTt2YXIgcj1kZWNvZGVVUklDb21wb25lbnQoby5nZXRRdWVyeVBhcmFtQnlOYW1lKFwiX3B0aWRcIikpO3JldHVybiByJiYobi50cmFja2luZ0lkPXIpLGUucHJldmlldyYmKG4uYWN0aXZlTWV0ZXJzPUpTT04uc3RyaW5naWZ5KFt7bWV0ZXJOYW1lOlwicHJldmlldy1tZXRlclwiLHZpZXdzOjEwLHZpZXdzTGVmdDo1LG1heFZpZXdzOjIwLHRvdGFsVmlld3M6MjB9XSkpLG59KGUpO2wud2lkZ2V0fHwobC53aWRnZXQ9XCJvZmZlclwiKTt2YXIgZD1vLmdldFRiY0Nvb2tpZSgpO2QmJmQubGVuZ3RoPjAmJihsLnRiYz1kKSxlLmRlZmVycmVkQ29udGV4dExvYWRpbmc/KGwuaWZyYW1lSWQ9VShlKSxsLnVybD13aW5kb3cubG9jYXRpb24ub3JpZ2luKToobC5pZnJhbWVJZD1cIm9mZmVyLVwiK2crKytcIi1cIitvLnJhbmRvbVN0cmluZygpLGwudXJsPW8ucHJlcGFyZVVybFBhcmFtZXRlcih3aW5kb3cubG9jYXRpb24uaHJlZikpO3ZhciBmPXIud2luU2l6ZSgpO2wucGFyZW50RHVhbFNjcmVlbkxlZnQ9dm9pZCAwIT09d2luZG93LnNjcmVlbkxlZnQ/d2luZG93LnNjcmVlbkxlZnQ6c2NyZWVuLmxlZnQsbC5wYXJlbnREdWFsU2NyZWVuVG9wPXZvaWQgMCE9PXdpbmRvdy5zY3JlZW5Ub3A/d2luZG93LnNjcmVlblRvcDpzY3JlZW4udG9wLGwucGFyZW50V2lkdGg9Zi53aWR0aD9mLndpZHRoOmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aD9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg6c2NyZWVuLndpZHRoLGwucGFyZW50SGVpZ2h0PWYuaGVpZ2h0P2YuaGVpZ2h0OmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ/ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDpzY3JlZW4uaGVpZ2h0LGwucGFyZW50T3V0ZXJIZWlnaHQ9d2luZG93Lm91dGVySGVpZ2h0LGUucHJldmlld05vbkxvZ2dlZFVzZXImJihsLnByZXZpZXdOb25Mb2dnZWRVc2VyPWUucHJldmlld05vbkxvZ2dlZFVzZXIpLGUuaXNQcmVsb2FkJiYobC5wcmVsb2FkPTEpLHBuLmxvY2FsZSYmKGwubGFuZz1wbi5sb2NhbGUpLHUuZ2V0Q2xpZW50SWQoKSYmKGwuZ2FDbGllbnRJZD11LmdldENsaWVudElkKCkpLHUuZ2V0R0FBY2NvdW50KCkmJihsLmdhQWNjb3VudD11LmdldEdBQWNjb3VudCgpKSxmdW5jdGlvbihlKXtbXCJkZWJ1Z1wiLFwiYWlkXCIsXCJnYUNsaWVudElkXCIsXCJ0YWdzXCIsXCJjb250ZW50U2VjdGlvblwiLFwiY29udGVudEF1dGhvclwiLFwiZGVidWdcIixcInpvbmVcIl0uZm9yRWFjaCgoZnVuY3Rpb24obil7cG5bbl0mJihlW25dPXBuW25dKX0pKSxwbi5jdXN0b21WYXJpYWJsZXMmJihrW2UuaWZyYW1lSWRdPUpTT04uc3RyaW5naWZ5KHBuLmN1c3RvbVZhcmlhYmxlcykpO3ZhciBuPXBuLmNvbnRlbnRDcmVhdGVkO24mJihlLmNvbnRlbnRDcmVhdGVkPW4pLHBuJiZwbi5tYWluJiYoZS5wYWdlVmlld0lkPXBuLm1haW4uZmV0Y2hQYWdlVmlld0lkKCksZS52aXNpdElkPXBuLm1haW4uZmV0Y2hWaXNpdElkKCkpfShsKTt2YXIgbT1TLmhhc0NhbGxiYWNrKFwibG9naW5SZXF1aXJlZFwiKTtpZighcG4uamFucmFpbi5pc0NvbmZpZ3VyZWQoKXx8dm9pZCAwIT09ZS5sb2dpblJlcXVpcmVkJiZlLmxvZ2luUmVxdWlyZWQpaWYoIXBuLmdpZ3lhLmlzQ29uZmlndXJlZCgpfHx2b2lkIDAhPT1lLmxvZ2luUmVxdWlyZWQmJmUubG9naW5SZXF1aXJlZClpZihwbi5waWFub0lkLmlzQ29uZmlndXJlZCgpKXt2b2lkIDAhPT1lLmxvZ2luUmVxdWlyZWQmJmUubG9naW5SZXF1aXJlZHx8KGUubG9naW5SZXF1aXJlZD1mdW5jdGlvbihlKXtpZighZS5wcmV2ZW50RXh0ZXJuYWxMb2dpbilyZXR1cm4gbj1lLnRlcm1JZCx0PWwuaWZyYW1lSWQscG4ucGlhbm9JZC5zaG93KHtzY3JlZW46ZS5zdGFydFNjcmVlbn0pLCExfSksVygpLGwucGlhbm9JZFVybD1wbi5waWFub0lkLmdldElmcmFtZVVybCgpO3ZhciBoPXBuLnBpYW5vSWQuZ2V0TGFuZygpO2gmJihsLmxhbmc9aCkscG4ucGlhbm9JZC5vbkxhbmdDaGFuZ2UoKGZ1bmN0aW9uKGUpe2kuc2VuZChcImxhbmdDaGFuZ2VkXCIse2xhbmc6ZX0sbC5pZnJhbWVJZCl9KSxsLmlmcmFtZUlkKX1lbHNlIHBuLnBpYW5vSWRMaXRlLmlzQ29uZmlndXJlZCgpJiYobC5waWFub0lkVXJsPXBuLnBpYW5vSWQuZ2V0SWZyYW1lVXJsKCkpO2Vsc2V7Yj1bXTtwbi5naWd5YS5yZWdpc3RlckNhbGxiYWNrKFwib25IaWRlXCIsKGZ1bmN0aW9uKGUpe3MuYWN0aXZhdGVDb250YWluZXJzKGIpLGkuc2VuZChcImdpZ3lhSGlkZVwiLGUsdCl9KSkseigpLGUubG9naW5SZXF1aXJlZD1mdW5jdGlvbihlKXtyZXR1cm4geT1lLmFsbG93UmV0dXJuVG9TdGFydFN0YXRlLHc9ITEsYj1zLmhpZGVNb2RhbENvbnRhaW5lcigpLG49ZS50ZXJtSWQsdD1sLmlmcmFtZUlkLG8ud2FpdENhbGwoXCJyZWZyZXNoVXNlclRva2VuXCIsKGZ1bmN0aW9uKCl7cG4uZ2lneWEubG9naW4oKX0pKSwhMX19ZWxzZXt2YXIgYj1bXTtwbi5qYW5yYWluLmFkZEV2ZW50SGFuZGxlcihcIm9uTW9kYWxDbG9zZVwiLChmdW5jdGlvbigpe3MuYWN0aXZhdGVDb250YWluZXJzKGIpfSkpLEgoKSxlLmxvZ2luUmVxdWlyZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGI9cy5oaWRlTW9kYWxDb250YWluZXIoKSx5PWUuYWxsb3dSZXR1cm5Ub1N0YXJ0U3RhdGUsdz0hMSxuPWUudGVybUlkLHQ9bC5pZnJhbWVJZCxvLndhaXRDYWxsKFwicmVmcmVzaFVzZXJUb2tlblwiLChmdW5jdGlvbigpe3BuLmphbnJhaW4ubG9naW4odm9pZCAwLGUpfSkpLCExfX1sLnVzZXJQcm92aWRlcj1hLmdldFByb3ZpZGVyKCkuZ2V0TmFtZSgpLGUudXNlclRva2VuP2wudXNlclRva2VuPWUudXNlclRva2VuOmwudXNlclRva2VuPWEuZ2V0UHJvdmlkZXIoKS5nZXRUb2tlbigpJiZhLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKS5sZW5ndGg+MD9hLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKTpcIlwiLG8uZ2V0Q2FtcGFpZ25zKGwpLGwuY3VzdG9tQ29va2llcz1KU09OLnN0cmluZ2lmeShvLmdldEN1c3RvbUNvb2tpZXMoKSksUy5yZWdpc3RlckNhbGxiYWNrKGUsbC5pZnJhbWVJZCksbC5oYXNMb2dpblJlcXVpcmVkQ2FsbGJhY2s9Uy5oYXNJZnJhbWVDYWxsYmFjayhcImxvZ2luUmVxdWlyZWRcIixsLmlmcmFtZUlkKXx8bSxsLmluaXRNb2RlPVwiY29udGV4dFwiLGoobCk7dmFyIF89ZS5pZnJhbWVVcmw/ZS5pZnJhbWVVcmw6bC5pc0NoZWNrb3V0P3BuLmdldEVuZHBvaW50Um9vdCghMCkrXCIvY2hlY2tvdXQvb2ZmZXIvc2hvd1wiOngoKSxJPWUucG9zdE1lc3NhZ2VVcmw/ZS5wb3N0TWVzc2FnZVVybDp4KCk7ZS5kZWZlcnJlZENvbnRleHRMb2FkaW5nJiZlLmluaXRDb250ZXh0TG9hZFByb21pc2UoZSxEKGwpKTt2YXIgRT1GKGwsZSksVD1zLmNyZWF0ZUNvbnRhaW5lcih7dXJsOl8sY29uZmlnOmUscGFyZW50OmUucGFyZW50LHBvc3RNZXNzYWdlVXJsOkkscmVjZWl2ZTpQLGlmcmFtZVBhcmFtczpsLHNpbmdsZUNvbnRhaW5lcjplLnNpbmdsZUNvbnRhaW5lcixjbG9zZTpmdW5jdGlvbigpe1MuZmlyZUNhbGxiYWNrcyhcImNsb3NlXCIse3N0YXRlOnZ9LGwuaWZyYW1lSWQsITApfX0pLEE9Xy5pbmRleE9mKFwiL29mZmVyL1wiKT9cIm9mZmVyU2hvd1wiOlwidGVtcGxhdGVTaG93XCI7cmV0dXJuIHAuc2V0VGltZShBKSxDPV8uaW5kZXhPZihcIi90ZW1wbGF0ZS9cIikmJmwub2ZmZXJJZD09PXMuZmFrZU9mZmVySWQ/bDpDLFQuc3RhdFBhcmFtcz1FLFQuYnJvd3NlcklkPWUuYnJvd3NlcklkLFR9dmFyIFU9ZnVuY3Rpb24oZSl7dmFyIG49MCx0PVwib2ZmZXJfXCIrZC5oYXNoKGUuaWZyYW1lVXJsK1wiP1wiK2UuYnVpbGRRdWVyeVN0cmluZ0ZuKGUsciksMjApO3JldHVybiBfLmhhcyh0KSYmKG49Xy5nZXQodCkrMSksXy5zZXQodCxuKSx0K1wiLVwiK259LGo9ZnVuY3Rpb24oZSl7dmFyIG49by5nZXRRdWVyeVBhcmFtQnlOYW1lKFwidGVybUlkXCIpLHQ9by5nZXRRdWVyeVBhcmFtQnlOYW1lKFwicGF5U291cmNlXCIpO24mJihlLnRlcm1JZD1uKSx0JiYoZS5wYXlTb3VyY2U9dCl9LEQ9ZnVuY3Rpb24oZSl7dmFyIG49e307cmV0dXJuW1widGJjXCIsXCJ0cmFja2luZ0lkXCIsXCJwYWdlVmlld0lkXCIsXCJ2aXNpdElkXCIsXCJ0YWdzXCIsXCJjb250ZW50Q3JlYXRlZFwiLFwiY29udGVudFNlY3Rpb25cIixcImNvbnRlbnRBdXRob3JcIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XSYmKG5bdF09ZVt0XSl9KSksT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7MD09PXQuaW5kZXhPZihcInRwY2NfXCIpJiYoblt0XT1lW3RdKX0pKSxufSxGPWZ1bmN0aW9uKGUsbil7dmFyIHQ9e307cmV0dXJuIG4udHJhY2tTdGF0c09uU2hvd3x8bi5kZWZlcnJlZENvbnRleHRMb2FkaW5nfHwodD1EKGUpLE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2RlbGV0ZSBlW25dfSkpKSx0fSxCPWZ1bmN0aW9uKGUpe3ZhciBuPXEoZS5pZnJhbWVQYXJhbXMsZS5zdGF0UGFyYW1zKTtlLmNvbmZpZy5hZmZpbGlhdGVTdGF0ZSYmKG4uYWZmaWxpYXRlU3RhdGU9ZS5jb25maWcuYWZmaWxpYXRlU3RhdGUpLGkuc2VuZChcInRyYWNrU3RhdFwiLG4sZS5pZnJhbWVJZCl9LFY9ZnVuY3Rpb24oZSl7dmFyIG49e2Jyb3dzZXJJZDplLmJyb3dzZXJJZH07aS5zZW5kKFwicGFzc0Jyb3dzZXJJZFwiLG4sZS5pZnJhbWVJZCl9LHE9ZnVuY3Rpb24oZSxuKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dFtuXT1lW25dfSkpLE9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZV09bltlXX0pKSx0fSx6PWZ1bmN0aW9uKCl7Ynx8KHBuLmdpZ3lhLnJlZ2lzdGVyQ2FsbGJhY2soXCJ1c2VyQ2hhbmdlZFwiLChmdW5jdGlvbihlKXtpZihlJiZlLnVzZXJfdG9rZW4pe3ZhciByPXt0b2tlbl9saXN0OmUuYWNjZXNzX3Rva2VuLnZhbHVlLHVzZXJfdG9rZW46ZS51c2VyX3Rva2VuLHVzZXJUb2tlbjplLnVzZXJfdG9rZW4sY29va2llX2RvbWFpbjplLmFjY2Vzc190b2tlbi5jb29raWVfZG9tYWluLHVzZXI6ZS51c2VyLGFsbG93UmV0dXJuVG9TdGFydFN0YXRlOnksdGVybUlkOm59O2lmKHQpcy5nZXRJZnJhbWUodCk/KGkuc2VuZChcImV4dGVybmFsTG9naW5TdWNjZXNzXCIscix0KSxkZWxldGUgci50ZXJtSWQsZWUocix0KSk6ZWUocik7ZWxzZSBlZShyKX19KSkscG4uZ2lneWEucmVnaXN0ZXJDYWxsYmFjayhcImxvZ291dFwiLChmdW5jdGlvbigpe3ZhciBlLHI9e307ci51c2VyUHJvdmlkZXI9YS5nZXRQcm92aWRlcigpLmdldE5hbWUoKSxyLnVzZXJUb2tlbj1hLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKSYmYS5nZXRQcm92aWRlcigpLmdldFRva2VuKCkubGVuZ3RoPjA/YS5nZXRQcm92aWRlcigpLmdldFRva2VuKCk6XCJcIixyLm5vTmVlZFN0YXJ0Q2hlY2tvdXQ9ITAsdCYmKGU9cy5nZXRJZnJhbWUodCkpLGUmJlwiaW5saW5lXCI9PT1lLmNvbmZpZy5kaXNwbGF5TW9kZSYmcy5jbG9zZU1vZGFsQ29udGFpbmVyKCksbj1cIlwiLHQ9XCJcIix5PSExLGVlKHIpfSkpLGI9ITApfSxIPWZ1bmN0aW9uKCl7Ynx8KHBuLmphbnJhaW4ucmVnaXN0ZXJDYWxsYmFjayhcInVzZXJDaGFuZ2VkXCIsKGZ1bmN0aW9uKGUpe2lmKGUmJmUudXNlcl90b2tlbil7dmFyIHI9e3Rva2VuX2xpc3Q6ZS5hY2Nlc3NfdG9rZW4udmFsdWUsdXNlcl90b2tlbjplLnVzZXJfdG9rZW4sdXNlclRva2VuOmUudXNlcl90b2tlbixjb29raWVfZG9tYWluOmUuYWNjZXNzX3Rva2VuLmNvb2tpZV9kb21haW4sdXNlcjplLnVzZXIsYWxsb3dSZXR1cm5Ub1N0YXJ0U3RhdGU6eSx0ZXJtSWQ6bn07aWYodClzLmdldElmcmFtZSh0KT8oaS5zZW5kKFwiZXh0ZXJuYWxMb2dpblN1Y2Nlc3NcIixyLHQpLGRlbGV0ZSByLnRlcm1JZCxlZShyLHQpKTplZShyKTtlbHNlIGVlKHIpfX0pKSxwbi5qYW5yYWluLmFkZEV2ZW50SGFuZGxlcihcIm9uQ2FwdHVyZVNlc3Npb25FbmRlZFwiLChmdW5jdGlvbigpe3ZhciBlLHI9e307ci51c2VyUHJvdmlkZXI9YS5nZXRQcm92aWRlcigpLmdldE5hbWUoKSxyLnVzZXJUb2tlbj1hLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKSYmYS5nZXRQcm92aWRlcigpLmdldFRva2VuKCkubGVuZ3RoPjA/YS5nZXRQcm92aWRlcigpLmdldFRva2VuKCk6XCJcIixyLm5vTmVlZFN0YXJ0Q2hlY2tvdXQ9ITAsdCYmKGU9cy5nZXRJZnJhbWUodCkpLGUmJlwiaW5saW5lXCI9PT1lLmNvbmZpZy5kaXNwbGF5TW9kZSYmcy5jbG9zZU1vZGFsQ29udGFpbmVyKCksbj1cIlwiLHQ9XCJcIix5PSExLGVlKHIpfSkpLGI9ITApfSxXPWZ1bmN0aW9uKCl7Ynx8KHBuLnBpYW5vSWQuc2V0Q2FsbGJhY2tzKHtsb2dnZWRJbjpmdW5jdGlvbihlKXtvLmxvZyhcIm9mZmVyLmpzIC0gcGlhbm8gaWQgdXNlciBsb2dnZWQgaW5cIik7dmFyIHI9e3VzZXJfdG9rZW46ZS50b2tlbix1c2VyVG9rZW46ZS50b2tlbix1c2VyOmUudXNlcixyZWxvYWRBZnRlckxvZ2luOiEwLHRlcm1JZDpufTt0P3MuZ2V0SWZyYW1lKHQpPyhpLnNlbmQoXCJleHRlcm5hbExvZ2luU3VjY2Vzc1wiLHIsdCksWih0LHIpLGRlbGV0ZSByLnRlcm1JZCxlZShyLHQpKTplZShyKTplZShyKX0sbG9nZ2VkT3V0OmZ1bmN0aW9uKGUpe2lmKGUuc291cmNlIT09aCl7dmFyIHI9e307ci51c2VyUHJvdmlkZXI9YS5nZXRQcm92aWRlcigpLmdldE5hbWUoKSxyLnVzZXJUb2tlbj1hLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKSYmYS5nZXRQcm92aWRlcigpLmdldFRva2VuKCkubGVuZ3RoPjA/YS5nZXRQcm92aWRlcigpLmdldFRva2VuKCk6XCJcIixyLm5vTmVlZFN0YXJ0Q2hlY2tvdXQ9ITAsZWUocil9bj1cIlwiLHQ9XCJcIn19KSxiPSEwKX07ZnVuY3Rpb24gSihlKXtyZXR1cm4gcy5zaG93UHJlbG9hZGVkQ29udGFpbmVyKGUpfXZhciBHPWZ1bmN0aW9uKGUpe3ZhciBuPWUub2ZmZXJJZD09PXMuZmFrZU9mZmVySWQ/XCJzaG93VGVtcGxhdGVcIjpcInNob3dPZmZlclwiO1MuaGFzQ2FsbGJhY2sobikmJlMuZmlyZUNhbGxiYWNrcyhuLGUsdm9pZCAwLCEwKX0sUT1mdW5jdGlvbihlKXtbe3F1ZXJ5UGFyYW06XCJwcm9tb19jb2RlXCIsY29uZmlnUGFyYW06XCJwcm9tb0NvZGVcIn1dLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciB0PW8uZ2V0UXVlcnlQYXJhbUJ5TmFtZShuLnF1ZXJ5UGFyYW0pO3QubGVuZ3RoJiYoZVtuLmNvbmZpZ1BhcmFtXT10KX0pKX0sWD1mdW5jdGlvbihlKXtpZihlLm9mZmVySWR8fCEwPT09ZS5wcmV2aWV3KXtpZihmdW5jdGlvbihlKXt2YXIgbj1PKGUpO3JldHVybiEhbVtuXX0oZSkpcmV0dXJuITE7ZS5wcmV2aWV3fHxmdW5jdGlvbihlKXt2YXIgbj1PKGUpO21bbl09ITB9KGUpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7UihlKX0pLDFlNCksby53YWl0Q2FsbChcInJlZnJlc2hVc2VyVG9rZW5cIiwoZnVuY3Rpb24oKXtvLndhaXRDYWxsKFwicmVmcmVzaEFjY2Vzc1Rva2VuTGlzdFwiLChmdW5jdGlvbigpe28ud2FpdENhbGwoXCJteUFjY291bnRMb2dpblwiLChmdW5jdGlvbigpe3ZhciBuO2lmKG8uc3RhcnRDYWxsKFwib2ZmZXJDcmVhdGVcIiksZS5jcmVhdGVJZnJhbWVGbj8oUShlKSxuPWUuY3JlYXRlSWZyYW1lRm4oZSkpOm49TChlKSwhbilyZXR1cm4gby5kb25lQ2FsbChcIm9mZmVyQ3JlYXRlXCIpLHZvaWQgby5lcnJvcihcIkNvdWxkIG5vdCBpbml0aWFsaXplIG9mZmVyOyBjaGVjayBjb25maWd1cmF0aW9uXCIpOyQoZSkmJlkobi5pZnJhbWVJZCksRyhlKX0pKX0pKX0pKX1lbHNlIG8uZXJyb3IoXCJNdXN0IHNwZWNpZnkgb2ZmZXJJZFwiKX07dmFyICQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFlLmRpcmVjdENoZWNrb3V0JiZcImlubGluZVwiIT09ZS5kaXNwbGF5TW9kZX0sWT1mdW5jdGlvbihlKXtvLndhaXRDYWxsKFwib2ZmZXJDcmVhdGVcIiwoZnVuY3Rpb24oKXtpLnNlbmQoXCJzdGFydERpcmVjdENoZWNrb3V0XCIse30sZSl9KSl9LEs9ZnVuY3Rpb24oZSxuKXtpZighZnVuY3Rpb24oZSl7cmV0dXJuIWUub2ZmZXJJZCYmIWUuaXNSZWRlbXB0aW9uJiYhZS5wcmV2aWV3fShlKSl7dmFyIHQ9Uy5oYXNDYWxsYmFjayhcImxvZ2luUmVxdWlyZWRcIik7ZS5pc1NpdGVMaWNlbnNpbmcmJnQmJih0ZSgpfHxyZSgpKT9mLnJlZnJlc2hVc2VyKEMuaWZyYW1lSWQpOihzLmhhc01vZGFsSWZyYW1lKCkmJnMuY2xvc2VNb2RhbENvbnRhaW5lcigpLG8uZGVidWcoXCJjcmVhdGluZyBjaGVja291dDogXCIsZSksZS5kaXNwbGF5TW9kZT1cInBvcHVwXCI9PT1lLmRpc3BsYXlNb2RlP1wicG9wdXBcIjpcIm1vZGFsXCIsZS5pc0NoZWNrb3V0PSEwLGUucGFyZW50PW4sby53YWl0Q2FsbChcInJlZnJlc2hVc2VyVG9rZW5cIiwoZnVuY3Rpb24oKXtvLndhaXRDYWxsKFwicmVmcmVzaEFjY2Vzc1Rva2VuTGlzdFwiLChmdW5jdGlvbigpe3ZhciB0O28uc3RhcnRDYWxsKFwib2ZmZXJDcmVhdGVcIiksdD1lLmNyZWF0ZUlmcmFtZUZuP2UuY3JlYXRlSWZyYW1lRm4oZSk6TChlKSxzLl9fcHJvdGVjdGVkX18uYWRkQ2hpbGRUb0lubGluZUlmcmFtZSh0LG4pLHQ/dyYmby53YWl0Q2FsbChcIm9mZmVyQ3JlYXRlXCIsKGZ1bmN0aW9uKCl7dz0hMTt2YXIgZT17fTtlLnVzZXJQcm92aWRlcj1hLmdldFByb3ZpZGVyKCkuZ2V0TmFtZSgpLGEuZ2V0UHJvdmlkZXIoKS5nZXRUb2tlbigpJiZhLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKS5sZW5ndGg+MD9lLnVzZXJUb2tlbj1hLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKTplLnVzZXJUb2tlbj1cIlwiLGUubm9OZWVkU3RhcnRDaGVja291dD0hMCxlLm5vTmVlZFN0YXJ0Q2hlY2tvdXRBZnRlckxvZ2luPSEwLGVlKGUsdC5pZnJhbWVJZCl9KSk6KG8uZG9uZUNhbGwoXCJvZmZlckNyZWF0ZVwiKSxvLmVycm9yKFwiQ291bGQgbm90IHN0YXJ0IGNoZWNrb3V0OyBjaGVjayBjb25maWd1cmF0aW9uXCIpKX0pKX0pKSl9fSxaPWZ1bmN0aW9uKGUsbil7aS5zZW5kKFwicmVsb2FkT2ZmZXJcIixuLGUpfSxlZT1mdW5jdGlvbihlLG4pe2kuYnJvYWRjYXN0KFwicmVsb2FkT2ZmZXJcIixlLG4pfSxuZT1mdW5jdGlvbihlLG4pe3ZhciB0PXtyZWxvYWRBZnRlckxvZ2luOiEwfTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LGUuY29uZmlnKSx0LnNpbmdsZUNvbnRhaW5lciYmZGVsZXRlIHQuc2luZ2xlQ29udGFpbmVyLG4udGVybUlkJiYodC50ZXJtSWQ9bi50ZXJtSWQpLG4udGVybSYmKHQudGVybT17fSx0LnRlcm09cSh0LnRlcm0sbi50ZXJtKSksbi5zdGFydFNjcmVlbiYmKHQuc3RhcnRTY3JlZW49bi5zdGFydFNjcmVlbiksbi5pc1JlZGVtcHRpb24mJih0LmlzUmVkZW1wdGlvbj1uLmlzUmVkZW1wdGlvbix0LnZvdWNoZXJDb2RlPW4ucmVkZW1wdGlvbiYmbi5yZWRlbXB0aW9uLmZvcm0mJm4ucmVkZW1wdGlvbi5mb3JtLnJlZGVlbUNvZGUsdC50ZXJtSWQ9bnVsbCksbiYmbi5jdXJyZW50U3RhdGUmJlwibW9kYWxcIj09PWUuY29uZmlnLmRpc3BsYXlNb2RlJiYodC5hbGxvd1JldHVyblRvU3RhcnRTdGF0ZT0hMCksbi5wcmV2ZW50RXh0ZXJuYWxMb2dpbiYmKHQucHJldmVudEV4dGVybmFsTG9naW49bi5wcmV2ZW50RXh0ZXJuYWxMb2dpbiksbi5zaGFyZWRBY2NvdW50Q29kZSYmKHQuc2hhcmVkQWNjb3VudENvZGU9bi5zaGFyZWRBY2NvdW50Q29kZSksbi5pc1NpdGVMaWNlbnNpbmcmJih0LmlzU2l0ZUxpY2Vuc2luZz1uLmlzU2l0ZUxpY2Vuc2luZyksbi5jYW1wYWlnbkNvZGUmJih0LmNhbXBhaWduQ29kZT1uLmNhbXBhaWduQ29kZSksbi5jYW1wYWlnbkdyb3VwSWQmJih0LmNhbXBhaWduR3JvdXBJZD1uLmNhbXBhaWduR3JvdXBJZCksdC5kaXNwbGF5TW9kZT1cIm1vZGFsXCIsdH0sdGU9ZnVuY3Rpb24oKXtyZXR1cm5cInB1Ymxpc2hlcl91c2VyX3JlZlwiPT09YS5nZXRQcm92aWRlcigpLmdldE5hbWUoKX0scmU9ZnVuY3Rpb24oKXtyZXR1cm5cInBpYW5vX2lkX2xpdGVcIj09PWEuZ2V0UHJvdmlkZXIoKS5nZXROYW1lKCl9O3JldHVybntuYW1lOlwib2ZmZXJcIixzaG93OmZ1bmN0aW9uKGUpe1wiaW5saW5lXCI9PT1lLmRpc3BsYXlNb2RlP3Mub3BlcmF0aW9uV2l0aENvbnRhaW5lcihlLmNvbnRhaW5lclNlbGVjdG9yLChmdW5jdGlvbigpe1goZSl9KSk6WChlKX0sZGVmZXJyZWRTaG93OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbix0LHIsaT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxyKXtuPWUsdD1yfSkpLGE9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7cj1lfSkpO3JldHVyblwicG9wdXBcIiE9PWUuZGlzcGxheU1vZGUmJmUub2ZmZXJJZD9vLndhaXRDYWxsKFwicmVmcmVzaEFjY2Vzc1Rva2VuTGlzdFwiLChmdW5jdGlvbigpe3ZhciBpO2UuaXNQcmVsb2FkPSEwLG8uc3RhcnRDYWxsKFwib2ZmZXJDcmVhdGVcIiksZS5jcmVhdGVJZnJhbWVGbj8oUShlKSxpPWUuY3JlYXRlSWZyYW1lRm4oZSkpOmk9TChlKSxpPyhpLmVsZW1lbnQub25sb2FkPWZ1bmN0aW9uKCl7cihpKX0sbihpKSk6KG8uZG9uZUNhbGwoXCJvZmZlckNyZWF0ZVwiKSxvLmVycm9yKFwiQ291bGQgbm90IGluaXRpYWxpemUgb2ZmZXI7IGNoZWNrIGNvbmZpZ3VyYXRpb25cIiksdCgpKX0pKTp0KCkse3Byb21pc2U6aSxzaG93OmZ1bmN0aW9uKCl7aS50aGVuKEopLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSkudGhlbigoZnVuY3Rpb24obil7QihuKSwkKGUpJiZZKG4uaWZyYW1lSWQpLEcoZSl9KSwoZnVuY3Rpb24oKXtYKGUpLGRlbGV0ZSBlLmlzUHJlbG9hZH0pKX19fShlKX0sY2xvc2U6ZnVuY3Rpb24oKXtzLmNsb3NlTW9kYWxDb250YWluZXIoKX0sY2xvc2VJbmxpbmU6ZnVuY3Rpb24oZSl7cy5fX3Byb3RlY3RlZF9fLmNsb3NlSW5saW5lQ29udGFpbmVycyhlKX0sc3RhcnRDaGVja291dDpLLHN0YXJ0UmVkZWVtVm91Y2hlcjpmdW5jdGlvbihlLG4pe3MuY2xvc2VNb2RhbENvbnRhaW5lcigpLGV8fChlPXt9KSxlLmlzUmVkZW1wdGlvbj0hMCxvLmRlYnVnKFwic3RhcnRpbmcgcmVkZWVtIHZvdWNoZXI6IFwiLGUpLGUuZGlzcGxheU1vZGU9XCJwb3B1cFwiPT09ZS5kaXNwbGF5TW9kZT9cInBvcHVwXCI6XCJtb2RhbFwiLGUuaXNDaGVja291dD0hMSxlLnBhcmVudD1uLG8ud2FpdENhbGwoXCJyZWZyZXNoQWNjZXNzVG9rZW5MaXN0XCIsKGZ1bmN0aW9uKCl7by5zdGFydENhbGwoXCJvZmZlckNyZWF0ZVwiKSwoZS5jcmVhdGVJZnJhbWVGbj9lLmNyZWF0ZUlmcmFtZUZuKGUpOkwoZSkpfHwoby5kb25lQ2FsbChcIm9mZmVyQ3JlYXRlXCIpLG8uZXJyb3IoXCJDb3VsZCBub3Qgc3RhcnQgcmVkZWVtOyBjaGVjayBjb25maWd1cmF0aW9uXCIpKX0pKX0sY3JlYXRlT2ZmZXJJZnJhbWU6TCxzaG93QmFja2Ryb3A6ZnVuY3Rpb24oKXtzLnNob3dCYWNrZHJvcCgpfSxoaWRlQmFja2Ryb3A6ZnVuY3Rpb24oKXtzLmhpZGVCYWNrZHJvcCgpfSxjZW50ZXJCYWNrZHJvcDpmdW5jdGlvbihlKXtzLmNlbnRlckJhY2tkcm9wKGUpfSxyZWdpc3RlckNhbGxiYWNrOmZ1bmN0aW9uKGUsbil7Uy5hZGRFdmVudChlKSxTLnJlZ2lzdGVyQ2FsbGJhY2soZSxuKX0scmVsb2FkOloscmVsb2FkQWxsOmZ1bmN0aW9uKGUsbil7dmFyIHQ9ZXx8e307by53YWl0Q2FsbChcInJlZnJlc2hVc2VyVG9rZW5cIiwoZnVuY3Rpb24oKXtlZShPYmplY3QuYXNzaWduKHQse3VzZXJUb2tlbjpwbi51c2VyLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKX0pLG4pfSkpfSxyZXNldFVzZXJBbmRSZWxvYWRBbGw6ZnVuY3Rpb24oZSxuKXt2YXIgdD1lfHx7fTtlZShPYmplY3QuYXNzaWduKHQse3VzZXJUb2tlbjpcIlwifSksbil9LGNoZWNrVGhyZWVEU1JlZGlyZWN0OmZ1bmN0aW9uKCl7dmFyIGU9XCJwbl9ydXJsXzNkc1wiLG49by5nZXRRdWVyeVBhcmFtQnlOYW1lKGUpO2lmKG4pe3ZhciB0PXtvZmZlcklkOlwicG5fb2ZmZXJfaWRcIixvaWQ6XCJwbl9vaWRcIix0ZXJtSWQzZHM6XCJwbl90ZXJtX2lkXCIscHJvdmlkZXJJZDpcInBuX3Byb3ZpZGVyX2lkXCIsdGhpcmRQYXJ0eVBhcmFtczpcInRoaXJkX3BhcnR5X3BhcmFtc1wifSxyPVtlXSxpPU9iamVjdC5rZXlzKHQpLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXt2YXIgaT1PYmplY3QuYXNzaWduKHt9LGUpO3JldHVybiBpW25dPW8uZ2V0UXVlcnlQYXJhbUJ5TmFtZSh0W25dKSxyLnB1c2godFtuXSksaX0pLHt9KTtvLnJlbW92ZVF1ZXJ5UGFyYW1CeU5hbWUociksWChPYmplY3QuYXNzaWduKHtkaXNwbGF5TW9kZTpcIm1vZGFsXCIscnVybF8zZHM6bn0saSkpfX19fTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJvZmZlclwiLHt1c2VWYWx1ZTpHZSgpfSkscG4ub2ZmZXI9cG4uY29udGFpbmVyLnJlc29sdmUoXCJvZmZlclwiKTt2YXIgUWU9ZnVuY3Rpb24oKXt2YXIgZSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwianFVdGlsc1wiKSx0PXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSxyPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicG9zdG1lc3NhZ2VcIiksbz1wbi5jb250YWluZXIucmVzb2x2ZShcIm9mZmVyXCIpLGk9cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1c2VyXCIpLGE9cG4uY29udGFpbmVyLnJlc29sdmUoXCJjb250YWluZXJVdGlsc1wiKSxzPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicGlhbm9JZFwiKSxjPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwibG9nZ2luZ1wiKSxsPXt9LHU9ITEsZD17bG9naW5SZXF1aXJlZDpbXSxsb2dpblN1Y2Nlc3M6W119LHA9ZnVuY3Rpb24oKXtyZXR1cm4gcG4uZ2V0RW5kcG9pbnRSb290KCkrXCIvY2hlY2tvdXQvbXlhY2NvdW50L3Nob3dcIn0sZj1mdW5jdGlvbihlLG4pe2UuZWxlbWVudC5zdHlsZS5oZWlnaHQ9KGUuY29uZmlnLm1heEhlaWdodD9NYXRoLm1pbihuLmhlaWdodCxlLmNvbmZpZy5tYXhIZWlnaHQpOm4uaGVpZ2h0KStcInB4XCIsZS5jb250YWluZXIuc3R5bGUuaGVpZ2h0PShlLmNvbmZpZy5tYXhIZWlnaHQ/TWF0aC5taW4obi5oZWlnaHQsZS5jb25maWcubWF4SGVpZ2h0KTpuLmhlaWdodCkrXCJweFwiLGUuZWxlbWVudC5zdHlsZS53aWR0aD1uLndpZHRoK1wicHhcIixcIm1vZGFsXCI9PT1lLmNvbmZpZy5kaXNwbGF5TW9kZSYmKGUuY29udGFpbmVyLnN0eWxlLndpZHRoPW4ud2lkdGgrXCJweFwiKSxyLnNlbmQoXCJyZXNpemVkXCIse2hlaWdodDplLmNvbmZpZy5tYXhIZWlnaHQ/TWF0aC5taW4obi5oZWlnaHQsZS5jb25maWcubWF4SGVpZ2h0KTpuLmhlaWdodCx3aWR0aDpuLndpZHRofSxlLmlmcmFtZUlkKX0sbT1mdW5jdGlvbih0LHIsaSl7cmV0dXJuIGZ1bmN0aW9uKCl7ZSYmKG4ucmVtb3ZlQ2xhc3MoXCJ0cC1hY3RpdmVcIixlKSxvLmhpZGVCYWNrZHJvcCgpLHdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe24ucmVtb3ZlKGUpfSksMjUwKSxyLnJlc3VsdD1pLHQocikpfX0sZz1mdW5jdGlvbihlKXt2YXIgdD1uLndpblNpemUoKTtlLm9mZnNldEhlaWdodD50LmhlaWdodD8oITE9PT11JiYoZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdT0hMCksZS5zdHlsZS5tYXJnaW5Ub3A9d2luZG93LnNjcm9sbFktLjUqdC5oZWlnaHQrXCJcIik6KCEwPT09dSYmKGUuc3R5bGUucG9zaXRpb249XCJmaXhlZFwiLHU9ITEpLGUuc3R5bGUubWFyZ2luVG9wPTAtLjUqZS5vZmZzZXRIZWlnaHQrXCJcIiksby5jZW50ZXJCYWNrZHJvcChlKSxlLnN0eWxlLm1hcmdpbkxlZnQ9MC0uNSplLm9mZnNldFdpZHRoK1wiXCJ9LHY9ZnVuY3Rpb24odCxpKXshZnVuY3Rpb24odCxyKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uYWRkQ2xhc3MoXCJ0cC1tb2RhbFwiLGkpO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5hZGRDbGFzcyhcInRwLWNsb3NlXCIsYSk7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLmFkZENsYXNzKFwidHAtbWVzc2FnZVwiLHMpLGkuc3R5bGUud2lkdGg9KHQud2lkdGg/dC53aWR0aDo0MDApK1wicHhcIixzLmlubmVySFRNTD10Lm1lc3NhZ2U7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLmFkZENsYXNzKFwidHAtYnRuLWNvbnRhaW5lclwiLGMpO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7bi5hZGRDbGFzcyhcInRwLWJ0blwiLGwpLG4uYWRkQ2xhc3MoXCJ0cC1vay1idG5cIixsKSxsLmlubmVySFRNTD10Lm9rP3Qub2s6XCJPa1wiO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7bi5hZGRDbGFzcyhcInRwLWJ0blwiLHUpLG4uYWRkQ2xhc3MoXCJ0cC1jYW5jZWwtYnRuXCIsdSksdS5pbm5lckhUTUw9dC5jYW5jZWw/dC5jYW5jZWw6XCJDYW5jZWxcIixuLm9uKGEsXCJjbGlja1wiLG0ocix0LFwiY2FuY2VsXCIpKSxuLm9uKHUsXCJjbGlja1wiLG0ocix0LFwiY2FuY2VsXCIpKSxuLm9uKGwsXCJjbGlja1wiLG0ocix0LFwib2tcIikpLG4uYXBwZW5kKGksYSksbi5hcHBlbmQoaSxzKSxuLmFwcGVuZChjLGwpLG4uYXBwZW5kKGMsdSksbi5hcHBlbmQoaSxjKSxuLmFwcGVuZChkb2N1bWVudC5ib2R5LGkpLG8uc2hvd0JhY2tkcm9wKCksbi5hZGRDbGFzcyhcInRwLWFjdGl2ZVwiLGkpLGcoaSksZT1pfShpLnBhcmFtcywoZnVuY3Rpb24oZSl7ci5zZW5kKFwiY2xvc2VEaWFsb2dcIixlLGxbaS5zZW5kZXJdLmlmcmFtZUlkKX0pKX0saD1mdW5jdGlvbihlLG4pe2RbZV09ZFtlXXx8W10sZFtlXS5wdXNoKG4pfSx3PWZ1bmN0aW9uKGUsbixvKXtpZih0LmRlYnVnKFwicmVjZWl2ZWQgZXZlbnQ6IFwiK2Usbiksdm9pZCAwIT09ZFtlXSl7Zm9yKHZhciBpPTA7aTxkW2VdLmxlbmd0aDsrK2kpe3QuZGVidWcoXCJmaXJpbmcgY2FsbGJhY2sgZm9yIGV2ZW50OiBcIitlKTt2YXIgYT1kW2VdW2ldKG4pO24mJm4ucmVzdWx0Q2FsbGJhY2tJZCYmKG4ucmVzdWx0PWEsbi5ldmVudD1lLHIuc2VuZChcInJlc3VsdENhbGxiYWNrXCIsbixvKSl9IWRbZV0ubGVuZ3RoJiZuJiZuLnJlc3VsdENhbGxiYWNrSWQmJihuLmNhbGxiYWNrTm90Rm91bmQ9ITAsbi5ldmVudD1lLHIuc2VuZChcInJlc3VsdENhbGxiYWNrXCIsbixvKSl9fSx5PWZ1bmN0aW9uKGUpe3N3aXRjaCh0LmxvZyhcIioqKiBNeSBhY2NvdW50IGV2ZW50IHJlY2VpdmVkXCIsZS5ldmVudCxlLnBhcmFtcyksZS5ldmVudCl7Y2FzZVwicmVzaXplXCI6dC5kZWJ1ZyhcIioqKiBSZXNpemUgZXZlbnRcIixlLnBhcmFtcy53aWR0aCxlLnBhcmFtcy5oZWlnaHQpLGYobFtlLnNlbmRlcl0sZS5wYXJhbXMpLFwibW9kYWxcIj09PWxbZS5zZW5kZXJdLmNvbmZpZy5kaXNwbGF5TW9kZSYmZyhsW2Uuc2VuZGVyXS5jb250YWluZXIpO2JyZWFrO2Nhc2VcImxvYWRlZFwiOnIuc2VuZChcImluaXRNYXhIZWlnaHRcIix7aGVpZ2h0OmxbZS5zZW5kZXJdLmNvbmZpZy5tYXhIZWlnaHR9LGxbZS5zZW5kZXJdLmlmcmFtZUlkKSxmKGxbZS5zZW5kZXJdLGUucGFyYW1zKSxcInBpYW5vSWRcIj09PWkuZ2V0UHJvdmlkZXIoKS5uYW1lJiZzLl9fcHJvdGVjdGVkX18uZXhlY3V0ZVBvc3RNZXNzYWdlc0JhdGNoKCksXCJtb2RhbFwiPT09bFtlLnNlbmRlcl0uY29uZmlnLmRpc3BsYXlNb2RlJiZ3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLmFkZENsYXNzKFwidHAtYWN0aXZlXCIsbFtlLnNlbmRlcl0uY29udGFpbmVyKSxnKGxbZS5zZW5kZXJdLmNvbnRhaW5lcil9KSwyNSk7YnJlYWs7Y2FzZVwiY2FuY2VsXCI6Y2FzZVwiY29tcGxldGVcIjpjYXNlXCJlcnJvclwiOmNhc2VcImxvZ2luUmVxdWlyZWRcIjpjYXNlXCJjdXN0b21FdmVudFwiOncoZS5ldmVudCxlLnBhcmFtcyxlLnNlbmRlcik7YnJlYWs7Y2FzZVwib3BlbkRpYWxvZ1wiOnYoZS5ldmVudCxlKTticmVhaztjYXNlXCJwaWFub0lkUHJvZmlsZVVwZGF0ZWRcIjpzLm9uUHJvZmlsZVVwZGF0ZShlLnBhcmFtcywoZnVuY3Rpb24oKXt2YXIgbj1lLnBhcmFtcztuJiZuLnJlc3VsdENhbGxiYWNrSWQmJnIuc2VuZChcInJlc3VsdENhbGxiYWNrXCIsbixlLnNlbmRlcik7dmFyIHQ9e3VzZXJUb2tlbjplLnBhcmFtcy50b2tlbix1c2VyOmUucGFyYW1zLnVzZXJ9O2IodCl9KSk7YnJlYWs7Y2FzZVwiZXh0ZW5kZWRVc2VyTG9naW5SZXF1aXJlZFwiOnMub25FeHRlbmRlZFVzZXJMb2dpblJlcXVpcmVkKCk7YnJlYWs7Y2FzZVwibG9naW5TdWNjZXNzXCI6aS5nZXRQcm92aWRlcigpLm9uTG9naW5TdWNjZXNzKGUucGFyYW1zKTt2YXIgbz17cmVsb2FkQWZ0ZXJMb2dpbjohMCx1c2VyVG9rZW46ZS5wYXJhbXMudXNlcl90b2tlbix1c2VyOmUucGFyYW1zLnVzZXJ9O2IobyksdyhlLmV2ZW50LGUucGFyYW1zLGUuc2VuZGVyKTticmVhaztjYXNlXCJsb2dvdXRcIjppLmxvZ291dCgoZnVuY3Rpb24oKXt2YXIgZT17fTtlLnVzZXJQcm92aWRlcj1pLmdldFByb3ZpZGVyKCkuZ2V0TmFtZSgpLGUudXNlclRva2VuPWkuZ2V0UHJvdmlkZXIoKS5nZXRUb2tlbigpJiZpLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKS5sZW5ndGg+MD9pLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKTpcIlwiLGIoZSl9KSksdyhlLmV2ZW50LGUucGFyYW1zLGUuc2VuZGVyKTticmVhaztjYXNlXCJ1c2VyUHJvZmlsZVVwZGF0ZVN1Y2Nlc3NcIjp2YXIgYT1lLGM9YS5ldmVudCx1PWEucGFyYW1zLGQ9YS5zZW5kZXI7aS5nZXRQcm92aWRlcigpLm9uTG9naW5TdWNjZXNzKHUpO3ZhciBwPXt1c2VyUHJvdmlkZXI6dS51c2VyX3Byb3ZpZGVyLHVzZXJUb2tlbjp1LnVzZXJfdG9rZW59O2Zvcih2YXIgbSBpbiBiKHApLHcoYyx1LGQpLGwpaWYobC5oYXNPd25Qcm9wZXJ0eShtKSl7dmFyIGg9bFttXS5jb25maWc7aC5oYXNPd25Qcm9wZXJ0eShcInVzZXJUb2tlblwiKSYmZGVsZXRlIGgudXNlclRva2VuLEkoaCl9YnJlYWs7Y2FzZVwibGFuZ0NoYW5nZWRXaXRoaW5NeUFjY291bnRcIjpzLmlzQ29uZmlndXJlZCgpJiZzLnVwZGF0ZUxhbmcoZS5wYXJhbXMubGFuZyk7YnJlYWs7Y2FzZVwicmVxdWVzdFNjcm9sbERhdGFcIjprKGUuc2VuZGVyKTticmVhaztjYXNlXCJkb3duRm9yTWFpbnRlbmFuY2VcIjpmKGxbZS5zZW5kZXJdLHt3aWR0aDozMDAsaGVpZ2h0OjIwMH0pO2JyZWFrO2Nhc2VcInJlbW92ZVF1ZXJ5UGFyYW1CeU5hbWVcIjpBcnJheS5pc0FycmF5KGUucGFyYW1zLnBhcmFtc1RvUmVtb3ZlKSYmZS5wYXJhbXMucGFyYW1zVG9SZW1vdmUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5yZW1vdmVRdWVyeVBhcmFtQnlOYW1lKGUpfSkpO2JyZWFrO2Nhc2VcImdldFRyYWNraW5nRGF0YVwiOnIuc2VuZChcImdldFRyYWNraW5nRGF0YVJlc3BvbnNlRXZlbnRcIix7cGFnZVZpZXdJZDpwbi5tYWluLmZldGNoUGFnZVZpZXdJZCgpLHRiYzp0LmdldFRiY0Nvb2tpZSgpfSxlLnNlbmRlcik7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdm9pZCB0LmxvZyhcIlJlY2VpdmVkIGludmFsaWQgZXZlbnQgdHlwZTogXCIrZS5ldmVudCl9fSxiPWZ1bmN0aW9uKGUpe3IuYnJvYWRjYXN0KFwicmVsb2FkT2ZmZXJcIixlKX0saz1mdW5jdGlvbihlKXt2YXIgbj1sW2VdLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdD17aWZyYW1lUmVjdDp7Ym90dG9tOm4uYm90dG9tLGhlaWdodDpuLmhlaWdodCxsZWZ0Om4ubGVmdCxyaWdodDpuLnJpZ2h0LHRvcDpuLnRvcCx3aWR0aDpuLndpZHRofX07ci5zZW5kKFwicmV0dXJuU2Nyb2xsRGF0YVwiLHQsZSl9O2Z1bmN0aW9uIF8oZSl7dmFyIG89e3dpZGdldDpcIm15YWNjb3VudFwifTtpZihlLnRlbXBsYXRlSWQmJihvLnRlbXBsYXRlSWQ9ZS50ZW1wbGF0ZUlkKSx2b2lkIDA9PT1lLmRpc3BsYXlNb2RlKWUuZGlzcGxheU1vZGU9XCJpbmxpbmVcIjtlbHNlIGlmKFwibW9kYWxcIiE9PWUuZGlzcGxheU1vZGUmJlwiaW5saW5lXCIhPT1lLmRpc3BsYXlNb2RlKXJldHVybiB2b2lkIHQubG9nKFwiSW52YWxpZCBvZmZlciBkaXNwbGF5TW9kZTsgbXVzdCBiZSBvbmUgb2Y6IG1vZGFsLCBpbmxpbmVcIik7aWYoby5kaXNwbGF5TW9kZT1lLmRpc3BsYXlNb2RlLG8uaWZyYW1lSWQ9dC5yYW5kb21TdHJpbmcoMTYpLG8udXJsPXdpbmRvdy5sb2NhdGlvbi5ocmVmLG8uaW5pdGlhbFdpZHRoPWUud2lkdGgsby5pbml0aWFsSGVpZ2h0PWUuaGVpZ2h0LG8ubWF4SGVpZ2h0PWUubWF4SGVpZ2h0LHBuLmxvY2FsZSYmKG8ubGFuZz1wbi5sb2NhbGUpLCFwbi5qYW5yYWluLmlzQ29uZmlndXJlZCgpfHx2b2lkIDAhPT1lLmxvZ2luUmVxdWlyZWQmJmUubG9naW5SZXF1aXJlZClpZighcG4uZ2lneWEuaXNDb25maWd1cmVkKCl8fHZvaWQgMCE9PWUubG9naW5SZXF1aXJlZCYmZS5sb2dpblJlcXVpcmVkKWlmKHBuLnBpYW5vSWQuaXNDb25maWd1cmVkKCkpe3Y9ZTtpZihwbi5waWFub0lkLnNldENhbGxiYWNrcyh7bG9nZ2VkSW46ZnVuY3Rpb24obil7dmFyIHQ7by51c2VyVG9rZW4hPT1uLnRva2VuJiYoZS5sb2dpblN1Y2Nlc3MmJih0PWUubG9naW5TdWNjZXNzKG4pKSwodm9pZCAwPT09dHx8dCkmJih2LnVzZXJUb2tlbj1uLnRva2VuLEkodikpKX0sbG9nZ2VkT3V0OmZ1bmN0aW9uKCl7dmFyIGU9e307ZS51c2VyUHJvdmlkZXI9aS5nZXRQcm92aWRlcigpLmdldE5hbWUoKSxlLnVzZXJUb2tlbj1pLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKSYmaS5nZXRQcm92aWRlcigpLmdldFRva2VuKCkubGVuZ3RoPjA/aS5nZXRQcm92aWRlcigpLmdldFRva2VuKCk6XCJcIixiKGUpfX0pLHZvaWQgMD09PWUubG9naW5SZXF1aXJlZHx8IWUubG9naW5SZXF1aXJlZCl7dmFyIHM9MDtlLmxvZ2luUmVxdWlyZWQ9ZnVuY3Rpb24oKXtpZigrK3M+MTApdC5sb2coXCJUb28gbWFueSBhdHRlbXBzIHRvIGxvZ2luIGZvciBteUFjY291bnRcIik7ZWxzZXt2YXIgZT10LmdldFF1ZXJ5UGFyYW1CeU5hbWUoXCJ2ZXJpZmljYXRpb25fY29kZVwiKTtwbi5waWFub0lkLnNob3coe3ZlcmlmaWNhdGlvbkNvZGU6ZX0pfX19by5waWFub0lkVXJsPXBuLnBpYW5vSWQuZ2V0SWZyYW1lVXJsKCk7dmFyIHU9cG4ucGlhbm9JZC5nZXRMYW5nKCk7dSYmKG8ubGFuZz11KSxwbi5waWFub0lkLm9uTGFuZ0NoYW5nZSgoZnVuY3Rpb24oZSl7ci5zZW5kKFwibGFuZ0NoYW5nZWRcIix7bGFuZzplfSxvLmlmcmFtZUlkKX0pLG8uaWZyYW1lSWQpfWVsc2UgcG4ucGlhbm9JZExpdGUuaXNDb25maWd1cmVkKCkmJihvLnBpYW5vSWRVcmw9cG4ucGlhbm9JZC5nZXRJZnJhbWVVcmwoKSk7ZWxzZXttPVtdO3BuLmdpZ3lhLnJlZ2lzdGVyQ2FsbGJhY2soXCJvbkhpZGVcIiwoZnVuY3Rpb24oKXthLmFjdGl2YXRlQ29udGFpbmVycyhtKSx0LmRvbmVDYWxsKFwibXlBY2NvdW50TG9naW5cIil9KSksZS5sb2dpblJlcXVpcmVkPWZ1bmN0aW9uKCl7dmFyIG49ZTt0LndhaXRDYWxsKFwicmVmcmVzaEFjY2Vzc1Rva2VuTGlzdFwiLChmdW5jdGlvbigpe3Qud2FpdENhbGwoXCJvZmZlckNyZWF0ZVwiLChmdW5jdGlvbigpe3Quc3RhcnRDYWxsKFwibXlBY2NvdW50TG9naW5cIiksbT1hLmhpZGVNb2RhbENvbnRhaW5lcigpLHBuLmdpZ3lhLmxvZ2luKChmdW5jdGlvbih0KXt2YXIgcjtlLmxvZ2luU3VjY2VzcyYmKHI9ZS5sb2dpblN1Y2Nlc3ModCkpLCh2b2lkIDA9PT1yfHxyKSYmKG4udXNlclRva2VuPXQudXNlcl90b2tlbixJKG4pKX0pKX0pKX0pKX19ZWxzZXt2YXIgbT1bXSx2PWU7cG4uamFucmFpbi5hZGRFdmVudEhhbmRsZXIoXCJvbk1vZGFsQ2xvc2VcIiwoZnVuY3Rpb24oKXthLmFjdGl2YXRlQ29udGFpbmVycyhtKSx0LmRvbmVDYWxsKFwibXlBY2NvdW50TG9naW5cIil9KSkscG4uamFucmFpbi5yZWdpc3RlckNhbGxiYWNrKFwidXNlckNoYW5nZWRcIiwoZnVuY3Rpb24obil7dmFyIHQ7biYmbi51c2VyX3Rva2VuJiYoZS5sb2dpblN1Y2Nlc3MmJih0PWUubG9naW5TdWNjZXNzKG4pKSwodm9pZCAwPT09dHx8dCkmJih2LnVzZXJUb2tlbj1uLnVzZXJfdG9rZW4sSSh2KSkpfSkpLHBuLmphbnJhaW4uYWRkRXZlbnRIYW5kbGVyKFwib25DYXB0dXJlU2Vzc2lvbkVuZGVkXCIsKGZ1bmN0aW9uKG4pe3ZhciB0O2UubG9naW5TdWNjZXNzJiYodD1lLmxvZ2luU3VjY2VzcyhuKSksKHZvaWQgMD09PXR8fHQpJiYodi51c2VyVG9rZW49bnVsbCxJKHYpKX0pKSxlLmxvZ2luUmVxdWlyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC53YWl0Q2FsbChcInJlZnJlc2hBY2Nlc3NUb2tlbkxpc3RcIiwoZnVuY3Rpb24oKXt0LndhaXRDYWxsKFwib2ZmZXJDcmVhdGVcIiwoZnVuY3Rpb24oKXt0LnN0YXJ0Q2FsbChcIm15QWNjb3VudExvZ2luXCIpLG09YS5oaWRlTW9kYWxDb250YWluZXIoKSxwbi5qYW5yYWluLmxvZ2luKCl9KSl9KSksITF9fXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oYSl7dC53YWl0Q2FsbChcInJlZnJlc2hVc2VyVG9rZW5cIiwoZnVuY3Rpb24oKXt2YXIgcyx1PXt9O2lmKFwiaW5saW5lXCI9PT1lLmRpc3BsYXlNb2RlKXtpZighZS5jb250YWluZXJTZWxlY3RvcilyZXR1cm4gdm9pZCB0LmxvZyhcIk15IGFjY291bnQgbXVzdCBoYXZlIGEgdmFsaWQgY29udGFpbmVyU2VsZWN0b3JcIik7aWYoIShzPW4ucXVlcnlFbChlLmNvbnRhaW5lclNlbGVjdG9yKSkpcmV0dXJuIHZvaWQgdC5sb2coXCJNeSBhY2NvdW50IG11c3QgaGF2ZSBhIHZhbGlkIGNvbnRhaW5lclNlbGVjdG9yXCIpO28ud2lkdGg9bi5nZXRXaWR0aChzKX1lbHNlIHM9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uYWRkQ2xhc3MoXCJ0cC1tb2RhbFwiLGUpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIG4uYWRkQ2xhc3MoXCJ0cC1jbG9zZVwiLHQpLG4uYXBwZW5kKGUsdCksbi5hcHBlbmQoZG9jdW1lbnQuYm9keSxlKSxlfSgpO2Zvcih2YXIgbSBpbiBvLnBhZ2VWaWV3SWQ9cG4ubWFpbi5mZXRjaFBhZ2VWaWV3SWQoKSxvLnRiYz10LmdldFRiY0Nvb2tpZSgpLG8udXNlclByb3ZpZGVyPWkuZ2V0UHJvdmlkZXIoKS5nZXROYW1lKCksZS51c2VyVG9rZW4/by51c2VyVG9rZW49ZS51c2VyVG9rZW46by51c2VyVG9rZW49aS5nZXRQcm92aWRlcigpLmdldFRva2VuKCksZClcImZ1bmN0aW9uXCI9PXR5cGVvZiBlW21dJiYodC5kZWJ1ZyhcIlJlZ2lzdGVyaW5nIFwiK20rXCIgY2FsbGJhY2sgZm9yIGlmcmFtZSBcIitvLmlmcmFtZUlkKSxoKG0sZVttXSkpO28uYWlkPXBuLmFpZCxwbi5pc1NlbnNpdGl2ZURhdGFQcm90ZWN0aW9uRW5hYmxlZCYmKHU9e3VzZXJUb2tlbjpvLnVzZXJUb2tlbixpZnJhbWVJZDpvLmlmcmFtZUlkfSxkZWxldGUgby51c2VyVG9rZW4pO3ZhciB2PXAoKStcIj9cIituLnBhcmFtKG8pLHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSxiPXtzY3JvbGxpbmc6XCJub1wiLGFsbG93dHJhbnNwYXJlbmN5OlwidHJ1ZVwiLG5hbWU6by5pZnJhbWVJZCxpZDpvLmlmcmFtZUlkLGFsbG93OlwicGF5bWVudFwifTtwbi5pc1NlbnNpdGl2ZURhdGFQcm90ZWN0aW9uRW5hYmxlZHx8KGIuc3JjPXYpLE9iamVjdC5rZXlzKGIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uc2V0QXR0cihlLGJbZV0sdyl9KSk7dmFyIGs9e292ZXJmbG93OlwiaGlkZGVuXCIsYm9yZGVyOlwiMFwiLGhlaWdodDpcIjBcIn07aWYoXCJpbmxpbmVcIj09PWUuZGlzcGxheU1vZGU/ay53aWR0aD1vLndpZHRoK1wicHhcIjprLndpZHRoPTAsT2JqZWN0LmtleXMoaykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dy5zdHlsZVtlXT1rW2VdfSkpLGxbby5pZnJhbWVJZF09e2lmcmFtZUlkOm8uaWZyYW1lSWQsY29uZmlnOmUsZWxlbWVudDp3LGNvbnRhaW5lcjpzLGNvbnRhaW5lcldpZHRoOm4uZ2V0V2lkdGgocyksY29udGFpbmVySGVpZ2h0Om4uZ2V0SGVpZ2h0KHMpfSxyLmluaXQoe3Bvc3RNZXNzYWdlVXJsOnAoKSxyZWNlaXZlOnksaWZyYW1lOmxbby5pZnJhbWVJZF19KSxuLm9uKHdpbmRvdyxcImtleXVwXCIsKGZ1bmN0aW9uKGUpe30pKSxcIm1vZGFsXCI9PT1lLmRpc3BsYXlNb2RlJiZuLm9uKHdpbmRvdyxcInJlc2l6ZVwiLChmdW5jdGlvbigpe2cocyl9KSksXCJtb2RhbFwiPT09ZS5kaXNwbGF5TW9kZT9nKHMpOm4uZW1wdHkocykscG4uaXNTZW5zaXRpdmVEYXRhUHJvdGVjdGlvbkVuYWJsZWQpe3UuaWZyYW1lU3JjPXY7dmFyIF89Qyh1KTtuLmFwcGVuZChzLHcpLG4uYXBwZW5kKHMsXyksXy5zdWJtaXQoKX1lbHNlIG4uYXBwZW5kKHMsdyk7aWYobi5vbih3aW5kb3csXCJyZXNpemVcIiwoZnVuY3Rpb24oKXshZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gbCl7dmFyIHQ9bFtlXSxvPSExLGk9bi5nZXRXaWR0aCh0LmNvbnRhaW5lcik7aSE9PXQuY29udGFpbmVyV2lkdGgmJih0LmVsZW1lbnQuc3R5bGUud2lkdGg9aStcIlwiLHQuY29udGFpbmVyV2lkdGg9aSxvPSEwKTt2YXIgYT1uLmdldEhlaWdodCh0LmNvbnRhaW5lcik7YSE9PXQuY29udGFpbmVySGVpZ2h0JiYodC5lbGVtZW50LnN0eWxlLmhlaWdodD1hK1wiXCIsdC5jb250YWluZXJIZWlnaHQ9YSxvPSEwKSxvJiZyLnNlbmQoXCJyZXNpemVcIix7d2lkdGg6aSxoZWlnaHQ6YX0sZSl9fSgpfSkpLFwiaW5saW5lXCI9PT1lLmRpc3BsYXlNb2RlJiZ3aW5kb3cuUmVzaXplT2JzZXJ2ZXIpe3ZhciBJPW5ldyBSZXNpemVPYnNlcnZlcigoZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRXaWR0aChzKTt0PjAmJmYobFtvLmlmcmFtZUlkXSx7d2lkdGg6dH0pfSkpO0kub2JzZXJ2ZShzKSxsW28uaWZyYW1lSWRdLnJlc2l6ZU9ic2VydmVyPUl9cG4ub2ZmZXImJnBuLm9mZmVyLnJlZ2lzdGVyQ2FsbGJhY2soXCJjb21wbGV0ZVwiLChmdW5jdGlvbigpe3Iuc2VuZChcInJlZnJlc2hOb3dcIix7fSxvLmlmcmFtZUlkKX0pKSxhKGxbby5pZnJhbWVJZF0pLGMuc2V0VGltZShcIm15QWNjb3VudFNob3dcIil9KSl9KSl9dmFyIEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIikscj17aWQ6XCJmb3JtX1wiK2UuaWZyYW1lSWQsbWV0aG9kOlwicG9zdFwiLGFjdGlvbjplLmlmcmFtZVNyYyx0YXJnZXQ6ZS5pZnJhbWVJZH07cmV0dXJuIG4uc2V0QXR0cnMocix0KSxbe25hbWU6XCJ1c2VyVG9rZW5cIix2YWx1ZTplLnVzZXJUb2tlbn1dLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxvPXt0eXBlOlwiaGlkZGVuXCIsbmFtZTplLm5hbWV9O24uc2V0QXR0cnMobyxyKSxyLnZhbHVlPWUudmFsdWUsbi5hcHBlbmQodCxyKX0pKSx0fSxJPWZ1bmN0aW9uKGUpe3Qud2FpdENhbGwoXCJvZmZlckNyZWF0ZVwiLChmdW5jdGlvbigpe3Qud2FpdENhbGwoXCJyZWZyZXNoQWNjZXNzVG9rZW5MaXN0XCIsKGZ1bmN0aW9uKCl7dmFyIG47bnVsbD09PShuPV8oZSkpfHx2b2lkIDA9PT1ufHxuLnRoZW4oKGZ1bmN0aW9uKGUpe2V8fHQubG9nKFwiQ291bGQgbm90IGluaXRpYWxpemUgbXkgYWNjb3VudDsgY2hlY2sgY29uZmlndXJhdGlvblwiKX0pKX0pKX0pKX07cmV0dXJue25hbWU6XCJteWFjY291bnRcIixzaG93OkkscmVnaXN0ZXJDYWxsYmFjazpofX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJteWFjY291bnRcIix7dXNlVmFsdWU6UWV9KSxwbi5teWFjY291bnQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJteWFjY291bnRcIik7dmFyIFhlPWZ1bmN0aW9uKCl7dmFyIGU9cG4uY29udGFpbmVyLnJlc29sdmUoXCJqcVV0aWxzXCIpLG49cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpLHQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJhcGlcIikscj1wbi5jb250YWluZXIucmVzb2x2ZShcIm9mZmVyXCIpLG89cG4uY29udGFpbmVyLnJlc29sdmUoXCJldmVudFV0aWxzXCIpLmNyZWF0ZUV2ZW50TWFuYWdlcihbXCJvbkNoZWNrb3V0U3VjY2Vzc1wiLFwib25NZXRlckV4cGlyZWRcIixcIm9uTWV0ZXJFcnJvclwiLFwib25BY2Nlc3NHcmFudGVkXCIsXCJvbk1ldGVyQWN0aXZlXCIsXCJvbk1ldGVySW5hY3RpdmVcIixcIm1ldGVyU2VsZWN0b3JcIl0pLGk9e3N0YXRlOlwib2tcIix2aWV3c19sZWZ0Om51bGwsb2ZmZXJfaWQ6XCJcIixjdXJ0YWluX3RlbXBsYXRlX2lkOlwiXCIscmVtaW5kZXJfdGVtcGxhdGVfaWQ6XCJcIixjb29raWVfbmFtZTpcIlwiLGNvb2tpZV92YWx1ZTpcIlwiLGNvb2tpZV9leHBpcmVzOlwiXCIsc2hvd19yZW1pbmRlcjohMSxzaG93X2Nsb3NlX2J1dHRvbjohMX0sYT1mdW5jdGlvbihlLHQpe3JldHVybiBvLmZpcmUodm9pZCAwLGUsITAsdCksIXVbZV18fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHVbZV18fChuLmRlYnVnKFwiX2N1c3RvbUNhbGxlciBjYWxsZWQgd2l0aCBcIitlKSx1W2VdKHQpKX0scz1mdW5jdGlvbihuKXsobj1ufHx7fSkub2ZmZXJJZHx8KG4ub2ZmZXJJZD1pLm9mZmVyX2lkKSxuLnRlbXBsYXRlSWR8fChuLnRlbXBsYXRlSWQ9aS5jdXJ0YWluX3RlbXBsYXRlX2lkKSxuLmRpc3BsYXlNb2RlfHwobi5kaXNwbGF5TW9kZT11LmRpc3BsYXlNb2RlKSxuLmNvbnRhaW5lclNlbGVjdG9yfHwobi5jb250YWluZXJTZWxlY3Rvcj11LmNvbnRhaW5lclNlbGVjdG9yKSxuLnNob3dDbG9zZUJ1dHRvbnx8KG4uc2hvd0Nsb3NlQnV0dG9uPWkuc2hvd19jbG9zZV9idXR0b24pLFwiZnVuY3Rpb25cIj09PWUudHlwZSh1LmNsb3NlKSYmKG4uY2xvc2U9dS5jbG9zZSksXCJmdW5jdGlvblwiPT09ZS50eXBlKHUubG9naW5SZXF1aXJlZCkmJihuLmxvZ2luUmVxdWlyZWQ9dS5sb2dpblJlcXVpcmVkKSxcImZ1bmN0aW9uXCI9PT1lLnR5cGUodS5jdXN0b21FdmVudCkmJihuLmN1c3RvbUV2ZW50PXUuY3VzdG9tRXZlbnQpLFwiZnVuY3Rpb25cIj09PWUudHlwZSh1Lm9uQ2hlY2tvdXRTdWNjZXNzKSYmKG4uY29tcGxldGU9dS5vbkNoZWNrb3V0U3VjY2Vzcyksci5jcmVhdGVPZmZlcklmcmFtZShuKX0sYz1mdW5jdGlvbihlKXtpZihhKFwiX19fb25Qcm9jZXNzTWV0ZXJcIixlKSwhZS51c2VyX21ldGVyKXJldHVybiBuLmxvZyhcIkNvdWxkIG5vdCBsb2FkIG1ldGVyXCIsZSksdm9pZCBhKFwib25NZXRlckVycm9yXCIsZSk7aWYoKGk9ZS51c2VyX21ldGVyKSYmaS5jb29raWVfbmFtZSYmaS5jb29raWVfdmFsdWUmJmkuY29va2llX2V4cGlyZXMpe3ZhciB0PXtwYXRoOlwiL1wiLGV4cGlyZXM6aS5jb29raWVfZXhwaXJlc307aS5jb29raWVfZG9tYWluJiYodC5kb21haW49aS5jb29raWVfZG9tYWluKSxuLl9fcHJvdGVjdGVkX18uc2V0Q29va2llKGkuY29va2llX25hbWUsaS5jb29raWVfdmFsdWUsdCl9XCJva1wiPT09aS5zdGF0ZT9mdW5jdGlvbihlKXtuLmRlYnVnKFwiX2hhbmRsZU1ldGVyQWN0aXZlXCIsZSksZS5zaG93X3JlbWluZGVyJiZlLnJlbWluZGVyX3RlbXBsYXRlX2lkJiZlLnRyYWNrX3BhZ2VfdmlldyYmYShcIm9uU2hvd09mZmVyXCIsZSkmJnMoe3RlbXBsYXRlSWQ6ZS5yZW1pbmRlcl90ZW1wbGF0ZV9pZH0pLGEoXCJvbk1ldGVyQWN0aXZlXCIsZSl9KGkpOlwiYXBcIj09PWkuc3RhdGU/ZnVuY3Rpb24oZSl7bi5kZWJ1ZyhcIl9oYW5kbGVBY2Nlc3NHcmFudGVkXCIsZSksYShcIm9uQWNjZXNzR3JhbnRlZFwiLGUpfShpKTpcImlhXCI9PT1pLnN0YXRlP2Z1bmN0aW9uKGUpe24uZGVidWcoXCJfaGFuZGxlTWV0ZXJJbmFjdGl2ZVwiLGUpLGEoXCJvbk1ldGVySW5hY3RpdmVcIixlKX0oaSk6ZnVuY3Rpb24oZSl7bi5kZWJ1ZyhcIl9oYW5kbGVFeHBpcmVkXCIsZSksYShcIm9uTWV0ZXJFeHBpcmVkXCIsZSksZS50cmFja19wYWdlX3ZpZXcmJmEoXCJvblNob3dPZmZlclwiLGUpJiZzKCl9KGkpfSxsPWZ1bmN0aW9uKGUscixvKXtpZihudWxsIT09dS5wYXl3YWxsSWQmJlwiXCIhPT11LnBheXdhbGxJZCl7dmFyIGk9ZG9jdW1lbnQuVVJMO2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZShcImhyZWZcIik/aT1lLmdldEF0dHJpYnV0ZShcImhyZWZcIik6ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5hdHRyJiZlLmF0dHIoXCJocmVmXCIpJiYoaT1lLmF0dHIoXCJocmVmXCIpKTt2YXIgYT11LnRyYWNrUGFnZXZpZXc7YSYmZGVsZXRlIHUudHJhY2tQYWdldmlldzt2YXIgcz11Lm1ldGVyU2VsZWN0b3IoKTtzfHwocz1cIlwiKTt2YXIgbD17cGF5d2FsbF9pZDp1LnBheXdhbGxJZCx1cmw6ZW5jb2RlVVJJKGkpLHJlZmVyZXI6ZW5jb2RlVVJJKHUucmVmZXJlciksdHJhY2tfcGFnZV92aWV3OmEsbWV0ZXJfbmFtZTpzLHBhZ2V2aWV3X2lkOnBuLm1haW4uZmV0Y2hQYWdlVmlld0lkKCl9O3ImJihsLnRyYW5zYWN0aW9uX2lkPXIpLHUucmVmZXJlcj1cIlwiO3ZhciBkPW4uX19wcm90ZWN0ZWRfXy5nZXRDb29raWUoXCJ1bWNcIik7aWYoZClsLnVtYz1kO2Vsc2V7dmFyIHA9bi5fX3Byb3RlY3RlZF9fLmdldENvb2tpZShcInVtY19cIit1LnBheXdhbGxJZCk7cCYmKGwudW1jPXApfXQuY2FsbEFwaShcIi9hbm9uL21ldGVyL2xvYWRcIixsLChmdW5jdGlvbihlKXtjKGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG8mJm8oKX0pKX1lbHNlIG4uZGVidWcoXCJZb3UgbXVzdCBzcGVjaWZ5IGEgcGF5d2FsbElkIGluIHlvdXIgY29uZmlndXJhdGlvblwiKX0sdT17cGF5d2FsbElkOm51bGwsdHJhY2tQYWdldmlldzohMCx0cmFja0V4dGVybmFsUmVmZXJyZXI6ITAscmVmZXJlcjpkb2N1bWVudC5yZWZlcnJlcixvZmZlclVSTDpcIlwiLGRpc3BsYXlNb2RlOlwibW9kYWxcIixjb250YWluZXJTZWxlY3RvcjpcIlwiLG9uQ2hlY2tvdXRTdWNjZXNzOmZ1bmN0aW9uKCl7fSxvbk1ldGVyRXhwaXJlZDpmdW5jdGlvbigpe30sb25NZXRlckVycm9yOmZ1bmN0aW9uKCl7fSxvbkFjY2Vzc0dyYW50ZWQ6ZnVuY3Rpb24oKXt9LG9uTWV0ZXJBY3RpdmU6ZnVuY3Rpb24oKXt9LG9uTWV0ZXJJbmFjdGl2ZTpmdW5jdGlvbigpe30sbWV0ZXJTZWxlY3RvcjpmdW5jdGlvbigpe319O3JldHVybntuYW1lOlwibWV0ZXJcIixpbml0OmZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUpaWYodm9pZCAwIT09ZS5wYXl3YWxsSUR8fHZvaWQgMCE9PWUucGF5d2FsbElkKXtmb3IodmFyIHQgaW4gdm9pZCAwPT09ZS5wYXl3YWxsSWQmJihlLnBheXdhbGxJZD1lLnBheXdhbGxJRCksZSl1W3RdPWVbdF07dS5yZWZlcmVyPWRvY3VtZW50LnJlZmVycmVyLG4uZGVidWcoXCJJbml0aWFsaXppbmcgcGF5d2FsbDogXCIrdS5wYXl3YWxsSWQpLGwoKX1lbHNlIG4uZXJyb3IoXCJNdXN0IHNwZWNpZnkgcGF5d2FsbElkIHRvIGxvYWQgUGlhbm8gcGF5d2FsbFwiKTtlbHNlIG4uZXJyb3IoXCJNdXN0IHNwZWNpZnkgcGF5d2FsbCBjb25maWd1cmF0aW9uIHRvIGxvYWQgUGlhbm8gcGF5d2FsbFwiKX0saXNFeHBpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuIGkuc3RhdGUmJlwiZXhcIj09PWkuc3RhdGV9LGlzRXhwaXJlZE5leHRDbGljazpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT1pLnZpZXdzX2xlZnQmJjA9PT1pLnZpZXdzX2xlZnR9LGNoZWNrTWV0ZXI6ZnVuY3Rpb24oZSl7dS50cmFja1BhZ2V2aWV3PSEwLGwoZSl9LHNob3dDdXJ0YWluOnMsbGFzdDpmdW5jdGlvbigpe3JldHVybiBpfSxyZWdpc3RlckNhbGxiYWNrOmZ1bmN0aW9uKGUsbil7by5hZGRFdmVudChlKSxvLnJlZ2lzdGVyQ2FsbGJhY2soZSxuKX19fSgpO3BuLmNvbnRhaW5lci5yZWdpc3RlcihcIm1ldGVyXCIse3VzZVZhbHVlOlhlfSkscG4ubWV0ZXI9cG4uY29udGFpbmVyLnJlc29sdmUoXCJtZXRlclwiKTt2YXIgJGU9ZnVuY3Rpb24oKXt2YXIgZT1wbi5jb250YWluZXIucmVzb2x2ZShcInV0aWxcIiksbj1wbi5jb250YWluZXIucmVzb2x2ZShcInNoYTFcIiksdD1cIlwiLHI9ZnVuY3Rpb24oKXt2YXIgZT1cIlwiO3JldHVybltcIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjZcIixcIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjdcIixcIlNXQ3QxLlNXQ3QxLjlcIixcIlNXQ3RsLlNXQ3RsXCIsXCJBZG9iZS5TVkdDdGxcIixcIldNUGxheWVyLk9DWFwiLFwiQWdDb250cm9sLkFnQ29udHJvbFwiLFwiQWNyb1BERi5QREZcIixcIlBERi5QZGZDdHJsXCIsXCJSZWFsUGxheWVyLlJlYWxQbGF5ZXIodG0pIEFjdGl2ZVggQ29udHJvbCAoMzItYml0KVwiLFwiUmVhbFBsYXllclwiLFwiU2t5cGUuRGV0ZWN0aW9uXCIsXCIzZG1sdy5JRVBsdWdpblwiLFwiR29vZ2xlVGFsay5QbHVnaW5cIixcIkdvb2dsZVRhbGsuUGx1Z2luLjFcIl0ubWFwKChmdW5jdGlvbihuKXt0cnl7bmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KG4pLGUrPW4rXCJ8XCJ9Y2F0Y2goZSl7fX0pKSxlfSxvPWZ1bmN0aW9uKCl7aWYodClyZXR1cm4gdDt2YXIgbz1mdW5jdGlvbigpe3RyeXt2YXIgZTtyZXR1cm4gZT13aW5kb3cubmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8d2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZSwobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCkrXCI6XCIrZX1jYXRjaChlKXtyZXR1cm5cIlwifX0oKTtyZXR1cm4gbys9ZnVuY3Rpb24oKXtpZih3aW5kb3cuQWN0aXZlWE9iamVjdClyZXR1cm4gcigpO3RyeXt2YXIgZT1cIlwiLG49bmF2aWdhdG9yLnBsdWdpbnMubGVuZ3RoO2lmKG4+MClmb3IodmFyIHQ9MDt0PG47dCsrKWUrPW5hdmlnYXRvci5wbHVnaW5zW3RdLm5hbWUrXCJ8XCI7cmV0dXJuIGV9Y2F0Y2goZSl7cmV0dXJuXCJcIn19KCksbys9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHNjcmVlbi5oZWlnaHQrXCJ4XCIrc2NyZWVuLndpZHRoK1wiK1wiK3NjcmVlbi5jb2xvckRlcHRofWNhdGNoKGUpe3JldHVyblwiXCJ9fSgpLG8rPW5hdmlnYXRvci51c2VyQWdlbnQsbys9ZnVuY3Rpb24oKXt2YXIgZT1cIlwiO3RyeXtlKz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZD8xOjAsZSs9d2luZG93LmdldENvbXB1dGVkU3R5bGU/MTowLGUrPXNjcmVlbi5nbG9iYWxTdG9yYWdlPzE6MCxlKz13aW5kb3cubG9jYWxTdG9yYWdlPzE6MCxlKz13aW5kb3cuc2Vzc2lvblN0b3JhZ2U/MTowLGUrPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWU/MTowLGUrPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I/MTowLGUrPWRvY3VtZW50LmFsbD8xOjAsZSs9d2luZG93LmF0dGFjaEV2ZW50PzE6MCxlKz13aW5kb3cuY3JlYXRlUG9wdXA/MTowLGUrPXdpbmRvdy5YTUxIdHRwUmVxdWVzdD8xOjAsZSs9d2luZG93LkFjdGl2ZVhPYmplY3Q/MTowLGUrPXdpbmRvdy5YRG9tYWluUmVxdWVzdD8xOjAsZSs9d2luZG93Lm1zUGVyZm9ybWFuY2U/MTowLGUrPWRvY3VtZW50LmRvY3VtZW50TW9kZT8xOjAsZSs9bmF2aWdhdG9yLmNwdUNsYXNzPzE6MCxlKz1uYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlPzE6MCxlKz13aW5kb3cub3BlcmE/MTowLGUrPXdpbmRvdy5jaHJvbWU/MTowfWNhdGNoKGUpe31yZXR1cm4gZX0oKSx0PW4uaGFzaChvKSxlLmRlYnVnKFwiQ3VycmVudCBicm93c2VyIGZpbmdlcnByaW50IGlzOiBcIit0KSx0fTtyZXR1cm4gbygpLHtuYW1lOlwiZmluZ2VycHJpbnRcIixnZXRGaW5nZXJwcmludDpvfX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJmaW5nZXJwcmludFwiLHt1c2VWYWx1ZTokZX0pLHBuLmZpbmdlcnByaW50PXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiZmluZ2VycHJpbnRcIik7dmFyIFllPWZ1bmN0aW9uKCl7dmFyIGUsbj1wbi5jb250YWluZXIucmVzb2x2ZShcImpxVXRpbHNcIiksdD0wLHI9MCxvPTIwMCxpPTAsYT1bXTtuLm9uKHdpbmRvdyxcInNjcm9sbFwiLChmdW5jdGlvbigpe2MoKX0pKTt2YXIgcz1mdW5jdGlvbigpe3ZhciBlPW4uc2Nyb2xsVG9wKCk7ZT5pJiYoaT1lKX0sYz1mdW5jdGlvbigpe3MoKSx1KCl9LGw9ZnVuY3Rpb24oZSl7aWYoZS5jb25zdW1lRXZlbnRGbigpKXJldHVyblwicGl4ZWxzXCI9PT1lLm1lYXN1cmVUeXBlP2UucG9zaXRpb248PWk6XCJwZXJjZW50YWdlXCI9PT1lLm1lYXN1cmVUeXBlP2kvKHQtbi53aW5TaXplKCkuaGVpZ2h0KT49ZS5wb3NpdGlvbi8xMDA6dm9pZCAwfSx1PWZ1bmN0aW9uKCl7Zm9yKHZhciBlLG49W10sdD1bXSxyPTA7cjxhLmxlbmd0aDtyKyspZT1hW3JdLGwoZSk/bi5wdXNoKGUpOnQucHVzaChlKTthPXQ7Zm9yKHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdLmNhbGxiYWNrKCl9O3JldHVybntuYW1lOlwic2Nyb2xsRGVwdGhcIixpbml0aWFsaXplOmZ1bmN0aW9uKGkpe3ZhciBhPWRvY3VtZW50O2kmJmk+MCYmKG89aXx8byk7dmFyIHM9ZnVuY3Rpb24oKXt2YXIgaT1hLmJvZHl8fHt9LGM9YS5kb2N1bWVudEVsZW1lbnR8fHt9LGw9TWF0aC5tYXgoaS5zY3JvbGxIZWlnaHQsYy5zY3JvbGxIZWlnaHQsaS5vZmZzZXRIZWlnaHQsYy5vZmZzZXRIZWlnaHQsaS5jbGllbnRIZWlnaHQsYy5jbGllbnRIZWlnaHQpO2w+dCYmKHQ9bCk7dmFyIHU9bi5zY3JvbGxUb3AoKStuLndpblNpemUoKS5oZWlnaHQ7dT5yJiYocj11KT50JiYodD1yKSxlJiZjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KHMsbyl9O3MoKX0sZ2V0TWF4U2Nyb2xsRGVwdGg6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sZ2V0TWF4RG9jdW1lbnRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdH0sYWRkTGlzdGVuZXI6ZnVuY3Rpb24oZSxuLHQpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJih0PWZ1bmN0aW9uKCl7cmV0dXJuITB9KSxhLnB1c2goe2NhbGxiYWNrOmUscG9zaXRpb246bi5zY3JvbGxEZXB0aCxtZWFzdXJlVHlwZTpuLm1lYXN1cmVUeXBlLHJlcGVhdDpcIm9uY2VcIixjb25zdW1lRXZlbnRGbjp0fSkscygpLHUoKX0scmVtb3ZlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7YT1bXX0sY2xlYXJNYXhTY3JvbGxlZFBvc2l0aW9uOmZ1bmN0aW9uKCl7aT0wfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwic2Nyb2xsRGVwdGhcIix7dXNlVmFsdWU6WWV9KSxwbi5zY3JvbGxEZXB0aD1wbi5jb250YWluZXIucmVzb2x2ZShcInNjcm9sbERlcHRoXCIpO3ZhciBLZT1mdW5jdGlvbigpe3ZhciBlLG49cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpLHQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJqcVV0aWxzXCIpLHI9ITEsbz1bXTtmdW5jdGlvbiBpKCl7cnx8KHI9ITAsdC5vbihkb2N1bWVudCxcIm1vdXNlbW92ZVwiLChmdW5jdGlvbigpe3JldHVybiBzKCl9KSksdC5vbihkb2N1bWVudCxcImtleXByZXNzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMoKX0pKSx0Lm9uKHdpbmRvdyxcInNjcm9sbFwiLChmdW5jdGlvbigpe3JldHVybiBzKCl9KSkpfWZ1bmN0aW9uIGEoKXtvLmxlbmd0aCYmZnVuY3Rpb24oKXtmb3IodmFyIGUsdCxyPVtdLGk9W10sYT1EYXRlLm5vdygpLHM9MDtzPG8ubGVuZ3RoO3MrKyl0PSExLGEtKGU9b1tzXSkuc3RhcnRUaW1lPj1lLmlkbGVUaW1lJiYoZS5jb25zdW1lRXZlbnRGbigpP3Q9ITA6ZS5zdGFydFRpbWU9YSksdD9yLnB1c2goZSk6aS5wdXNoKGUpO3IubGVuZ3RoJiZuLmRlYnVnKFwiaWRsZTogcnVuIGZpcmVcIik7bz1pO2ZvcihzPTA7czxyLmxlbmd0aDtzKyspKGU9cltzXSkuY2FsbGJhY2soKX0oKSxlJiZjbGVhclRpbWVvdXQoZSksby5sZW5ndGgmJihlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGEoKX0pLDIwMCkpfWZ1bmN0aW9uIHMoKXtmb3IodmFyIG49RGF0ZS5ub3coKSx0PTA7dDxvLmxlbmd0aDt0Kyspb1t0XS5zdGFydFRpbWU9bjtjbGVhclRpbWVvdXQoZSksby5sZW5ndGgmJihlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGEoKX0pLDIwMCkpfXJldHVybntuYW1lOlwiaWRsZVwiLGluaXRpYWxpemU6aSxhZGRMaXN0ZW5lcjpmdW5jdGlvbihuLHQscil7aSgpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHImJihyPWZ1bmN0aW9uKCl7cmV0dXJuITB9KSxvLnB1c2goe2NhbGxiYWNrOm4saWRsZVRpbWU6MWUzKnQsc3RhcnRUaW1lOkRhdGUubm93KCksY29uc3VtZUV2ZW50Rm46cn0pLGV8fChlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGEoKX0pLDIwMCkpfSxyZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtvPVtdfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiaWRsZVwiLHt1c2VWYWx1ZTpLZX0pLHBuLmlkbGU9cG4uY29udGFpbmVyLnJlc29sdmUoXCJpZGxlXCIpO3ZhciBaZT1mdW5jdGlvbigpe3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwianFVdGlsc1wiKSx0PVtdO3JldHVybntuYW1lOlwiaW50ZXJhY3Rpb25cIixiaW5kOmZ1bmN0aW9uKHIsbyxpKXt2YXIgYT1mdW5jdGlvbihlKXtmb3IodmFyIG49e2NsaWNrOlwiY2xpY2tcIixkb3VibGVDbGljazpcImRibGNsaWNrXCIscmlnaHRDbGljazpcImNvbnRleHRtZW51XCIsbW91c2VPdXQ6XCJtb3VzZW91dFwiLG1vdXNlSW46XCJtb3VzZW92ZXJcIn0sdD1bXSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl07dC5wdXNoKG5bb10pfXJldHVybiB0fTtcImZ1bmN0aW9uXCIhPXR5cGVvZiBpJiYoaT1mdW5jdGlvbigpe3JldHVybiEwfSksZS5fX3Byb3RlY3RlZF9fLmRvY3VtZW50UmVhZHkoKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxvLmxlbmd0aDtlKyspe3ZhciBzPW9bZV0sYz1hKHMuZWxlbWVudEFjdGlvbnMpLmpvaW4oXCIgXCIpLGw9cy5lbGVtZW50U2VsZWN0b3IsdT1zLnJlcGV0aXRpdmU7Yy50cmltKCkubGVuZ3RoJiZmdW5jdGlvbihlLG8sYSl7dmFyIHM9ZnVuY3Rpb24oKXtpKCkmJihhfHxuLnVuZGVsZWdhdGUoZG9jdW1lbnQuYm9keSxlKSxyKCkpfTtuLmRlbGVnYXRlKGRvY3VtZW50LmJvZHksZSxvLHMpLHQucHVzaCh7YWN0aW9uOmMsc2VsZWN0b3I6bCxmdW5jOnN9KX0obCxjLHUpfX0pKX0sdW5iaW5kQWxsOmZ1bmN0aW9uKCl7dC5mb3JFYWNoKChmdW5jdGlvbihlKXtuLnVuZGVsZWdhdGUoZG9jdW1lbnQuYm9keSxlLnNlbGVjdG9yKX0pKSx0PVtdfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiaW50ZXJhY3Rpb25cIix7dXNlVmFsdWU6WmV9KSxwbi5pbnRlcmFjdGlvbj1wbi5jb250YWluZXIucmVzb2x2ZShcImludGVyYWN0aW9uXCIpO3ZhciBlbj1mdW5jdGlvbigpe3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwianFVdGlsc1wiKSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSx0PXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiY29udGFpbmVyVXRpbHNcIikscj1mdW5jdGlvbihlKXtyZXR1cm5cImlubGluZVwiPT09ZS5kaXNwbGF5TW9kZX0sbz1mdW5jdGlvbihlKXtyZXR1cm5cIm1vZGFsXCI9PT1lLmRpc3BsYXlNb2RlfTtyZXR1cm57bmFtZTpcInJlY1dpZGdldFNlcnZpY2VcIixfX3Byb3RlY3RlZF9fOntnZXRJbnN0YW5jZTpmdW5jdGlvbigpe3ZhciBpLGE9W107ZnVuY3Rpb24gcyhuKXt2YXIgcz1ufHx7fSxjPXMud2lkZ2V0fHx7fTtyKGMuY29uZmlnKT9lLmVtcHR5KGMuY29udGFpbmVyKTpvKGMuY29uZmlnKSYmKCFmdW5jdGlvbihuKXtpZighaSlyZXR1cm47dC5jbG9zZU1vZGFsKGkpLGUuZW1wdHkoaS5jb250YWluZXIpO3ZhciByPXQuX19wcml2YXRlX18ubW9iaWxlTW9kYWxGaXg7ci5pc0lwaG9uZUNhcmV0Rml4ZWQmJnIubW9kYWxDbG9zZWQoKTtpPW51bGx9KCksZS5yZW1vdmUoYy5jb250YWluZXIpKSwhcy5za2lwT25jbG9zZSYmZS5pc0Z1bmN0aW9uKGMub25jbG9zZSkmJmMub25jbG9zZSgpLGE9YS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnV1aWQhPT1jLnV1aWR9KSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gYS5maWx0ZXIoKGZ1bmN0aW9uKG4pe3JldHVybiBlPT09bi53aWRnZXRJZH0pKVswXX1yZXR1cm57c2hvd1JlY29tbWVuZGF0aW9uOmZ1bmN0aW9uKGwpe3ZhciB1PWwud2lkZ2V0Q29uZmlnfHx7fSxkPWwuY3JlYXRlUGxhY2Vob2xkZXJGbixwPXUud2lkZ2V0SWQ7aWYoIXApdGhyb3cgbmV3IEVycm9yKFwid2lkZ2V0SWQgc2hvdWxkIGJlIHNwZWNpZmllZFwiKTtpZihjKHApKW4ubG9nKFwid2lkZ2V0IHdpdGggaWQgXCIrdS53aWRnZXRJZCtcIiBhbHJlYWR5IGluaXRpYWxpemVcIik7ZWxzZSBpZihvKHUpJiZpKW4ubG9nKFwibW9kYWwgd2lkZ2V0IGFscmVhZHkgc2hvd25cIik7ZWxzZXt2YXIgZj1mdW5jdGlvbih0KXt2YXIgcj1lLnF1ZXJ5RWwodC5jb250YWluZXJTZWxlY3Rvciksbz1cIndpZGdldC1pZC1cIituLnJhbmRvbVN0cmluZygpLGk9e3NpbmdsZUNvbnRhaW5lcjpyfHx2b2lkIDAsZGlzcGxheU1vZGU6dC5kaXNwbGF5TW9kZXx8XCJtb2RhbFwiLHNob3dDbG9zZUJ1dHRvbjp0LnNob3dDbG9zZUJ1dHRvbixpZnJhbWVQYXJhbXM6e2lmcmFtZUlkOm8sY29udGFpbmVyU2VsZWN0b3I6dC5jb250YWluZXJTZWxlY3Rvcix3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodH19O3JldHVybnt1dWlkOm8sd2lkZ2V0SWQ6dC53aWRnZXRJZCxwbGFjZWhvbGRlcjp0LnBsYWNlaG9sZGVyLHRyYWNraW5nSWQ6dC50cmFja2luZ0lkLGNvbmZpZzppfX0odSksbT1mLmNvbmZpZyxnPWQoKTtpZihmLmNvbnRhaW5lcj1mdW5jdGlvbihlLG4pe3ZhciBpO3JldHVybiByKGUpP2k9dC5pbml0SW5saW5lQ29udGFpbmVyKGUpLmNvbnRhaW5lcjpvKGUpJiYoaT10LmdldE1vZGFsQ29udGFpbmVyKGUsKGZ1bmN0aW9uKCl7biBpbnN0YW5jZW9mIEZ1bmN0aW9uJiZuKCl9KSkpLGl9KG0sKGZ1bmN0aW9uKCl7cyh7d2lkZ2V0OmZ9KX0pKSxmLmNvbnRhaW5lcilyZXR1cm4gZS5hcHBlbmQoZi5jb250YWluZXIsZyksZi5lbGVtZW50PWcsbyhtKSYmKGk9Ziwobi5pc0lwaG9uZSgpfHxuLmlzU2FmYXJpT3JJT3NVaVdlYlZpZXcoKXx8bi5pc0FuZHJvaWQoKSkmJnQuX19wcml2YXRlX18ubW9iaWxlTW9kYWxGaXgubW9kYWxPcGVuZWQoKSksZnVuY3Rpb24obix0KXt2b2lkIDA9PT10JiYodD17fSksT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZS5pc0Z1bmN0aW9uKHRbcl0pJiYobltyXT10W3JdKG4pKX0pKX0oZixsLndpZGdldENhbGxiYWNrcyksYS5wdXNoKGYpLGY7bi5sb2coJ3dpZGdldCBoYXMgaW52YWxpZCBzZWxlY3RvciBcIicrbS5pZnJhbWVQYXJhbXMuY29udGFpbmVyU2VsZWN0b3IrJ1wiJyl9fSxmaXJlV2lkZ2V0Q2FsbGJhY2s6ZnVuY3Rpb24obix0LHIpe2EuZm9yRWFjaCgoZnVuY3Rpb24obyl7aWYoby53aWRnZXRJZD09PXQudG9TdHJpbmcoKSl7dmFyIGk9b1tcIm9uXCIrbl07ZS5pc0Z1bmN0aW9uKGkpJiZpKHIpfX0pKX0sZmluZFdpZGdldDpjLGNsZWFyV2lkZ2V0czpmdW5jdGlvbigpe2E9W10saT1udWxsfSxjbG9zZVdpZGdldDpzLGZpeFdpZGdldE1vZGFsV2lkdGg6ZnVuY3Rpb24obixyKXtpZighbnx8byhuLmNvbmZpZykpe3ZhciBpPW4uY29udGFpbmVyLGE9cj9lLnF1ZXJ5RWwoXCJpZnJhbWVcIixpKTplLnF1ZXJ5RWwoXCIudHAtd2lkZ2V0LXBsYWNlaG9sZGVyXCIsaSk7dC5jaGVja0JhY2tkcm9wQW5kQ29udGFpbmVyKG4sITAsITApLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YSYmdC5fX3Byb3RlY3RlZF9fLnNldEVsZW1lbnRTaXplcyhpLHt3aWR0aDplLmdldFdpZHRoKGEpfSl9KSwxMDApfX19fSxpbnNlcnRXaWRnZXRMaWI6ZnVuY3Rpb24obil7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF0scj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO24uaWQmJnIuc2V0QXR0cmlidXRlKFwiaWRcIixuLmlkKSxlLmlzRnVuY3Rpb24obi5vbmVycm9yKSYmKHIub25lcnJvcj1uLm9uZXJyb3IpLGUuaXNGdW5jdGlvbihuLm9ubG9hZCkmJihyLm9ubG9hZD1uLm9ubG9hZCksbi5kZWZlciYmKHIuZGVmZXI9ITApLHIudHlwZT1cInRleHQvamF2YXNjcmlwdFwiLHIuc3JjPW4uc3JjLHQmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyLHQpfX19fSgpO3BuLmNvbnRhaW5lci5yZWdpc3RlcihcInJlY1dpZGdldFNlcnZpY2VcIix7dXNlVmFsdWU6ZW59KSxwbi5yZWNXaWRnZXRTZXJ2aWNlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicmVjV2lkZ2V0U2VydmljZVwiKTt2YXIgbm49ZnVuY3Rpb24oKXtwbi5jb250YWluZXIucmVzb2x2ZShcInByZWRlZmluZWRPcHRpb25zXCIpO3JldHVybnt0ZXN0UGlhbm9PcHRpb246XCJcIn19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwicGlhbm9cIix7dXNlVmFsdWU6bm59KTt2YXIgdG49cG4uY29udGFpbmVyLnJlc29sdmUoXCJwaWFub1wiKTtmb3IodmFyIHJuIGluIHRuKXBuW3JuXT10bltybl07dmFyIG9uPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXBuLmNvbnRhaW5lcik7dmFyIG49ZS5yZXNvbHZlKFwidXRpbFwiKSx0PWUucmVzb2x2ZShcImxvZ1wiKSxyPWUucmVzb2x2ZShcInVzZXJcIik7ZS5yZXNvbHZlKFwiYXBpXCIpO3ZhciBvLGk9ZS5yZXNvbHZlKFwianFVdGlsc1wiKSxhPWUucmVzb2x2ZShcInJlY1dpZGdldFNlcnZpY2VcIikscz1cIl9fcG5tbFwiLGM9XCJFWFRFUk5BTF9FVkVOVFwiLGw9e2dyYW50ZWQ6XCJBTExPV0VEXCIsZGVmYXVsdDpcIlVOS05PV05cIixkZW5pZWQ6XCJGT1JCSURERU5cIn0sdT1hLl9fcHJvdGVjdGVkX18uZ2V0SW5zdGFuY2UoKTtmdW5jdGlvbiBkKCl7cmV0dXJuIG98fChvPW5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3ZhciByPXdpbmRvdy5QaWFub0VTUENvbmZpZ3x8e307ci5pZD8oT2JqZWN0LmFzc2lnbihyLHtvbmxvYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZShudWxsKX0sd2lkZ2V0X2luaXRfb25fZXZlbnQ6e3JlYzohMCxcIm9wdC1pblwiOiExfSxvbmNsaWNrOmZ1bmN0aW9uKGUpe3UuZmlyZVdpZGdldENhbGxiYWNrKFwiY2xpY2tcIixlLndpZGdldElkLGUpfSxvbndpZGdldGluaXQ6ZnVuY3Rpb24oZSl7dS5maXJlV2lkZ2V0Q2FsbGJhY2soXCJpbml0XCIsZS53aWRnZXRJZCxlKX0sb25yZWNzbG9hZGVkOmZ1bmN0aW9uKGUpe3UuZmlyZVdpZGdldENhbGxiYWNrKFwicmVjc2xvYWRlZFwiLGUud2lkZ2V0SWQsZSl9fSksd2luZG93LlBpYW5vRVNQQ29uZmlnPXIsbi5kZWJ1ZyhcInBpYW5vRVNQOiBsb2FkaW5nIFBpYW5vRVNQIHdpdGggY29uZmlnOlwiLHdpbmRvdy5QaWFub0VTUENvbmZpZyksYS5fX3Byb3RlY3RlZF9fLmluc2VydFdpZGdldExpYih7aWQ6XCJwbmVzcGx1Y2lkc2Rrc2VsXCIsc3JjOnAoKStcIi9wdWJsaWMvc2RrL3YwNC9zZGsuanM/dj1cIisobG9jYWxTdG9yYWdlJiZsb2NhbFN0b3JhZ2UubHVjaWRzZGt2ZXJ8fFwieHh4XCIpLG9uZXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdCgpfX0pKTp0KCl9KSkpfXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cG4uYWRkSGFuZGxlcihcImxvZ291dFwiLChmdW5jdGlvbigpe20oW10pfSkpO3ZhciBlPXIuZ2V0UHJvdmlkZXIoKTtlLnJlZ2lzdGVyQ2FsbGJhY2smJmUucmVnaXN0ZXJDYWxsYmFjayhcImxvZ291dFwiLChmdW5jdGlvbigpe20oW10pfSkpfSksMzAwKTt2YXIgcD1mdW5jdGlvbigpe3ZhciBlPVwiLy9hcGktZXNwLnBpYW5vLmlvXCI7cmV0dXJuIHBuLmVzcEVuZHBvaW50P2U9cG4uZXNwRW5kcG9pbnQ6cG4uaXNTYW5kYm94KCkmJihlPVwiLy9zYW5kYm94LWFwaS1lc3AucGlhbm8uaW9cIiksZX0sZj1mdW5jdGlvbihlLHIpe2QoKS50aGVuKChmdW5jdGlvbigpe3dpbmRvdy5QaWFub0VTUC5nZXRDdXJyZW50UHVzaFN0YXRlKCkudGhlbigoZnVuY3Rpb24oZSl7XCJwcm9tcHRcIj09PWUmJnQubG9nTWljcm9Db252ZXJzaW9uKHIsXCJzaG93UHJvbXB0XCIpfSkpLHdpbmRvdy5QaWFub0VTUC5zdWJzY3JpYmVUb1B1c2hTcXVhZHMoW2VdKS50aGVuKChmdW5jdGlvbihvKXt2YXIgaT1vfHx7fTshMD09PWkucmVzdWx0PyhuLnNldFB1c2hMaXN0c0Nvb2tpZShlKSxuLmRlYnVnKFwicGlhbm9FU1A6IFB1c2ggbm90aWZpY2F0aW9uIHdhcyBzZXQ6XCIsaSksdC5sb2dNaWNyb0NvbnZlcnNpb24ocixcImVucm9sbFB1c2hDYW1wYWlnblwiKSk6ITE9PT1pLnJlc3VsdCYmKFwiY2xvc2VkXCI9PT1pLnJlYXNvbj90LmxvZ01pY3JvQ29udmVyc2lvbihyLFwiY2xvc2VQcm9tcHRcIik6dC5sb2dNaWNyb0NvbnZlcnNpb24ocixcImRlY2xpbmVFbnJvbGxQdXNoQ2FtcGFpZ25cIikpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtuLmxvZyhcInBpYW5vRVNQOiBQdXNoIG5vdGlmaWNhdGlvbiBlcnJvcjpcIixlKX0pKX0pKX0sbT1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9SlNPTi5zdHJpbmdpZnkoZSk7bG9jYWxTdG9yYWdlLnNldEl0ZW0ocyx0KX1jYXRjaChlKXtuLmRlYnVnKFwiY2FuJ3Qgc2F2ZSBtYWlsaW5nIGxpc3RzIHRvIHN0b3JhZ2VcIixlKX19LGc9ZnVuY3Rpb24oKXt2YXIgZT1bXTt0cnl7dmFyIHQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0ocyk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiTUFJTkxJTkdfTElTVCBzaG91bGQgYmUgYXJyYXlcIik7aWYoZT1KU09OLnBhcnNlKHQpLCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihcIk1BSU5MSU5HX0xJU1Qgc2hvdWxkIGJlIGFycmF5XCIpfWNhdGNoKGUpe24uZGVidWcoXCJjYW4ndCBsb2FkIG1haWxpbmcgbGlzdHMgZnJvbSBzdG9yYWdlXCIsZSl9cmV0dXJuIGV8fFtdfTt2YXIgdj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicG5lc3B3Z3RwbGFjZWhvbGRlclwiKTtyZXR1cm4gaS5zZXRBdHRyKFwiaG9sZGVybmFtZVwiLGUsbiksbn19O2Z1bmN0aW9uIGgoKXtyZXR1cm57b25yZWNzbG9hZGVkOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihyKXswIT09ci5jb3VudE9mUmVjcz8odS5maXhXaWRnZXRNb2RhbFdpZHRoKGUsITApLHQubG9nRXNwTWljcm9Db252ZXJzaW9uKGUudHJhY2tpbmdJZCxlLndpZGdldElkLFwiaW5pdFwiLGMpLG4uZGVidWcoXCJjcmVhdGluZyByZWNvbW1lbmRhdGlvbiB3aWRnZXQ6IFwiLGUuY29uZmlnKSk6dS5jbG9zZVdpZGdldCh7d2lkZ2V0OmUsc2tpcE9uY2xvc2U6ITB9KX19LG9uY2xpY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPXtocmVmOm4udXJsfTt0LmxvZ0VzcE1pY3JvQ29udmVyc2lvbihlLnRyYWNraW5nSWQsZS53aWRnZXRJZCxcImNsaWNrXCIsXCJFWFRFUk5BTF9MSU5LXCIscil9fSxvbmNsb3NlOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3QubG9nRXNwTWljcm9Db252ZXJzaW9uKGUudHJhY2tpbmdJZCxlLndpZGdldElkLFwiY2xvc2VcIixjLHtldmVudDpcIndpZGdldENsb3NlZFwifSl9fX19cmV0dXJue25hbWU6XCJwaWFub0VzcFwiLF9fcHJvdGVjdGVkX186e2luaXQ6ZCxzZXRWaXNpdG9ySWQ6ZnVuY3Rpb24oZSl7d2luZG93LlBpYW5vRVNQQ29uZmlnPU9iamVjdC5hc3NpZ24oe30sd2luZG93LlBpYW5vRVNQQ29uZmlnLHt2aXNpdG9yOmV9KX0sc2hvd1JlY29tbWVuZGF0aW9uOmZ1bmN0aW9uKGUpe3ZhciBuPWgoKTtyZXR1cm4gdS5zaG93UmVjb21tZW5kYXRpb24oe3dpZGdldENvbmZpZzplLHdpZGdldENhbGxiYWNrczpuLGNyZWF0ZVBsYWNlaG9sZGVyRm46dihlLnBsYWNlaG9sZGVyKX0pLGQoKS50aGVuKChmdW5jdGlvbigpe3dpbmRvdy5QaWFub0VTUC5pbml0V2lkZ2V0KHBhcnNlSW50KGUud2lkZ2V0SWQpKX0pKX0sc2hvd1B1c2hTaWdudXA6ZnVuY3Rpb24oZSl7dmFyIG49ZXx8e307bi50ZW1wbGF0ZUlkPyh0Ll9fcHJvdGVjdGVkX18ubG9nQ3VzdG9tRm9ybUltcHJlc3Npb24obi50cmFja2luZ0lkLFwicHVzaFNpZ251cFwiLFwic2hvd19mb3JtXCIpLHBuLnRlbXBsYXRlLnNob3coe3RlbXBsYXRlSWQ6bi50ZW1wbGF0ZUlkLHRlbXBsYXRlVmFyaWFudElkOm4udGVtcGxhdGVWYXJpYW50SWQsZGlzcGxheU1vZGU6XCJtb2RhbFwiLGN1c3RvbUV2ZW50OmZ1bmN0aW9uKGUpe3N3aXRjaChlLmV2ZW50TmFtZSl7Y2FzZVwicHVzaC1hbGxvd1wiOnQubG9nTWljcm9Db252ZXJzaW9uKG4udHJhY2tpbmdJZCxcImFsbG93U29mdEVucm9sbFB1c2hDYW1wYWlnblwiKSxmKG4ucHVzaExpc3RJZCxuLnRyYWNraW5nSWQpO2JyZWFrO2Nhc2VcInB1c2gtZG9udC1hbGxvd1wiOnQubG9nTWljcm9Db252ZXJzaW9uKG4udHJhY2tpbmdJZCxcImRlY2xpbmVTb2Z0RW5yb2xsUHVzaENhbXBhaWduXCIpO2JyZWFrO2Nhc2VcInB1c2gtY2xvc2VcIjp0LmxvZ01pY3JvQ29udmVyc2lvbihuLnRyYWNraW5nSWQsXCJjbG9zZVwiKX19fSkpOmYobi5wdXNoTGlzdElkLG4udHJhY2tpbmdJZCl9LGdldE5vdGlmaWNhdGlvblN0YXR1czpmdW5jdGlvbigpe2lmKHdpbmRvdy5Ob3RpZmljYXRpb24pcmV0dXJuIGxbd2luZG93Lk5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uXXx8bC5kZWZhdWx0fSxzaG93TmV3c2xldHRlclNpZ251cDpmdW5jdGlvbihlKXtpZihlJiZlLm1haWxpbmdMaXN0SWRzKXt2YXIgdD1nKCkuaW5kZXhPZihlLm1haWxpbmdMaXN0SWRzKT4tMTtlLm5vdFNob3dJZkZpbGxlZCYmdD9uLmxvZyhcIk1haWxpbmcgbGlzdCB3aXRoIGlkcyBcIitlLm1haWxpbmdMaXN0SWRzK1wiIGFscmVhZHkgc2hvd25cIik6cG4udGVtcGxhdGUuc2hvdyhlKX1lbHNlIG4ubG9nKFwibWFpbGluZ0xpc3RJZHMgc2hvdWxkIGJlIHNwZWNpZmllZFwiKX0sb2ZmZXJNZXNzYWdlUmVjZWl2ZXI6ZnVuY3Rpb24oZSl7aWYoXCJuZXdzbGV0dGVyU2lnbnVwU3VibWlzc2lvblwiPT09ZS5ldmVudCl7dmFyIG49ZygpOy0xPT09bi5pbmRleE9mKGUucGFyYW1zLm1haWxpbmdMaXN0SWRzKSYmKG4ucHVzaChlLnBhcmFtcy5tYWlsaW5nTGlzdElkcyksbShuKSl9fSxsb2FkQ29tcGxldGVNYWlsaW5nTGlzdHM6Z30sX19wcml2YXRlX186e3JlbW92ZVdpZGdldHNBbmRTZGs6ZnVuY3Rpb24oKXt1LmNsZWFyV2lkZ2V0cygpLG89bnVsbCxkZWxldGUgd2luZG93LlBpYW5vRVNQfSxnZXRXaWRnZXRDYWxsYmFja3M6aCxvbkluaXQ6ZnVuY3Rpb24oZSl7byYmXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmby50aGVuKGUpfX19fTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJwaWFub0VzcFwiLHt1c2VWYWx1ZTpvbigpfSkscG4ucGlhbm9Fc3A9cG4uY29udGFpbmVyLnJlc29sdmUoXCJwaWFub0VzcFwiKTt2YXIgYW49ZnVuY3Rpb24oKXt2YXIgZSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicG9zdG1lc3NhZ2VcIiksdD1wbi5jb250YWluZXIucmVzb2x2ZShcInVzZXJcIikscj1wbi5jb250YWluZXIucmVzb2x2ZShcInV0aWxcIiksbz1wbi5jb250YWluZXIucmVzb2x2ZShcImV2ZW50VXRpbHNcIiksaT1cImV4dGVybmFsQ2hlY2tvdXRDb21wbGV0ZVwiLGE9XCJsb2dpblByb21wdFwiLHM9XCJkZWZlcnJlZEFjY291bnRDcmVhdGlvblwiLGM9XCJidXlcIixsPW8uY3JlYXRlRXZlbnRNYW5hZ2VyKFtpXSksdT0hMSxkPSExO3dpbmRvdy5TV0c9d2luZG93LlNXR3x8W10sd2luZG93LlNXRy5wdXNoKChmdW5jdGlvbihuKXtuLnNldE9uUGF5bWVudFJlc3BvbnNlKChmdW5jdGlvbihuKXtkfHwoci5kZWJ1ZyhcInN3Zzogb25QYXltZW50UmVzcG9uc2UgaXMgdHJpZ2dlcmVkXCIpLGQ9ITAsbi50aGVuKChmdW5jdGlvbihuKXtyLmRlYnVnKFwic3dnOiBvblBheW1lbnRSZXNwb25zZVwiLG4pLGUmJmcobixuLnB1cmNoYXNlRGF0YSxuLnVzZXJEYXRhLGUsYyl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IubG9nKFwic3dnOiBvblBheW1lbnRSZXNwb25zZSBmYWlsZWRcIixlKX0pKSl9KSl9KSksbi5zdWJzY3JpYmUoXCJzd2dDaGVja291dFN0YXJ0XCIsKGZ1bmN0aW9uKG4pe3V8fHIubG9nKFwic3dnOiBpbmNvcnJlY3QgU3dHIGNvbmZpZ3VyYXRpb24uIFBsZWFzZSBtYWtlIHN1cmUgdGhhdCBFeHBlcmllbmNlIHVzZXIgc2VnbWVudCBpcyBjb25maWd1cmVkIHByb3Blcmx5LiBEZXRhaWxzIGF0IGh0dHBzOi8vZG9jcy5waWFuby5pby9zdWJzY3JpYmUtd2l0aC1nb29nbGUvI1N3R3NjcmlwdFwiKTt2YXIgdD1uLnBhcmFtcy5za3U7ZT1uLnBhcmFtcy50ZXJtSWQsd2luZG93LlNXRy5wdXNoKChmdW5jdGlvbihlKXtlLnN1YnNjcmliZSh0KX0pKX0pKTt2YXIgcD1mdW5jdGlvbihlKXtpZihsLmhhc0NhbGxiYWNrKGkpKXt2YXIgbj17dHlwZTpcInN3Z1wiLGZsb3c6ZX07bC5maXJlQ2FsbGJhY2tzKGksbix2b2lkIDAsITApfX0sZj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4sdCl7cG4uYXBpLmNhbGxBcGkoXCIvc3dnL2NoZWNrXCIse2VudGl0bGVtZW50OkpTT04uc3RyaW5naWZ5KGUpfSwoZnVuY3Rpb24oZSl7MCE9PWUuY29kZSYmKHIubG9nKFwic3dnOiBjaGVjayBzdWJzY3JpcHRpb24gcmVzcG9uc2UgLSBcIitlLm1lc3NhZ2UpLHQoKSksbihlLkNoZWNrU3Vic2NyaXB0aW9uUmVzcG9uc2UpfSkpfSkpfSxtPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obix0KXtwbi5hcGkuY2FsbEFwaShcIi9zd2cvY2hlY2svZXh0ZXJuYWxcIix7ZW50aXRsZW1lbnRzOkpTT04uc3RyaW5naWZ5KGUpfSwoZnVuY3Rpb24oZSl7MCE9PWUuY29kZSYmKHIubG9nKFwic3dnOiBjaGVjayBleHRlcm5hbCBlbnRpdGxlbWVudCByZXNwb25zZSAtIFwiK2UubWVzc2FnZSksdCgpKTt2YXIgbz1lLmRhdGE7b3x8KHIubG9nKFwic3dnOiBjaGVjayBleHRlcm5hbCBlbnRpdGxlbWVudCBlbXB0eSByZXNwb25zZVwiKSx0KCkpLG4obyl9KSl9KSl9LGc9ZnVuY3Rpb24oZSx0LG8saSxhKXtwbi5hcGkuY2FsbEFwaShcIi9zd2cvc3Vic2NyaWJlXCIse3Rlcm1faWQ6aSxwdXJjaGFzZV9kYXRhOkpTT04uc3RyaW5naWZ5KHQpLHVzZXJfZGF0YTpKU09OLnN0cmluZ2lmeShvKX0sKGZ1bmN0aW9uKHQpe2lmKDA9PT10LmNvZGUpe3ZhciBvPXQuZGF0YTt2KG8pLG4uYnJvYWRjYXN0KFwic3dnQ2hlY2tvdXRDb21wbGV0ZVwiKSxlLmNvbXBsZXRlKCkudGhlbigoZnVuY3Rpb24oKXtwKGEpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyLmxvZyhcInN3ZzogY29tcGxldGUgZmFpbGVkOlwiLGUpfSkpfWVsc2Ugci5sb2coXCJzd2c6IHN1YnNjcmliZSByZXNwb25zZSAtIFwiK3QubWVzc2FnZSl9KSl9LHY9ZnVuY3Rpb24oZSl7ZSYmdC5nZXRQcm92aWRlcigpLmxvZ2luQnlUb2tlbiYmdC5nZXRQcm92aWRlcigpLmxvZ2luQnlUb2tlbihlKX0saD0hMSx3PSExO3JldHVybntuYW1lOlwic3dnXCIsX19wcm90ZWN0ZWRfXzp7aW5qZWN0TWFya3VwOmZ1bmN0aW9uKGUpe3ZhciBuO2lmKCFoJiZlKXtyLmRlYnVnKFwic3dnOiByZW5kZXJpbmcgc3dnIG1hcmt1cCB3aXRoIGNvbmZpZzpcIixlKTt2YXIgdD0ne1xcbiAgIFwiQGNvbnRleHRcIjogXCJodHRwOi8vc2NoZW1hLm9yZ1wiLFxcbiAgIFwiQHR5cGVcIjogXCJDcmVhdGl2ZVdvcmtcIixcXG4gICBcImlzQWNjZXNzaWJsZUZvckZyZWVcIjogJytlLmlzQWNjZXNzaWJsZUZvckZyZWU7ITE9PT1lLmlzQWNjZXNzaWJsZUZvckZyZWUmJmUucHJvZHVjdElkJiYodD10KycsXFxuICAgXCJpc1BhcnRPZlwiOiB7XFxuICAgICAgIFwiQHR5cGVcIjogW1wiQ3JlYXRpdmVXb3JrXCIsIFwiUHJvZHVjdFwiXSxcXG4gICAgICAgXCJuYW1lXCIgOiBcIicrZS5yZXNvdXJjZU5hbWUrJ1wiLFxcbiAgICAgICBcInByb2R1Y3RJRFwiOiBcIicrZS5wcm9kdWN0SWQrJ1wiXFxuICAgfScpLHQrPVwiXFxufVwiO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7by50eXBlPVwiYXBwbGljYXRpb24vbGQranNvblwiLG8uaW5uZXJIVE1MPXQsbnVsbD09PShuPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpWzBdLnBhcmVudE5vZGUpfHx2b2lkIDA9PT1ufHxuLmFwcGVuZENoaWxkKG8pLGg9ITB9fSxhZGRMaWJyYXJ5OmZ1bmN0aW9uKCl7dmFyIGU7aWYoIXcpe3IuZGVidWcoXCJzd2c6IGFkZGluZyBzd2cuanMgbGlicmFyeVwiKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO24udHlwZT1cInRleHQvamF2YXNjcmlwdFwiLG4uc2V0QXR0cmlidXRlKFwic3Vic2NyaXB0aW9ucy1jb250cm9sXCIsXCJtYW51YWxcIiksbi5hc3luYz0hMCxuLnNyYz1cImh0dHBzOi8vbmV3cy5nb29nbGUuY29tL3N3Zy9qcy92MS9zd2cuanNcIixudWxsPT09KGU9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF0ucGFyZW50Tm9kZSl8fHZvaWQgMD09PWV8fGUuYXBwZW5kQ2hpbGQobiksdz0hMH19LGluaXRTd2dGbG93OmZ1bmN0aW9uKCl7d2luZG93LlNXRy5wdXNoKChmdW5jdGlvbihlKXtlLmdldEVudGl0bGVtZW50cygpLnRoZW4oKGZ1bmN0aW9uKG4pe2lmKHU9ITAsci5kZWJ1ZyhcInN3ZzogZ2V0RW50aXRsZW1lbnRzXCIsbiksbi5lbmFibGVzVGhpcygpKXt2YXIgbz1uLmdldEVudGl0bGVtZW50Rm9yU291cmNlKFwiZ29vZ2xlXCIpO2lmKCFvKXt2YXIgaT1uLmVudGl0bGVtZW50cztyZXR1cm4gdm9pZChpJiZtKGkpLnRoZW4oKGZ1bmN0aW9uKCl7ci5kZWJ1ZyhcInN3ZzogY2hlY2tFeHRlcm5hbEVudGl0bGVtZW50XCIpLG4uYWNrKCl9KSwoZnVuY3Rpb24oKXtyLmxvZyhcInN3ZzogY2hlY2tFeHRlcm5hbEVudGl0bGVtZW50IGZhaWxlZFwiKX0pKSl9ZihvKS50aGVuKChmdW5jdGlvbihvKXtpZihkKXIuZGVidWcoXCJzd2c6IG9uUGF5bWVudFJlc3BvbnNlIGlzIGFscmVhZHkgdHJpZ2dlcmVkLiBTa2lwcGluZyBlbnRpdGxlbWVudHMgZmxvdy5cIik7ZWxzZSBpZihvKXN3aXRjaChvLnR5cGUpe2Nhc2VcIlVTRVJfRk9VTkRcIjppZih0LmlzVXNlclZhbGlkKCkpcmV0dXJuIHZvaWQgci5lcnJvcihcInN3ZzogdXNlciBmb3VuZCwgYnV0IG5vdCB2YWxpZFwiKTtyLmRlYnVnKFwic3dnOiB1c2VyIGZvdW5kLCBpbml0aWF0ZSBsb2dpbiBwcm9tcHRcIik7dmFyIGk9by51c2VyX3Rva2VuO2Uuc2hvd0xvZ2luUHJvbXB0KCkudGhlbigoZnVuY3Rpb24oKXt2KGkpLHAoYSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IubG9nKFwic3dnOiBzaG93TG9naW5Qcm9tcHQgZmFpbGVkXCIsZSl9KSk7YnJlYWs7Y2FzZVwiVEVSTV9GT1VORFwiOnIuZGVidWcoXCJzd2c6IHRlcm0gZm91bmQsIGluaXRpYXRlIGRlZmVycmVkIGFjY291bnQgY3JlYXRpb25cIik7dmFyIGM9by50ZXJtX2lkO2UuY29tcGxldGVEZWZlcnJlZEFjY291bnRDcmVhdGlvbih7ZW50aXRsZW1lbnRzOm4sY29uc2VudDohMH0pLnRoZW4oKGZ1bmN0aW9uKGUpe3IuZGVidWcoXCJzd2c6IGNvbXBsZXRlRGVmZXJyZWRBY2NvdW50Q3JlYXRpb25cIixlKSxnKGUsZS5wdXJjaGFzZURhdGEsZS51c2VyRGF0YSxjLHMpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyLmxvZyhcInN3ZzogY29tcGxldGVEZWZlcnJlZEFjY291bnRDcmVhdGlvbiBmYWlsZWRcIixlKX0pKTticmVhaztkZWZhdWx0OnIuZGVidWcoXCJzd2c6IGNoZWNrIHN1YnNjcmlwdGlvbiByZXNwb25zZSB0eXBlIFwiK28udHlwZStcIi4gTm90aGluZyB0byBkb1wiKX19KSwoZnVuY3Rpb24oKXtyLmxvZyhcInN3ZzogY2hlY2tTdWJzY3JpcHRpb24gZmFpbGVkXCIpfSkpLG4uYWNrKCl9fSkpLmNhdGNoKChmdW5jdGlvbihlKXtyLmxvZyhcInN3ZzogZ2V0IGVudGl0bGVtZW50cyBmYWlsZWRcIixlKX0pKX0pKX19LHJlZ2lzdGVyQ2FsbGJhY2s6ZnVuY3Rpb24oZSxuKXtsLmFkZEV2ZW50KGUpLGwucmVnaXN0ZXJDYWxsYmFjayhlLG4pfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwic3dnXCIse3VzZVZhbHVlOmFufSkscG4uc3dnPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwic3dnXCIpO3ZhciBzbj1mdW5jdGlvbigpe3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSxuPSExLHQ9ZnVuY3Rpb24odCxyLG8pe24/KG98fChvPXt9KSxlLmxvZyhcImZicGl4ZWw6IFRyYWNrIEZhY2Vib29rIFBpeGVsIGV2ZW50XCIscixvKSx3aW5kb3cuZmJxKHQscixvKSk6ZS5sb2coXCJmYnBpeGVsOiBTa2lwIHRyYWNraW5nIGV2ZW50IC0gRmFjZWJvb2sgUGl4ZWwgaXMgbm90IGluaXRhbGl6ZWRcIixyLG8pfSxyPWZ1bmN0aW9uKCl7cmV0dXJuIG59O3JldHVybntuYW1lOlwiZmJwaXhlbFwiLGlzSW5pdGlhbGl6ZWQ6cixfX3ByaXZhdGVfXzp7aXNJbml0aWFsaXplZDpyfSxfX3Byb3RlY3RlZF9fOntpbml0OmZ1bmN0aW9uKCl7aWYoIW4pe3ZhciB0LHIsbyxpLGEscyxjPXBuLmdldEZiUGl4ZWxJZCgpO2lmKGMpZS5sb2coXCJmYnBpeGVsOiBJbml0aWFsaXplIEZhY2Vib29rIFBpeGVsIHRyYWNraW5nXCIsYyksdD13aW5kb3cscj1kb2N1bWVudCxvPVwic2NyaXB0XCIsdC5mYnF8fChpPXQuZmJxPWZ1bmN0aW9uKCl7aS5jYWxsTWV0aG9kP2kuY2FsbE1ldGhvZC5hcHBseShpLGFyZ3VtZW50cyk6aS5xdWV1ZS5wdXNoKGFyZ3VtZW50cyl9LHQuX2ZicXx8KHQuX2ZicT1pKSxpLnB1c2g9aSxpLmxvYWRlZD0hMCxpLnZlcnNpb249XCIyLjBcIixpLnF1ZXVlPVtdLChhPXIuY3JlYXRlRWxlbWVudChvKSkuYXN5bmM9ITAsYS5zcmM9XCJodHRwczovL2Nvbm5lY3QuZmFjZWJvb2submV0L2VuX1VTL2ZiZXZlbnRzLmpzXCIsKHM9ci5nZXRFbGVtZW50c0J5VGFnTmFtZShvKVswXSkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxzKSksd2luZG93LmZicShcInNldFwiLFwiYXV0b0NvbmZpZ1wiLFwiZmFsc2VcIixjKSx3aW5kb3cuZmJxKFwiaW5pdFwiLGMpLG49ITA7ZWxzZSBlLmVycm9yKFwiZmJwaXhlbDogRmFjZWJvb2sgUGl4ZWwgSUQgaXMgbm90IGRlZmluZWRcIil9fX0sdHJhY2tFdmVudDpmdW5jdGlvbihlLG4pe3QoXCJ0cmFja1wiLGUsbil9LHRyYWNrQ3VzdG9tRXZlbnQ6ZnVuY3Rpb24oZSxuKXt0KFwidHJhY2tDdXN0b21cIixlLG4pfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiZmJwaXhlbFwiLHt1c2VWYWx1ZTpzbn0pLHBuLmZicGl4ZWw9cG4uY29udGFpbmVyLnJlc29sdmUoXCJmYnBpeGVsXCIpO3ZhciBjbj1mdW5jdGlvbigpe3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiZmJwaXhlbFwiKSx0PXBuLmNvbnRhaW5lci5yZXNvbHZlKFwib2ZmZXJcIikscj1wbi5jb250YWluZXIucmVzb2x2ZShcInVzZXJcIiksbz1wbi5jb250YWluZXIucmVzb2x2ZShcImFwaVwiKSxpPSExLGE9XCJcIixzPXt9LGM9e307ZnVuY3Rpb24gbChuKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3ZhciBpPXthaWQ6cG4uYWlkLHJpZDpcIlwiLGFjY291bnRfbGlua2luZ190b2tlbjplLmdldFF1ZXJ5UGFyYW1CeU5hbWUoXCJhY2NvdW50X2xpbmtpbmdfdG9rZW5cIiksdXNlcl90b2tlbjpyLmdldFByb3ZpZGVyKCkuZ2V0VG9rZW4oKSx1c2VyX3Byb3ZpZGVyOnIuZ2V0UHJvdmlkZXIoKS5nZXROYW1lKCl9O24mJihpLnJpZD1uKSxvLmNhbGxBcGkoXCIvZmJpYS9zdWJzY3JpcHRpb25QYXlsb2FkL2dlbmVyYXRlXCIsaSwoZnVuY3Rpb24oZSl7ZSYmZS5kYXRhJiYoYT1lLmRhdGEpLHQobnVsbCl9KSl9KSl9dmFyIHU9ZnVuY3Rpb24oKXtsKCkudGhlbigoZnVuY3Rpb24oKXthJiZwKCl9KSl9LGQ9ZnVuY3Rpb24obil7aWYobil7dmFyIHQ9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZShudWxsKX0pLDFlMypwbi5yZWRpcmVjdFRvRmJUaW1lb3V0KX0pKSxyPWwobik7ZS5fX3Byb3RlY3RlZF9fLndhaXRBbGxQcm9taXNlcyhbdCxyXSkudGhlbigoZnVuY3Rpb24oKXtwKCl9KSl9ZWxzZSBlLmVycm9yKFwiZmJzdWJzY3JpcHRpb25zOiAncmlkJyBjb3VsZCBub3QgYmUgZW1wdHkgb24gZ2VuZXJhdGluZyBzdWJzY3JpcHRpb24gcGF5bG9hZFwiKX0scD1mdW5jdGlvbigpe3ZhciBuPWUuZ2V0UXVlcnlQYXJhbUJ5TmFtZShcImFjY291bnRfbGlua2luZ190b2tlblwiKSx0PWUuZ2V0UXVlcnlQYXJhbUJ5TmFtZShcInJlZGlyZWN0X3VyaVwiKStcIj9hY2NvdW50X2xpbmtpbmdfdG9rZW49XCIrZW5jb2RlVVJJQ29tcG9uZW50KG4pO2EmJih0Kz1cIiZzdWJzY3JpcHRpb25fcGF5bG9hZD1cIitlbmNvZGVVUklDb21wb25lbnQoYSkpLHdpbmRvdy5sb2NhdGlvbi5ocmVmPXR9LGY9ZnVuY3Rpb24oZSx0KXtzW2VdfHwoc1tlXT0hMCxuLnRyYWNrRXZlbnQoZSx0KSl9LG09ZnVuY3Rpb24oZSx0KXtjW2VdfHwoY1tlXT0hMCxuLnRyYWNrQ3VzdG9tRXZlbnQoZSx0KSl9LGc9ZnVuY3Rpb24oKXtyZXR1cm4gaX07cmV0dXJue25hbWU6XCJmYnN1YnNjcmlwdGlvbnNcIixjaGVja1VzZXJBY2Nlc3NBbmRSZWRpcmVjdFRvRmI6ZnVuY3Rpb24oKXtsKCkudGhlbigoZnVuY3Rpb24oKXtwKCl9KSl9LGlzSW5pdGlhbGl6ZWQ6ZyxfX3ByaXZhdGVfXzp7aXNJbml0aWFsaXplZDpnfSxfX3Byb3RlY3RlZF9fOntpbml0OmZ1bmN0aW9uKCl7aWYoIWkpe24uX19wcm90ZWN0ZWRfXy5pbml0KCksdC5yZWdpc3RlckNhbGxiYWNrKFwibG9hZGVkXCIsKGZ1bmN0aW9uKCl7dmFyIG49ZS5nZXRRdWVyeVBhcmFtQnlOYW1lKFwic3VyZmFjZVwiKTtcIm1ldGVyX2xpbWl0X3JlYWNoZWRcIiE9PW4mJlwibG9ja2VkX2FydGljbGVcIiE9PW58fHBuLmluYXBwQnJvd3NlclJldHVybnx8bShcIlZpZXdQYXl3YWxsXCIse3N1cmZhY2U6XCJJQVwifSl9KSk7cG4uYWRkSGFuZGxlcihcImxvZ2luU3VjY2Vzc1wiLChmdW5jdGlvbihlKXtsKCkudGhlbigoZnVuY3Rpb24oKXtlLnJlZ2lzdHJhdGlvbj9tKFwiQ3JlYXRlQWNjb3VudFwiKTptKFwiTG9nSW50b0FjY291bnRcIix7aXNfc3Vic2NyaWJlcjohIWF9KSxhJiZzZXRUaW1lb3V0KChmdW5jdGlvbigpe3AoKX0pLDIwMCl9KSl9KSkscG4uYWRkSGFuZGxlcihcImV4cGVyaWVuY2VFeGVjdXRlXCIsKGZ1bmN0aW9uKCl7ci5pc1VzZXJWYWxpZCgpJiZ1KCl9KSksdC5yZWdpc3RlckNhbGxiYWNrKFwiYWxyZWFkeVB1cmNoYXNlZFwiLChmdW5jdGlvbihlKXtkKGUucmlkKX0pKSx0LnJlZ2lzdGVyQ2FsbGJhY2soXCJzdGFydENoZWNrb3V0XCIsKGZ1bmN0aW9uKGUpe2YoXCJJbml0aWF0ZUNoZWNrb3V0XCIse29mZmVyX2NvZGU6ZS5vZmZlcklkLGNhbXBhaWduX2NvZGU6ZS50ZXJtSWR9KX0pKSx0LnJlZ2lzdGVyQ2FsbGJhY2soXCJjb21wbGV0ZVwiLChmdW5jdGlvbihlKXtlLmhhc093blByb3BlcnR5KFwiY2hhcmdlQ3VycmVuY3lcIikmJmUuaGFzT3duUHJvcGVydHkoXCJjaGFyZ2VBbW91bnRcIikmJmYoXCJQdXJjaGFzZVwiLHtjdXJyZW5jeTplLmNoYXJnZUN1cnJlbmN5LHZhbHVlOmUuY2hhcmdlQW1vdW50LG9mZmVyX2NvZGU6ZS5vZmZlcklkLGNhbXBhaWduX2NvZGU6ZS50ZXJtSWR9KSxkKGUucmlkKX0pKSx0LnJlZ2lzdGVyQ2FsbGJhY2soXCJjbG9zZVwiLChmdW5jdGlvbigpe3AoKX0pKSxpPSEwfX19fX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJmYnN1YnNjcmlwdGlvbnNcIix7dXNlVmFsdWU6Y259KSxwbi5mYnN1YnNjcmlwdGlvbnM9cG4uY29udGFpbmVyLnJlc29sdmUoXCJmYnN1YnNjcmlwdGlvbnNcIik7dmFyIGxuPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXBuLmNvbnRhaW5lcik7dmFyIG49ZS5yZXNvbHZlKFwianFVdGlsc1wiKSx0PWUucmVzb2x2ZShcInV0aWxcIikscj1lLnJlc29sdmUoXCJyZWNXaWRnZXRTZXJ2aWNlXCIpLl9fcHJvdGVjdGVkX18uZ2V0SW5zdGFuY2UoKSxvPVtdLGk9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09cG4uY3hDZG5VcmwmJlwiXCIhPT1wbi5jeENkblVybD9wbi5jeENkblVybDpcImh0dHBzOi8vY2RuLmN4ZW5zZS5jb21cIn0sYT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT1wbi5jeGVuc2VTaXRlSWQmJlwiXCIhPT1wbi5jeGVuc2VTaXRlSWR9LHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXdpbmRvdy5jWCYmdm9pZCAwIT09d2luZG93LmNYLmxpYnJhcnkmJihlfHx2b2lkIDAhPT13aW5kb3cuY1guQ0NFJiZ2b2lkIDAhPT13aW5kb3cuY1guQ0NFLmxpYnJhcnkpfSxjPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lLmN4ZW5zZUN1c3RvbWVyUHJlZml4JiZcIlwiIT09ZS5jeGVuc2VDdXN0b21lclByZWZpeH0sbD1mdW5jdGlvbihlKXt2YXIgbixyLG89d2luZG93LmNYPXdpbmRvdy5jWHx8e307by5jYWxsUXVldWU9by5jYWxsUXVldWV8fFtdO3ZhciBpPVwiYW5vblwiO2UudWlkJiZcImFub25cIiE9PWUudWlkJiZcIlwiIT09ZS51aWQmJihpPSEhKG51bGw9PT0ocj1udWxsPT09KG49ZS5ldmVudEV4ZWN1dGlvbkNvbnRleHQpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmFjY2Vzc0xpc3QpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmxlbmd0aCk/XCJoYXNBY3RpdmVBY2Nlc3NcIjpcInJlZ2lzdGVyZWRcIixvLmNhbGxRdWV1ZS5wdXNoKFtcImFkZEV4dGVybmFsSWRcIix7aWQ6ZS51aWQsdHlwZTplLmN4ZW5zZUN1c3RvbWVyUHJlZml4fV0pLHQuZGVidWcoXCJjMXg6IGFkZGluZyBleHRlcm5hbElkXCIse3VpZDplLnVpZCxwcmVmaXg6ZS5jeGVuc2VDdXN0b21lclByZWZpeH0pKTtvLmNhbGxRdWV1ZS5wdXNoKFtcInNldEN1c3RvbVBhcmFtZXRlcnNcIix7dXNlclN0YXRlOml9XSksdC5kZWJ1ZyhcImMxeDogYWRkaW5nIEN1c3RvbVBhcmFtZXRlcnMgdXNlclN0YXRlXCIse3VzZXJTdGF0ZTppfSksZCghMSxlLmJyb3dzZXJJZCxlLnBhZ2VWaWV3SWQscG4uY3hlbnNlU2l0ZUlkKSx0LmRlYnVnKFwiYzF4OiBzZW5kaW5nIHBhZ2V2aWV3IGV2ZW50XCIpLG8uY2FsbFF1ZXVlLnB1c2goW1wic2VuZFBhZ2VWaWV3RXZlbnRcIl0pfSx1PWZ1bmN0aW9uKGUsbix0LHIpe3QmJighMD09PXI/ZS5jYWxsUXVldWUudW5zaGlmdChbbix0XSk6ZS5jYWxsUXVldWUucHVzaChbbix0XSkpfSxkPWZ1bmN0aW9uKGUsbixyLG8pe3ZhciBpPXdpbmRvdy5jWD13aW5kb3cuY1h8fHt9O2kuY2FsbFF1ZXVlPWkuY2FsbFF1ZXVlfHxbXSx1KGksXCJzZXRTaXRlSWRcIixvLGUpLG4mJnUoaSxcImludm9rZVwiLChmdW5jdGlvbigpe3dpbmRvdy5jWE5hdGl2ZT17Z2V0VXNlcklkOmZ1bmN0aW9uKCl7cmV0dXJuIG59fX0pLGUpLHUoaSxcInNldFJhbmRvbUlkXCIscixlKSx0LmRlYnVnKFwiYzF4OiBpbmplY3RpbmcgaWRzXCIse2Jyb3dzZXJJZDpuLHBhZ2VWaWV3SWQ6cixzaXRlSWQ6b30pfSxwPWZ1bmN0aW9uKGUpe3ZhciBuPW51bGwsdD1bXTtmdW5jdGlvbiByKCl7biYmY2xlYXJUaW1lb3V0KG4pLG49bnVsbCxlKHQpLHQ9W119cmV0dXJuIGZ1bmN0aW9uKGUpe258fChuPXNldFRpbWVvdXQociwxMCkpLHQucHVzaChlKX19KChmdW5jdGlvbihlKXtpZihhKCkpe2Zvcih2YXIgbj1bXSxpPWZ1bmN0aW9uKCl7dmFyIHQ9ZVtzXXx8e307ci5zaG93UmVjb21tZW5kYXRpb24oe3dpZGdldENvbmZpZzp0LGNyZWF0ZVBsYWNlaG9sZGVyRm46Zih0LndpZGdldElkLHQuZGlzcGxheU1vZGUpfSkmJm4ucHVzaCh7d2lkZ2V0UGFyYW1zOnt3aWRnZXRJZDp0LndpZGdldElkLHRhcmdldEVsZW1lbnRJZDpcImN4ZW5zZS1cIit0LndpZGdldElkLGV4cGVyaWVuY2VJZDp0LmV4cGVyaWVuY2VJZH0sd2lkZ2V0Q2FsbGJhY2s6ZnVuY3Rpb24oZSl7dmFyIG49ZSYmZS5yZXNwb25zZTtpZihuJiYhZS5yZXNwb25zZS5lcnJvcil7XCJtb2RhbFwiPT09dC5kaXNwbGF5TW9kZSYmci5maXhXaWRnZXRNb2RhbFdpZHRoKHIuZmluZFdpZGdldCh0LndpZGdldElkKSk7Zm9yKHZhciBpPTA7aTxuLml0ZW1zLmxlbmd0aDtpKyspe3ZhciBhPW4uaXRlbXNbaV0uaWQ7LTE9PT1vLmluZGV4T2YoYSkmJm8ucHVzaChhKX19fX0pfSxzPTA7czxlLmxlbmd0aDtzKyspaSgpO20oKGZ1bmN0aW9uKCl7dmFyIGU7ZT1wbi5jeGVuc2VTaXRlSWQsdC5kZWJ1ZyhcImMxeDogc2V0dGluZyBzaXRlSWQ6IFwiLGUpLHdpbmRvdy5jWC5zZXRTaXRlSWQoZSksd2luZG93LmNYLkNDRS5ydW5NdWx0aShuLFtcImlkXCJdLG8pfSkpfWVsc2UgdC5kZWJ1ZyhcImMxeDogY2FuIG5vdCBzaG93IHJlY29tbWVuZGF0aW9uIGJlY2F1c2Ugc2l0ZUlkIGlzIG5vdCBjb25maWd1cmVkIHVzaW5nIGBzZXRDeGVuc2VTaXRlSWRgXCIpfSkpLGY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uYWRkQ2xhc3MoXCJ0cC1jeGVuc2UtcGxhY2Vob2xkZXItXCIrdCxyKSxuLmFkZENsYXNzKFwidHAtd2lkZ2V0LXBsYWNlaG9sZGVyXCIscik7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gby5pZD1cImN4ZW5zZS1cIitlLHIuYXBwZW5kQ2hpbGQobykscn19LG09ZnVuY3Rpb24oZSl7d2luZG93LmNYPXdpbmRvdy5jWHx8e30sd2luZG93LmNYLkNDRT13aW5kb3cuY1guQ0NFfHx7fSx3aW5kb3cuY1guQ0NFLmNhbGxRdWV1ZT13aW5kb3cuY1guQ0NFLmNhbGxRdWV1ZXx8W10sd2luZG93LmNYLkNDRS5jYWxsUXVldWUucHVzaChbXCJpbnZva2VcIixlXSl9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSl9O3JldHVybntuYW1lOlwiY3hlbnNlXCIsX19wcm90ZWN0ZWRfXzp7c2hvd1JlY29tbWVuZGF0aW9uOnAsc2VuZFBhZ2VWaWV3RXZlbnQ6ZnVuY3Rpb24oZSl7KGEoKXx8YyhlKSkmJihhKCl8fCFjKGUpPyFhKCl8fGMoZSk/bChlKTp0LmRlYnVnKFwiY3hlbnNlOiBjYW4gbm90IHNlbmQgcGFnZXZpZXcgYmVjYXVzZSBjdXN0b21lciBwcmVmaXggaXMgbm90IGNvbmZpZ3VyZWQgaW4gYXBwIHNldHRpbmdzXCIpOnQuZGVidWcoXCJjeGVuc2U6IGNhbiBub3Qgc2VuZCBwYWdldmlldyBiZWNhdXNlIHNpdGVJZCBpcyBub3QgY29uZmlndXJlZCB1c2luZyBgc2V0Q3hlbnNlU2l0ZUlkYFwiKSl9LGlzQWN0aXZhdGVkOmEsaXNDdXN0b21lclByZWZpeENvbmZpZ3VyZWQ6Yyxpc0NvbmZpZ3VyZWRQb2xsaW5nQXN5bmM6ZnVuY3Rpb24oZSxuLHQpe249bnx8MCx0PXR8fDA7dmFyIHI9MDtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8saSl7dmFyIGE9ZnVuY3Rpb24oKXtnKGUpP28oITApOnI+PXQ/aShlP1wiYzF4OiBjWCBvYmplY3QgaXMgbm90IGZvdW5kIGFmdGVyIFwiK3QrXCIgcmV0cmllcyB3aXRoIFwiK24rXCJtcyBpbnRlcnZhbFwiOlwiYzF4OiBjWCBhbmQgY1guQ0NFIG9iamVjdHMgYXJlIG5vdCBmb3VuZCBhZnRlciBcIit0K1wiIHJldHJpZXMgd2l0aCBcIituK1wibXMgaW50ZXJ2YWxcIik6KHIrKyxzZXRUaW1lb3V0KGEsbikpfTtnKGUpP28oITApOnNldFRpbWVvdXQoYSxuKX0pKX0saW52b2tlQ3hlbnNlRm46bSxnZXRDMVhJbnRlZ3JhdGlvblZlcnNpb246ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09cG4uYzFYSW50ZWdyYXRpb25WZXJzaW9uJiZcIlwiIT09cG4uY3hlbnNlU2l0ZUlkP3BuLmMxWEludGVncmF0aW9uVmVyc2lvbjpcIk4vQVwifSxnZXRPckdlbmVyYXRlQ3hDb21wYXRpYmxlQmlkOmZ1bmN0aW9uKCl7dmFyIGU9dC5fX3Byb3RlY3RlZF9fLmdldENvb2tpZShcImNYX1BcIiksbj1udWxsO3RyeXt0Ll9fcHJvdGVjdGVkX18uaGFzTG9jYWxTdG9yYWdlKCkmJihuPWxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiX2NYX1BcIikpfWNhdGNoKGUpe312YXIgcj1lfHxuO3JldHVybiByPyh0LmRlYnVnKFwiYzF4OiBleGlzdGluZyBjWF9QIHZhbHVlIGhhcyBiZWVuIGZvdW5kOiBcIixyKSxyKToodC5kZWJ1ZyhcImMxeDogY2FuIG5vdCBmaW5kIGV4aXN0aW5nIGNYX1AgdmFsdWUsIGdlbmVyYXRpbmcgYSBuZXcgb25lXCIpLHQuX19wcm90ZWN0ZWRfXy5yYW5kb21TdHJpbmdDeENvbXBhdGlibGUoKSl9LGxvYWRDeExpYklmTmVlZGVkOmZ1bmN0aW9uKCl7dmFyIGU7aWYoIWEoKXx8IXMoITApKXt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7ci5vbmVycm9yPWZ1bmN0aW9uKGUpe3QuZGVidWcoXCJjMXg6IGVycm9yIGR1cmluZyBsb2FkIG9mIGN4LmpzLiBcIixlKX0sci5vbmxvYWQ9ZnVuY3Rpb24oKXt0LmRlYnVnKFwiYzF4OiBjeC5qcyBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgbG9hZGVkXCIpfSxyLmFzeW5jPSEwLHIudHlwZT1cInRleHQvamF2YXNjcmlwdFwiLHBuLmMxWExvYWRDY2U/ci5zcmM9aSgpK1wiL2N4LmNjZS5qc1wiOnIuc3JjPWkoKStcIi9jeC5qc1wiLHQuZGVidWcoXCJjMXg6IHN0YXJ0IGxvYWRpbmcgY3guanMgb24gdGhlIHBhZ2UuLi5cIiksbnVsbD09PShlPW4ucGFyZW50Tm9kZSl8fHZvaWQgMD09PWV8fGUuaW5zZXJ0QmVmb3JlKHIsbil9fSxzZXRDeEJpZENvb2tpZTpmdW5jdGlvbihlLG4pe3ZhciByO3I9e3BhdGg6XCIvXCIsZXhwaXJlczo3MzB9LG4mJihyLmRvbWFpbj1uLHQuX19wcm90ZWN0ZWRfXy5kZWxldGVUTERDb29raWVGb3JTcGVjaWZpY0RvbWFpbnMoXCJjWF9QXCIsbikpLHQuZGVsZXRlQ29va2llKFwiY1hfUFwiKSx0Ll9fcHJvdGVjdGVkX18uc2V0Q29va2llKFwiY1hfUFwiLGUscil9LHRyeVRvR2V0Q3hQYWdlVmlld0lkOmZ1bmN0aW9uKGUpe3ZhciBuLHQscj13aW5kb3cuY1g7cmV0dXJuKG51bGw9PT0odD1udWxsPT09KG49bnVsbD09cj92b2lkIDA6ci5nZXRQYWdlQ29udGV4dCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uY2FsbChyKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucGFnZVZpZXdSYW5kb20pfHxlfSxpbmplY3RJZHM6ZH19fTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJjeGVuc2VcIix7dXNlVmFsdWU6bG4oKX0pLHBuLmN4ZW5zZT1wbi5jb250YWluZXIucmVzb2x2ZShcImN4ZW5zZVwiKTt2YXIgdW49ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9cG4uY29udGFpbmVyKTt2YXIgbix0LHI9ZS5yZXNvbHZlKFwianFVdGlsc1wiKSxvPWUucmVzb2x2ZShcInV0aWxcIiksaT1lLnJlc29sdmUoXCJhcGlcIiksYT1lLnJlc29sdmUoXCJldmVudFV0aWxzXCIpLHM9ZS5yZXNvbHZlKFwic2Nyb2xsRGVwdGhcIiksYz1lLnJlc29sdmUoXCJsb2dcIiksbD1lLnJlc29sdmUoXCJhamF4XCIpLHU9ZS5yZXNvbHZlKFwidmlld3BvcnRFeGl0XCIpLGQ9ZS5yZXNvbHZlKFwiaWRsZVwiKSxwPWUucmVzb2x2ZShcImludGVyYWN0aW9uXCIpLGY9ZS5yZXNvbHZlKFwicGlhbm9Fc3BcIiksbT1lLnJlc29sdmUoXCJzd2dcIiksZz1lLnJlc29sdmUoXCJmYnN1YnNjcmlwdGlvbnNcIiksdj1lLnJlc29sdmUoXCJ1c2VyXCIpLGg9ZS5yZXNvbHZlKFwiY3hlbnNlXCIpLHc9ZS5yZXNvbHZlKFwibG9nZ2luZ1wiKSx5PVtdLGI9e30saz1cIlwiLF89ITEsQz1cInJlYWRlcl9pZFwiLEk9ITEsUz17fSx4PShuPXthcHBseUNzczp7Zm46ZnVuY3Rpb24oZSl7ZS5ldmVudFBhcmFtcy5ydWxlTGlzdC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbix0PWUuY2xhc3NlcyxpPWUuZWxlbWVudHM7dCYmKHQ9dC5yZXBsYWNlKC9bLC5dL2csXCIgXCIpLnNwbGl0KFwiIFwiKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiXCIhPT1lfSkpLFwiYWRkXCI9PT1lLnR5cGUmJihuPXIucWEoaSkpJiZuLmxlbmd0aCYmbi5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmZvckVhY2goKGZ1bmN0aW9uKG4pe3IuYWRkQ2xhc3MobixlKX0pKX0pKSxcInJlbW92ZVwiPT09ZS50eXBlJiYobj1yLnFhKGkpKSYmbi5sZW5ndGgmJm4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5mb3JFYWNoKChmdW5jdGlvbihuKXtyLnJlbW92ZUNsYXNzKG4sZSl9KSl9KSkpO28uZGVidWcoXCJleHA6IGNzcyBhcHBsaWVkIHdpdGggcnVsZTpcIixlKX0pKX0saXNBY3Rpb246ITAsc2hvdWxkRmlyZUNhbGxiYWNrOiEwfSxydW5Kczp7Zm46ZnVuY3Rpb24oZSl7aWYoZS5ldmVudFBhcmFtcyYmZS5ldmVudFBhcmFtcy5zbmlwcGV0KXt2YXIgbj1lLmV2ZW50UGFyYW1zLnNuaXBwZXQ7by5kZWJ1ZyhcImV4cDogcnVuIGpzIHdpdGggc25pcHBldDpcIixuKTt2YXIgdD1lLmV2ZW50RXhlY3V0aW9uQ29udGV4dDtvLmRlYnVnKFwiZXhwOiBzZXQgcHVibGlzaGVyJ3MgY29udGV4dCBhbmQgY3VzdG9tOlwiLHQpLGZlKFwidmFyIGNvbnRleHQgPSBcIitKU09OLnN0cmluZ2lmeSh0KStcIjtcXG52YXIgY3VzdG9tID0gXCIrSlNPTi5zdHJpbmdpZnkocG4uY3VzdG9tVmFyaWFibGVzKStcIjtcXG5cIituKX19LGlzQWN0aW9uOiEwLHNob3VsZEZpcmVDYWxsYmFjazohMH0sc2V0Q29va2llOntmbjpmdW5jdGlvbihlKXt2YXIgbj1lLmV2ZW50UGFyYW1zO2lmKG4mJnZvaWQgMCE9PW4uY29va2llTmFtZSYmdm9pZCAwIT09bi5jb29raWVWYWx1ZSl7by5kZWJ1ZyhcImV4cDogc2V0IGNvb2tpZSB3aXRoIHBhcmFtZXRlcnM6XCIsbik7dmFyIHQ9KG4uaXNSZWFkYWJsZUNvb2tpZT9cIl9wY19cIjpcIlwiKStuLmNvb2tpZU5hbWUscj17ZG9tYWluOm4uY29va2llRG9tYWluLHBhdGg6bi5jb29raWVQYXRofTtpZighbi5pc1Nlc3Npb25Db29raWUpe3ZhciBpPW5ldyBEYXRlO3N3aXRjaChuLmV4cGlyYXRpb25Vbml0KXtjYXNlXCJzZWNvbmRzXCI6aS5zZXRTZWNvbmRzKGkuZ2V0U2Vjb25kcygpK24uZXhwaXJhdGlvblZhbHVlKTticmVhaztjYXNlXCJtaW51dGVzXCI6aS5zZXRNaW51dGVzKGkuZ2V0TWludXRlcygpK24uZXhwaXJhdGlvblZhbHVlKTticmVhaztjYXNlXCJob3Vyc1wiOmkuc2V0SG91cnMoaS5nZXRIb3VycygpK24uZXhwaXJhdGlvblZhbHVlKTticmVhaztjYXNlXCJkYXlzXCI6aS5zZXREYXRlKGkuZ2V0RGF0ZSgpK24uZXhwaXJhdGlvblZhbHVlKTticmVhaztjYXNlXCJtb250aHNcIjppLnNldE1vbnRoKGkuZ2V0TW9udGgoKStuLmV4cGlyYXRpb25WYWx1ZSk7YnJlYWs7Y2FzZVwieWVhcnNcIjppLnNldEZ1bGxZZWFyKGkuZ2V0RnVsbFllYXIoKStuLmV4cGlyYXRpb25WYWx1ZSk7YnJlYWs7ZGVmYXVsdDpvLmxvZyhcIldyb25nIGV2ZW50UGFyYW1zLmV4cGlyYXRpb25Vbml0IDogXCIsbi5leHBpcmF0aW9uVW5pdCl9ci5leHBpcmVzPWl9by5fX3Byb3RlY3RlZF9fLnNldENvb2tpZSh0LG4uY29va2llVmFsdWUscil9fSxpc0FjdGlvbjohMCxzaG91bGRGaXJlQ2FsbGJhY2s6ITB9LG5vblNpdGU6e2ZuOmZ1bmN0aW9uKGUpe28uZGVidWcoXCJleHA6IG5vbi1zaXRlIGFjdGlvbjpcIixlKX0saXNBY3Rpb246ITAsc2hvdWxkRmlyZUNhbGxiYWNrOiEwfSxzaG93Rm9ybTp7Zm46ZnVuY3Rpb24oZSl7dmFyIG49ZS5ldmVudFBhcmFtcztpZihuJiZuLmZvcm1OYW1lKXt2YXIgdD17Zm9ybU5hbWU6bi5mb3JtTmFtZSxoaWRlSWZDb21wbGV0ZTpuLmhpZGVDb21wbGV0ZWRGaWVsZHMsdHJhY2tpbmdJZDplLmV2ZW50RXhlY3V0aW9uQ29udGV4dC50cmFja2luZ0lkLGRpc3BsYXlNb2RlOm4uZGlzcGxheU1vZGUsY29udGFpbmVyU2VsZWN0b3I6bi5jb250YWluZXJTZWxlY3RvcixzaG93Q2xvc2VCdXR0b246bi5zaG93Q2xvc2VCdXR0b24sYWNjZXNzVG9rZW46di5nZXRQcm92aWRlcigpLmdldFRva2VuKCl9O24uZm9ybVdpZHRoJiZuLmZvcm1XaWR0aC5lbmFibGVkJiYodD1yLmRlZXBFeHRlbmQoe30se3dpZHRoOm4uZm9ybVdpZHRoLndpZHRofSx0KSksby5kZWJ1ZyhcImV4cDogc2hvdyBmb3JtIHdpdGggcGFyYW1zOlwiLG4pLHBuLnBpYW5vSWQuc2hvd0Zvcm0odCl9fSxpc0FjdGlvbjohMCxzaG91bGRGaXJlQ2FsbGJhY2s6ITB9LHNob3dSZWNvbW1lbmRhdGlvbnM6e2ZuOmZ1bmN0aW9uKGUpe3JldHVybiBtZShlLGZ1bmN0aW9uKGUpe3JldHVybntFU1A6Zi5fX3Byb3RlY3RlZF9fLnNob3dSZWNvbW1lbmRhdGlvbi5iaW5kKGYpLENYRU5TRTpoLl9fcHJvdGVjdGVkX18uc2hvd1JlY29tbWVuZGF0aW9uLmJpbmQoaCl9W2VdfHxmdW5jdGlvbigpe319KGUuZXZlbnRQYXJhbXMudHlwZSkpfSxpc0FjdGlvbjohMCxzaG91bGRGaXJlQ2FsbGJhY2s6ITB9LHNob3dPZmZlcjp7Zm46ZnVuY3Rpb24oZSl7cmV0dXJuIG1lKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBwbi5vZmZlci5zaG93KGUpfSkpfSxpc0FjdGlvbjohMCxzaG91bGRGaXJlQ2FsbGJhY2s6ITF9LHNob3dUZW1wbGF0ZTp7Zm46Z2UsaXNBY3Rpb246ITAsc2hvdWxkRmlyZUNhbGxiYWNrOiExfSxzaG93WnVvcmFPZmZlcjp7Zm46Z2UsaXNBY3Rpb246ITAsc2hvdWxkRmlyZUNhbGxiYWNrOiExfSxzaG93TmV3c2N5Y2xlT2ZmZXI6e2ZuOmdlLGlzQWN0aW9uOiEwLHNob3VsZEZpcmVDYWxsYmFjazohMX0sc2hvd05ld3NsZXR0ZXJTaWdudXA6e2ZuOmZ1bmN0aW9uKGUpe3JldHVybiBtZShlLChmdW5jdGlvbihlKXtyZXR1cm4gZi5fX3Byb3RlY3RlZF9fLnNob3dOZXdzbGV0dGVyU2lnbnVwKGUpfSkpfSxpc0FjdGlvbjohMCxzaG91bGRGaXJlQ2FsbGJhY2s6ITF9LHNob3dQdXNoU2lnblVwOntmbjpmdW5jdGlvbihlKXtyZXR1cm4gbWUoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGYuX19wcm90ZWN0ZWRfXy5zaG93UHVzaFNpZ251cChlKX0pKX0saXNBY3Rpb246ITAsc2hvdWxkRmlyZUNhbGxiYWNrOiExfSxzaG93TG9naW46e2ZuOmZ1bmN0aW9uKCl7di5zaG93TG9naW4oe30pfSxpc0FjdGlvbjohMCxzaG91bGRGaXJlQ2FsbGJhY2s6ITB9LGNvbnRpbnVlRXhlY3V0aW9uOntmbjpmdW5jdGlvbihlLG4pe28uZGVidWcoXCJleHA6IGNvbnRpbnVlIGV4ZWN1dGlvbiBhY3Rpb246XCIsZSxcIndpdGggcmVxdWVzdFBhcmFtZXRlcnNcIixuKTt2YXIgdD1ufHx7fTt0LmV4cGVyaWVuY2VfaWQ9ZS5ldmVudEV4ZWN1dGlvbkNvbnRleHQuZXhwZXJpZW5jZUlkLHQuZXhwZXJpZW5jZV92ZXJzaW9uPWUuZXZlbnRFeGVjdXRpb25Db250ZXh0LmV4cGVyaWVuY2VWZXJzaW9uLHQuY29udGV4dF9kYXRhPWUuZXZlbnRQYXJhbXMuY29udGV4dERhdGEsUShcImF1dG9cIix0LCEwKX0sc2hvdWxkRmlyZUNhbGxiYWNrOiEwfSxjb250aW51ZUV4ZWN1dGlvbkNvbXBsZXRlZDp7Zm46YmUsc2hvdWxkRmlyZUNhbGxiYWNrOiEwfSxtZXRlckFjdGl2ZTp7Zm46YmUsc2hvdWxkRmlyZUNhbGxiYWNrOiEwfSxtZXRlckV4cGlyZWQ6e2ZuOmJlLHNob3VsZEZpcmVDYWxsYmFjazohMH0sdXNlclNlZ21lbnRUcnVlOntmbjpwZSxzaG91bGRGaXJlQ2FsbGJhY2s6ITB9LHVzZXJTZWdtZW50RmFsc2U6e2ZuOnBlLHNob3VsZEZpcmVDYWxsYmFjazohMH0sZXhwZXJpZW5jZUV4ZWN1dGlvbkZhaWxlZDp7Zm46YmUsc2hvdWxkRmlyZUNhbGxiYWNrOiEwfSxsb2c6e2ZuOmZ1bmN0aW9uKGUpe2VlKGUuZXZlbnRNb2R1bGVQYXJhbXMubW9kdWxlSWQsZSl9LHNob3VsZEZpcmVDYWxsYmFjazohMX0sZXhwZXJpZW5jZUV4ZWN1dGU6e2ZuOmZ1bmN0aW9uKGUsbix0KXtlLmV2ZW50UGFyYW1zLnJlc3VsdD10fSxzaG91bGRGaXJlQ2FsbGJhY2s6ITB9LHNldFJlc3BvbnNlVmFyaWFibGU6e2ZuOmZ1bmN0aW9uKGUpe3JldHVybiBlLmV2ZW50UGFyYW1zfSxpc0FjdGlvbjohMCxzaG91bGRGaXJlQ2FsbGJhY2s6ITB9LGNyZWRpdFJlZGVlbWVkOntmbjpmdW5jdGlvbihlKXtvLmRlYnVnKFwiZXhwOiBjcmVkaXQgcmVkZWVtZWQgYWN0aW9uOlwiLGUpfSxpc0FjdGlvbjohMCxzaG91bGRGaXJlQ2FsbGJhY2s6ITB9fSx0PXt9LE9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG5bZV0uZm4pdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgY29uZmlnIGZvciBcIitlK1wiIGhhbmRsZXJcIik7dFtlXT1mdW5jdGlvbihlLG4pe3JldHVybiBmdW5jdGlvbih0LHIsaSl7aWYoZS5pc0FjdGlvbil7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIG49ZS5ldmVudFBhcmFtcyx0PWUuZXZlbnRNb2R1bGVQYXJhbXMscj1lLmV2ZW50RXhlY3V0aW9uQ29udGV4dDtyZXR1cm4gby5kZWJ1ZyhcImV4cDogZmlyZSBldmVudCAnYmVmb3JlQ29tcG9zZXJBY3Rpb24nIHdpdGggZXZlbnRQYXJhbXM6XCIsbixcIiwgbW9kdWxlUGFyYW1zOlwiLHQsXCIsIGNvbnRleHQ6XCIsciksQi5maXJlQ2FsbGJhY2tzQW5kU3RvcE9uRmlyc3RGYWxzZShcImJlZm9yZUNvbXBvc2VyQWN0aW9uXCIsbix0LHIpfSh0KTtpZighYSlyZXR1cm47dmFyIHM9cmUodCksYz10ZSh0KTsoc3x8YykmJmVlKHQuZXZlbnRNb2R1bGVQYXJhbXMubW9kdWxlSWQsdCl9dmFyIGwsdT10LmV2ZW50TW9kdWxlUGFyYW1zLm1vZHVsZUlkO1NbdV18fFwiTi9BXCI9PT11fHwoU1t1XT17ZXhwZXJpZW5jZUlkOnQuZXZlbnRFeGVjdXRpb25Db250ZXh0LmV4cGVyaWVuY2VJZCxtb2R1bGVOYW1lOnQuZXZlbnRNb2R1bGVQYXJhbXMubW9kdWxlTmFtZX0pLGUuZm4odCxyLGkpLGUuc2hvdWxkRmlyZUNhbGxiYWNrJiYobD1uLGZ1bmN0aW9uKGUpe3ZhciBuPWUuZXZlbnRQYXJhbXMuY2FsbGJhY2ssdD1lLmV2ZW50UGFyYW1zLHI9ZS5ldmVudE1vZHVsZVBhcmFtcyxpPWUuZXZlbnRFeGVjdXRpb25Db250ZXh0O28uZGVidWcoXCJleHA6IGZpcmUgZXZlbnQgXCIsbCxcIiB3aXRoIGV2ZW50UGFyYW1zOlwiLHQsXCIsIG1vZHVsZVBhcmFtczpcIixyLFwiLCBjb250ZXh0OlwiLGkpLEIuZmlyZShcImV4cGVyaWVuY2VcIixsLCEwLHQscixpKSxuJiZsIT09biYmKG8uZGVidWcoXCJleHA6IGV4ZWN1dGUgZXZlbnQgXCIsbCxcIiB3aXRoIGNhbGxiYWNrOiBcIixuKSxmZShuKSl9KSh0KX19KG5bZV0sZSl9KSksdCksUD17c2hvd09mZmVyOmZ1bmN0aW9uKGUpe3JldHVybiB2ZShlLChmdW5jdGlvbihlKXtyZXR1cm4gcG4ub2ZmZXIuZGVmZXJyZWRTaG93KGUpfSkpfSxzaG93VGVtcGxhdGU6aGUsc2hvd1p1b3JhT2ZmZXI6aGUsc2hvd05ld3NjeWNsZU9mZmVyOmhlfSxFPW8ucHJvZmlsZSgoZnVuY3Rpb24oZSl7UShcIm1hbnVhbFwiLGUsITEpfSkpLFQ9ZnVuY3Rpb24oZSxuKXtCLmFkZEV2ZW50KGUpLEIucmVnaXN0ZXJDYWxsYmFjayhlLG4pfSxBPVwieGJjXCIsTT17fSxPPVwiXCIsUj1cIlwiLEw9XCJcIixOPVtdLFU9XCJoYW5kbGVyXCIsaj1cImV2ZW50Q29uZGl0aW9uXCIsRD1cImlubmVyRXZlbnRDb25kaXRpb25cIixGPVwicHJlbG9hZFwiLEI9YS5jcmVhdGVFdmVudE1hbmFnZXIoW10pLFY9W1wic2hvd09mZmVyXCIsXCJzaG93WnVvcmFPZmZlclwiLFwic2hvd05ld3NjeWNsZU9mZmVyXCIsXCJzaG93VGVtcGxhdGVcIl07dmFyIHEsej1mdW5jdGlvbigpe3JldHVybiB5fSxIPWZ1bmN0aW9uKCl7eT1bXX0sVz1mdW5jdGlvbigpe3JldHVybiBwbi5nZXRUcmFja2luZ0VuZHBvaW50KHBuLmNvbXBvc2VySG9zdCkrXCIvYXBpL3YzXCJ9LEo9ZnVuY3Rpb24oKXtnLl9fcHJvdGVjdGVkX18uaW5pdCgpfSxHPWZ1bmN0aW9uKGUpe3ZhciBuPXooKTtuLmxlbmd0aCYmKGMubG9nQmVhY29uUmVxdWVzdChXKCkrXCIvY29tcG9zZXIvbG9nRXhlY3V0aW9uU3RhdHNcIix7YWlkOnBuLmFpZCxpdGVtczpKU09OLnN0cmluZ2lmeShuKSxleGVjdXRpb25fc3RhdHNfY29udGV4dDprLHRzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLHNvdXJjZTplfSksSCgpKSx3aW5kb3cuY2xlYXJUaW1lb3V0KHEpLHE9d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7RyhcInRpbWVyXCIrcSl9KSwyZTMpfSxRPWZ1bmN0aW9uKGUsbix0KXt2b2lkIDA9PT1wbi5tYWluLmFwcEhhc0FwcGxlUGF5KCkmJkIuZmlyZUNhbGxiYWNrcyhcImV4cGVyaWVuY2VGbG93XCIsbnVsbCxcImV4cGVyaWVuY2VcIiwhMCk7dmFyIGk9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZSh7fSl9KSwzZTQpfSkpO3JldHVybiBQcm9taXNlLnJhY2UoW3BuLm1haW4uZXh0ZXJuYWxSZXNvdXJjZXNEZWxheSgpLGldKS50aGVuKChmdW5jdGlvbihpKXtpZihyLmlzUGxhaW5PYmplY3QoaSl8fChvLmVycm9yKFwiZXhwOiBlcnJvciBnZXQgZXh0ZXJuYWwgcmVzb3VyY2VzIFwiLGkpLGk9e30pLGguX19wcm90ZWN0ZWRfXy5pc0FjdGl2YXRlZCgpKXtvLmRlYnVnKFwiYzF4OiBpbnRlZ3JhdGlvbiBpcyBhY3RpdmF0ZWRcIiksaC5fX3Byb3RlY3RlZF9fLmxvYWRDeExpYklmTmVlZGVkKCk7dmFyIGE9ci5kZWVwRXh0ZW5kKHt9LG4saSx7YzF4X2ludGVncmF0aW9uX3ZlcnNpb246XCJ2MlwiLG5ld19iaWQ6cG4ubWFpbi5mZXRjaEN4QnJvd3NlcklkKCl9KTtYKGUsYSx0KX1lbHNlIFgoZSxyLmRlZXBFeHRlbmQoe30sbixpKSx0KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7fSkpfSxYPWZ1bmN0aW9uKGUsbix0KXtuPW58fHt9O3ZhciBhPXIuZGVlcEV4dGVuZCh7fSx7cHJvdG9jb2xfdmVyc2lvbjoxfSxuKTskKGEpLFkoYSksby5oYXNRdWVyeVBhcmFtQnlOYW1lKEMpJiYoYS5yZWFkZXJfaWQ9by5nZXRRdWVyeVBhcmFtQnlOYW1lKEMpKSxvLndhaXRDYWxsKFwicmVmcmVzaFVzZXJUb2tlblwiLChmdW5jdGlvbigpe2lmKHQpYS5leGVjdXRlZF9ub2Rlcz1KU09OLnN0cmluZ2lmeShTKTtlbHNle3BuLm1haW4udHJhY2tQYWdlVW5sb2FkSWZOZWNlc3NhcnkoKSxLKGEpLGkuZ2V0Q2FsbFBhcmFtcyhhLHYuZ2V0UHJvdmlkZXIoKSksby5yZW1vdmVBZmZpbGlhdGVUb2tlbigpO3ZhciBuPXt1cmw6d2luZG93LmxvY2F0aW9uLmhyZWYsdGFnczpwbi50YWdzLHN1Ym1pdFR5cGU6ZX07cG4ubWFpbi5idWlsZFBhZ2VUcmFja1BhcmFtcyhhLG4pfW8uZGVidWcoXCJleHA6IEV4cGVyaWVuY2UgaW5pdGlhbGl6ZWQgd2l0aCBwYXJhbXM6XCIsYSksby53YWl0Q2FsbChcInJlZnJlc2hBY2Nlc3NUb2tlbkxpc3RcIiwoZnVuY3Rpb24oKXtvLnN0YXJ0Q2FsbChcImV4cGVyaWVuY2VFeGVjdXRlXCIpO3ZhciBlLG4saT0oby5fX3Byb3RlY3RlZF9fLmNhbWVGcm9tRmJTdWJzY3JpcHRpb25zKCk/KGU9XCIveGJ1aWxkZXIvZXhwZXJpZW5jZS9leGVjdXRlRmJpYVwiLEooKSk6ZT1cIi94YnVpbGRlci9leHBlcmllbmNlL2V4ZWN1dGVcIixwbi5nZXRFeHBlcmllbmNlRW5kcG9pbnQoITEpK2UpO2lmKC0xIT09bmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgOVwiKSluPXtkYXRhVHlwZTpcImpzb25wXCIsdXJsOmkrXCI/XCIrci5wYXJhbShhKX07ZWxzZXt2YXIgcz1cIj9cIityLnBhcmFtKHthaWQ6YS5haWR9KTtuPXt0eXBlOlwicG9zdFwiLHVybDppK3MsZGF0YTphLHhockZpZWxkczp7d2l0aENyZWRlbnRpYWxzOiEwfX19bi5zdWNjZXNzPWZ1bmN0aW9uKGUpe28uZG9uZUNhbGwoXCJleHBlcmllbmNlRXhlY3V0ZVwiKTt2YXIgbj1yLmRlZXBFeHRlbmQoe30sYSk7dHx8KHdlKCkscG4ubWFpbi5yZWdpc3RlclRyYWNrVW5sb2FkKCkpLFooZS5lcnJvcnMpLGRlKGUubW9kZWxzLG4pfSxuLmVycm9yPWZ1bmN0aW9uKCl7by5kb25lQ2FsbChcImV4cGVyaWVuY2VFeGVjdXRlXCIpLHR8fHdlKCk7dmFyIGU9e2NvZGU6NTAzLG1lc3NhZ2U6XCJFcnJvcjogUmVjZWl2ZWQgZXJyb3Igd2hlbiByZXF1ZXN0aW5nIEFQSSByZXNwb25zZSBmcm9tIFVSTDogXCIraX07by5kZWJ1ZyhlLm1lc3NhZ2UpfSxsLnJlcXVlc3Qobil9KSl9KSl9LCQ9ZnVuY3Rpb24oZSl7dmFyIG49by5fX3Byb3RlY3RlZF9fLmdldENvb2tpZShBKTtuJiYoZS54YmM9bik7dmFyIHQ9by5nZXRUYmNDb29raWUoKTt0JiZ0Lmxlbmd0aD4wJiYoZS50YmM9dCksby5nZXRDYW1wYWlnbnMoZSksZS5jdXN0b21fY29va2llcz1KU09OLnN0cmluZ2lmeShvLmdldEN1c3RvbUNvb2tpZXMoKSl9LFk9ZnVuY3Rpb24oZSl7dmFyIG49by5nZXRQdXNoTGlzdHNDb29raWUoKSx0PWYuX19wcm90ZWN0ZWRfXy5nZXROb3RpZmljYXRpb25TdGF0dXMoKTtuJiZuLmxlbmd0aD4wJiYoZS5wdXNoX2xpc3Rfc3Vic2NyaXB0aW9ucz1KU09OLnN0cmluZ2lmeShuKSksdCYmKGUucHVzaF9ub3RpZmljYXRpb25fc2V0dGluZ3M9dCl9LEs9ZnVuY3Rpb24oZSl7cmV0dXJuW3twcm9wZXJ0eTpcImRlYnVnXCIscGFyYW1ldGVyOlwiZGVidWdcIn0se3Byb3BlcnR5OlwidHJhY2tQYWdlVmlld1wiLHBhcmFtZXRlcjpcImluY3JlbWVudF9wYWdldmlld19tZXRlclwifV0uZm9yRWFjaCgoZnVuY3Rpb24obil7dm9pZCAwIT09cG5bbi5wcm9wZXJ0eV0mJihlW24ucGFyYW1ldGVyXT1wbltuLnByb3BlcnR5XSl9KSksZX0sWj1mdW5jdGlvbihlKXtBcnJheS5pc0FycmF5KGUpJiYoZS5sZW5ndGgmJm8uZGVidWcoXCJleHA6IGNvbXBvc2VyIGV4ZWN1dGlvbiBoYXMgYmVlbiBmYWlsZWQgd2l0aCBlcnJvcnNcIiksZS5mb3JFYWNoKChmdW5jdGlvbihlKXtvLmRlYnVnKFwiZXhwOiBcIitlLm1zZyl9KSkpfSxlZT1mdW5jdGlvbihlLG4pe3ZhciB0O3Q9e21JZDplLGVJZDpuLmV2ZW50RXhlY3V0aW9uQ29udGV4dC5leHBlcmllbmNlSWQsZVY6bi5ldmVudEV4ZWN1dGlvbkNvbnRleHQuZXhwZXJpZW5jZVZlcnNpb24sZWVJZDpuLmV2ZW50RXhlY3V0aW9uQ29udGV4dC5leGVjdXRpb25JZH0seS5wdXNoKHQpfTtmdW5jdGlvbiBuZShlLG4sdCxyKXtyZXR1cm57dHlwZTpVLGV2ZW50VHlwZTpuLmV2ZW50VHlwZSxjaGlsZHJlbjpbXSxydW46ZnVuY3Rpb24oKXtlLmJpbmQodGhpcyxuLHQscikoKX19fXZhciB0ZT1mdW5jdGlvbihlKXt2YXIgbix0PWUuZXZlbnRQYXJhbXMuZGVsYXlCeXx8e307cmV0dXJuIHQudmFsdWUmJihcInRpbWVcIj09PXQudHlwZT9uPXt0eXBlOlwidGltZXJcIix0aW1lcjp0LnZhbHVlfTpcInNjcm9sbFwiPT09dC50eXBlJiYobj17dHlwZTpcInNjcm9sbERlcHRoXCIsc2Nyb2xsRGVwdGg6dC52YWx1ZSxtZWFzdXJlVHlwZTpcInBpeGVsc1wifSkpLG59LHJlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmV2ZW50Q29uZGl0aW9ucyYmQXJyYXkuaXNBcnJheShlLmV2ZW50Q29uZGl0aW9ucyk/ZS5ldmVudENvbmRpdGlvbnMubGVuZ3RoOjB9LG9lPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHI9ITEse3R5cGU6RixldmVudFR5cGU6bi5ldmVudFR5cGUsY2hpbGRyZW46W10scnVuOmZ1bmN0aW9uKCl7ITE9PT1yJiYodD1lKG4pLHI9ITApfSxnZXRQcmVsb2FkUmVzdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIHR9fTt2YXIgdCxyfTtmdW5jdGlvbiBpZShlLG4pe3ZhciB0PWZ1bmN0aW9uKCl7cmV0dXJuIEIuZmlyZUNhbGxiYWNrc0FuZFN0b3BPbkZpcnN0RmFsc2UoXCJiZWZvcmVCcm93c2VyRXZlbnRcIixlKX07c3dpdGNoKGUudHlwZSl7Y2FzZVwidmlld3BvcnRFeGl0XCI6dS5hZGRMaXN0ZW5lcihuLHtkZXRlY3RFeGl0TW9kZTplLmRldGVjdEV4aXRNb2RlLGRldGVjdEJhY2tCdXR0b25Gb3JNb2JpbGU6ZS5kZXRlY3RCYWNrQnV0dG9uRm9yTW9iaWxlLGNsaWVudERldmljZTplLmNsaWVudERldmljZX0sdCk7YnJlYWs7Y2FzZVwic2Nyb2xsRGVwdGhcIjpzLmFkZExpc3RlbmVyKG4se3Njcm9sbERlcHRoOmUuc2Nyb2xsRGVwdGgsbWVhc3VyZVR5cGU6ZS5tZWFzdXJlVHlwZX0sdCk7YnJlYWs7Y2FzZVwidGltZXJcIjp2YXIgcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QoKSYmbigpfSksMWUzKmUudGltZXIpO04ucHVzaChyKTticmVhaztjYXNlXCJpbnRlcmFjdGlvblwiOnAuYmluZChuLGUuaW50ZXJhY3Rpb25zLHQpO2JyZWFrO2Nhc2VcImlkbGVcIjpkLmFkZExpc3RlbmVyKG4sZS5pZGxlVGltZSx0KX19dmFyIGFlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT1VJiYtMT09PVtcImNvbnRpbnVlRXhlY3V0aW9uXCIsXCJtZXRlckFjdGl2ZVwiLFwibWV0ZXJFeHBpcmVkXCJdLmluZGV4T2YoZS5ldmVudFR5cGUpfTtmdW5jdGlvbiBzZShlLG4pe3JldHVybiB0PSExLHI9ZnVuY3Rpb24oKXtlZShlLm1vZHVsZUlkLG4pO2Zvcih2YXIgcj1iW2UubW9kdWxlSWRdLmNoaWxkcmVuLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIGE9cltpXSxzPWJbYV07aWYoITE9PT10fHxhZShzKSl0cnl7cy5ydW4oKX1jYXRjaChlKXtvLmVycm9yKFwiZXhwOiBlcnJvciBleGVjdXRlIGNoYWluIGV2ZW50XCIscyxlKX19dD0hMCxfJiZHKFwiY2hhaW5cIil9LHt0eXBlOmosY2hpbGRyZW46W10scnVuOmZ1bmN0aW9uKCl7aWUoZSxyKX19O3ZhciB0LHJ9ZnVuY3Rpb24gY2UoZSxuKXtyZXR1cm4gdD0hMSxyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWJbbitEXS5jaGlsZHJlbixyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWVbcl0sYT1iW2ldO2lmKCExPT09dHx8YWUoYSkpdHJ5e2EucnVuKCl9Y2F0Y2goZSl7by5lcnJvcihcImV4cDogZXJyb3IgZXhlY3V0ZSBjaGFpbiBldmVudFwiLGEsZSl9fXQ9ITB9LHt0eXBlOkQsY2hpbGRyZW46W25dLHJ1bjpmdW5jdGlvbigpe2llKGUscil9fTt2YXIgdCxyfXZhciBsZT1mdW5jdGlvbihlKXt2YXIgbjtlLnN3Z01hcmt1cERhdGEmJihvLmRlYnVnKFwiZXhwOiBzd2cgbWFya3VwIGRhdGEgOlwiLGUuc3dnTWFya3VwRGF0YSksbj1lLnN3Z01hcmt1cERhdGEsbS5fX3Byb3RlY3RlZF9fLmluamVjdE1hcmt1cChuKSxlLnN3Z01hcmt1cERhdGEuaXNBY2Nlc3NpYmxlRm9yRnJlZXx8bS5fX3Byb3RlY3RlZF9fLmFkZExpYnJhcnkoKSksZS5zd2dFbmFibGVkJiZtLl9fcHJvdGVjdGVkX18uaW5pdFN3Z0Zsb3coKX0sdWU9ZnVuY3Rpb24oZSl7aWYoZSl7Zm9yKHZhciBuPXt9LHQ9MDt0PGUuZXZlbnRzLmxlbmd0aDt0Kyspe3ZhciBpPWUuZXZlbnRzW3RdO3RyeXtcImV4cGVyaWVuY2VFeGVjdXRlXCI9PT1pLmV2ZW50VHlwZSYmKChuPXIuZGVlcEV4dGVuZCh7fSxpLmV2ZW50RXhlY3V0aW9uQ29udGV4dCkpLnJlc3VsdD1yLmRlZXBFeHRlbmQoe30sZSkpfWNhdGNoKGUpe28uZXJyb3IoXCJleHA6IGVycm9yIG9uIGV4ZWN1dGUgZXZlbnQ6IFwiLGksZSl9fXJldHVybiBufW8uZGVidWcoXCJleHA6IG5vIGNvbXBvc2VyIGV4ZWN1dGlvbiByZXN1bHRcIil9LGRlPWZ1bmN0aW9uKGUsbil7aWYoZSl7dmFyIHQsaTtpZihvLnNldFRiY0Nvb2tpZUZyb21SZXNwb25zZShlKSxvLnNldFRhY0Nvb2tpZUZyb21SZXNwb25zZShlKSx0PWUsaC5fX3Byb3RlY3RlZF9fLmlzQWN0aXZhdGVkKCkmJmguX19wcm90ZWN0ZWRfXy5pc0N1c3RvbWVyUHJlZml4Q29uZmlndXJlZCh0KSYmdCYmdC5iaWQmJmguX19wcm90ZWN0ZWRfXy5zZXRDeEJpZENvb2tpZSh0LmJpZCxudWxsPT09KGk9dC50YmMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNvb2tpZV9kb21haW4pLG8uc2V0QXBwVGltZXpvbmVPZmZzZXRGcm9tUmVzcG9uc2UoZSksby5zZXRDdXJyZW50RG9tYWluRnJvbVJlc3BvbnNlKGUpLGZ1bmN0aW9uKGUpe2YuX19wcm90ZWN0ZWRfXy5zZXRWaXNpdG9ySWQoZS5iaWQpfShlKSxmdW5jdGlvbihlKXtoLl9fcHJvdGVjdGVkX18uc2VuZFBhZ2VWaWV3RXZlbnQoe2Jyb3dzZXJJZDplLmJpZCx1aWQ6ZS51aWQsY3hlbnNlQ3VzdG9tZXJQcmVmaXg6ZS5jeGVuc2VDdXN0b21lclByZWZpeCxwYWdlVmlld0lkOnBuLm1haW4uZmV0Y2hQYWdlVmlld0lkKCksZXZlbnRFeGVjdXRpb25Db250ZXh0OnVlKGUucmVzdWx0KX0pfShlKSxmdW5jdGlvbihlKXtPPWUuYmlkfShlKSxmdW5jdGlvbihlKXtlLmlzcyYmKFI9ZS5pc3MpfShlKSxmdW5jdGlvbihlKXtMPWUuaXRlbUlkfShlKSxlLnhiYyYmZS54YmMuY29va2llX3ZhbHVlKXt2YXIgYT17cGF0aDpcIi9cIixleHBpcmVzOjczMH07aWYoZS54YmMuY29va2llX2RvbWFpbiYmXCJsb2NhbGhvc3RcIiE9PWUueGJjLmNvb2tpZV9kb21haW4mJihhLmRvbWFpbj1lLnhiYy5jb29raWVfZG9tYWluLG8uX19wcm90ZWN0ZWRfXy5kZWxldGVUTERDb29raWVGb3JTcGVjaWZpY0RvbWFpbnMoQSxlLnhiYy5jb29raWVfZG9tYWluKSkscG4uY29va2llRG9tYWlufHxwbi5jb29raWVQYXRoKXt2YXIgcz1vLmdldFBvc3NpYmxlQ29va2llRG9tYWlucygpO2Zvcih2YXIgYyBpbiBzKW8uZGVsZXRlQ29va2llKEEsc1tjXSk7YS5kb21haW49cG4uY29va2llRG9tYWluP3BuLmNvb2tpZURvbWFpbjphLmRvbWFpbixvLl9fcHJvdGVjdGVkX18uZGVsZXRlVExEQ29va2llRm9yU3BlY2lmaWNEb21haW5zKEEsYS5kb21haW4sYS5wYXRoKSxhLnBhdGg9cG4uY29va2llUGF0aD9wbi5jb29raWVQYXRoOmEucGF0aCxvLl9fcHJvdGVjdGVkX18uZGVsZXRlVExEQ29va2llRm9yU3BlY2lmaWNEb21haW5zKEEsYS5kb21haW4sYS5wYXRoKX1vLmRlbGV0ZUNvb2tpZShBKSxvLl9fcHJvdGVjdGVkX18uc2V0Q29va2llKEEsZS54YmMuY29va2llX3ZhbHVlLGEpfXZhciBsPWUucmVzdWx0LHU9e307aWYobCl7bGUobCksby5kZWJ1ZyhcImV4cDogcHJvY2Vzc2VkIGV4cGVyaWVuY2VzIDpcIixsLmV4cGVyaWVuY2VzKSxrPWUuZXhlY3V0aW9uU3RhdHNDb250ZXh0LGwuZGVidWdNZXNzYWdlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtvLmRlYnVnKFwiZXhwOiBleGVjdXRlIDpcIixlKX0pKTtmb3IodmFyIGQscD1mdW5jdGlvbihlLG4sdCl7Zm9yKHZhciByPWUuZXZlbnRDb25kaXRpb25zLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIGE9cltpXSxzPWEubW9kdWxlSWQsYz1yW2ktMV0sbD0hcltpKzFdO2lmKGJbc118fChiW3NdPXNlKGEsZSkpLGwpaWYoYltzXS5jaGlsZHJlbi5wdXNoKG4pLC0xIT09Vi5pbmRleE9mKGUuZXZlbnRUeXBlKSYmXCJ2aWV3cG9ydEV4aXRcIj09PWEudHlwZSYmIXRlKGUpKXt2YXIgdT1QW2UuZXZlbnRUeXBlXTtpZighdSl7by5lcnJvcihcImV4cDogbm90IGZvdW5kIHByZWxvYWQgaGFuZGxlciBmb3IgZXZlbnQ6IFwiLGUpO2NvbnRpbnVlfXZhciBkPW4rRjtiW2RdPW9lKHUsZSksYz9iW2MubW9kdWxlSWRdLmNoaWxkcmVuLnB1c2goZCk6dC5wdXNoKGQpfWMmJi0xPT09YltjLm1vZHVsZUlkXS5jaGlsZHJlbi5pbmRleE9mKHMpJiZiW2MubW9kdWxlSWRdLmNoaWxkcmVuLnB1c2gocyl9fSxtPVtdLGc9MCx2PTA7djxsLmV2ZW50cy5sZW5ndGg7disrKXt2YXIgdz1sLmV2ZW50c1t2XTt0cnl7dmFyIHk9dy5ldmVudFR5cGUsQz13LmV2ZW50TW9kdWxlUGFyYW1zfHx7fTtpZihvLmRlYnVnKFwiZXhwOiBwcm9jZXNzIGV2ZW50ICdcIit5K1wiJyAoXCIrQy5tb2R1bGVJZCtcIilcIiksXCJleHBlcmllbmNlRXhlY3V0ZVwiPT09eSYmKCh1PXIuZGVlcEV4dGVuZCh7fSx3LmV2ZW50RXhlY3V0aW9uQ29udGV4dCkpLnJlc3VsdD1yLmRlZXBFeHRlbmQoe30sbCkpLCEoZD1DLm1vZHVsZUlkKSl7by5lcnJvcihcImV4cDogbm90IGZvdW5kIG1vZHVsZUlkIGZvciBsaW5rZWQgbm9kZSBldmVudDogXCIsdyk7Y29udGludWV9dmFyIEk9eFt5XTtpZighSSl7by5lcnJvcihcImV4cDogbm90IGZvdW5kIGhhbmRsZXIgZm9yIGV2ZW50OiBcIix3KTtjb250aW51ZX1iW2RdPW5lKEksdyxuLGwpO3ZhciBTPXJlKHcpLEU9dGUodyk7aWYoU3x8RSl7dmFyIFQ9ZDtpZihFKXt2YXIgTj1jZShFLGQpO2JbVD1kK0RdPU59Uz8tMT09PW0uaW5kZXhPZih3LmV2ZW50Q29uZGl0aW9uc1swXS5tb2R1bGVJZCkmJm0ucHVzaCh3LmV2ZW50Q29uZGl0aW9uc1swXS5tb2R1bGVJZCk6RSYmbS5wdXNoKFQpLHAodyxULG0pLGcrK31lbHNlIG0ucHVzaChkKX1jYXRjaChlKXtvLmVycm9yKFwiZXhwOiBlcnJvciBvbiBleGVjdXRlIGV2ZW50OiBcIix3LGUpfX1nPD0zJiYoXz0hMCk7Zm9yKHZhciBVPTA7VTxtLmxlbmd0aDtVKyspZD1tW1VdLGJbZF0mJmJbZF0ucnVuKCk7d2luZG93LmNsZWFyVGltZW91dChxKSxxPXdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe0coXCJyb290VGltZXJcIitxKX0pLDJlMyksTT11fWVsc2Ugby5kZWJ1ZyhcImV4cDogbm8gY29tcG9zZXIgZXhlY3V0aW9uIHJlc3VsdFwiKX19O2Z1bmN0aW9uIHBlKGUpe3JlKGUpJiZlZShlLmV2ZW50TW9kdWxlUGFyYW1zLm1vZHVsZUlkLGUpfWZ1bmN0aW9uIGZlKGUpe3RyeXtldmFsLmNhbGwod2luZG93LFwiKGZ1bmN0aW9uICgpIHtcIitlK1wiXFxufSkoKTtcIil9Y2F0Y2goZSl7by5sb2coXCJFcnJvciBvY2N1cnJlZCBpbiBSdW5KU1xcblwiLGUpfX1mdW5jdGlvbiBtZShlLG4pe3ZhciB0PWJbZS5ldmVudE1vZHVsZVBhcmFtcy5tb2R1bGVJZCtGXTtyZXR1cm4gdCYmdC5nZXRQcmVsb2FkUmVzdWx0P3QuZ2V0UHJlbG9hZFJlc3VsdCgpLnNob3coKTp5ZShlLG4pfWZ1bmN0aW9uIGdlKGUpe3JldHVybiBtZShlLChmdW5jdGlvbihlKXtyZXR1cm4gcG4udGVtcGxhdGUuc2hvdyhlKX0pKX1mdW5jdGlvbiB2ZShlLG4pe3JldHVybiBvLmRlYnVnKFwiZXhwOiBydW4gcHJlbG9hZGluZyBmb3I6XCIsZSkseWUoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KSl9ZnVuY3Rpb24gaGUoZSl7cmV0dXJuIHZlKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBwbi50ZW1wbGF0ZS5kZWZlcnJlZFNob3coZSl9KSl9ZnVuY3Rpb24gd2UoKXtHKFwicmVzZXRcIiksTi5mb3JFYWNoKChmdW5jdGlvbihlLG4pe2NsZWFyVGltZW91dChuKX0pKSxOPVtdLHUucmVtb3ZlTGlzdGVuZXJzKCksZC5yZW1vdmVMaXN0ZW5lcnMoKSxzLnJlbW92ZUxpc3RlbmVycygpLHAudW5iaW5kQWxsKCksYj17fSxTPXt9fWZ1bmN0aW9uIHllKGUsbil7dmFyIHQ9ci5kZWVwRXh0ZW5kKHt9LGUuZXZlbnRQYXJhbXMpLGk9ZS5ldmVudEV4ZWN1dGlvbkNvbnRleHQuc3BsaXRUZXN0cyxhPWUuZXZlbnRFeGVjdXRpb25Db250ZXh0LmFjdGl2ZU1ldGVycyxzPWUuZXZlbnRQYXJhbXMuZm9ybU5hbWVCeVRlcm1JZCxjPWUuZXZlbnRQYXJhbXMuaGlkZUNvbXBsZXRlZEZpZWxkcyxsPWZ1bmN0aW9uKGUpe3ZhciBuO2lmKCFSKXJldHVybiBudWxsO3ZhciB0PWV8fHt9O3JldHVybntpc3N1ZXJJZDpSLHByZW1pdW06dC51c2VyJiZ0LnVzZXIucHJlbWl1bXx8bnVsbCxyZWRlbXB0aW9uQ2FuZGlkYXRlSXRlbUlkOkx8fG51bGwsY3JlZGl0U3RhdGVzOnQuY3JlZGl0U3RhdGVzfHxudWxsLHVzZXJJZDoobnVsbD09PShuPXQudXNlcil8fHZvaWQgMD09PW4/dm9pZCAwOm4udWlkKXx8bnVsbCx0YXJnZXRHcm91cHM6e2wxOlwidGFyZ2V0XCIsbDI6bnVsbH19fShlLmV2ZW50RXhlY3V0aW9uQ29udGV4dCk7aWYodC50cmFja2luZ0lkPWUuZXZlbnRFeGVjdXRpb25Db250ZXh0LnRyYWNraW5nSWQsdC5leHBlcmllbmNlSWQ9ZS5ldmVudEV4ZWN1dGlvbkNvbnRleHQuZXhwZXJpZW5jZUlkLHQuZXhwZXJpZW5jZUV4ZWN1dGlvbklkPWUuZXZlbnRFeGVjdXRpb25Db250ZXh0LmV4ZWN1dGlvbklkLHQuZXhwZXJpZW5jZUFjdGlvbklkPWUuZXZlbnRNb2R1bGVQYXJhbXMubW9kdWxlSWQsdC5leHBlcmllbmNlQ29uZGl0aW9ucz1lLmV2ZW50Q29uZGl0aW9ucyx0LmJyb3dzZXJJZD1PLHQub25TdGFydENyZWRpdFJlZGVtcHRpb249ZnVuY3Rpb24obil7dmFyIHQ9ci5kZWVwRXh0ZW5kKHt9LG4pLG89XCJodHRwczovL3d3dy5waWFuby5pb1wiPT09UixpPWUuZXZlbnRFeGVjdXRpb25Db250ZXh0LnVzZXImJlwiYW5vblwiIT09ZS5ldmVudEV4ZWN1dGlvbkNvbnRleHQudWlkO3JldHVybiB0LnRyYWNraW5nSWQ9ZS5ldmVudEV4ZWN1dGlvbkNvbnRleHQudHJhY2tpbmdJZHx8dm9pZCAwLG8mJmkmJih0LnVpZD1lLmV2ZW50RXhlY3V0aW9uQ29udGV4dC51c2VyLnVpZHx8dm9pZCAwKSxwbi5jcmVkaXQucmVkZWVtKHQpfSxpJiZpLmxlbmd0aD4wKXt2YXIgdT1pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudmFyaWFudElkfSkpO3Quc3BsaXRUZXN0SWRzPUpTT04uc3RyaW5naWZ5KHUpfWlmKHQuYWRkaXRpb25hbFBhcmFtTmFtZXM9W10sYSYmYS5sZW5ndGg+MCYmKHQuYWN0aXZlTWV0ZXJzPUpTT04uc3RyaW5naWZ5KGEpKSxcInNob3dadW9yYU9mZmVyXCI9PT1lLmV2ZW50VHlwZSl7dmFyIGQ9ZS5ldmVudFBhcmFtcy5yYXRlUGxhbklkcztkJiZkLmxlbmd0aD4wJiYodC56dW9yYVNlbGVjdGVkUmF0ZVBsYW5JZHM9SlNPTi5zdHJpbmdpZnkoZCksdC5hZGRpdGlvbmFsUGFyYW1OYW1lcy5wdXNoKFwienVvcmFTZWxlY3RlZFJhdGVQbGFuSWRzXCIpKX1pZihcInNob3dOZXdzY3ljbGVPZmZlclwiPT09ZS5ldmVudFR5cGUpe3ZhciBwPWUuZXZlbnRQYXJhbXMuaWRzO3AmJnAubGVuZ3RoPjAmJih0Lm5ld3NjeWNsZVNlbGVjdGVkSWRzPUpTT04uc3RyaW5naWZ5KHApLHQuYWRkaXRpb25hbFBhcmFtTmFtZXMucHVzaChcIm5ld3NjeWNsZVNlbGVjdGVkSWRzXCIsXCJjYW1wYWlnbkNvZGVcIixcImNhbXBhaWduR3JvdXBJZFwiKSl9aWYoXCJzaG93TmV3c2xldHRlclNpZ251cFwiPT09ZS5ldmVudFR5cGUpe3ZhciBmPWUuZXZlbnRQYXJhbXMubWFpbGluZ0xpc3RJZHMsbT1lLmV2ZW50UGFyYW1zLnNpdGVJZDtmJiZmLmxlbmd0aD4wJiYodC5tYWlsaW5nTGlzdElkcz1KU09OLnN0cmluZ2lmeShmKSx0LnNpdGVJZD1tLHQuYWRkaXRpb25hbFBhcmFtTmFtZXMucHVzaChcIm1haWxpbmdMaXN0SWRzXCIsXCJzaXRlSWRcIikpfXJldHVyblwic2hvd1JlY29tbWVuZGF0aW9uc1wiPT09ZS5ldmVudFR5cGUmJih0LndpZGdldElkPWUuZXZlbnRQYXJhbXMud2lkZ2V0SWQsdC5wbGFjZWhvbGRlcj1lLmV2ZW50UGFyYW1zLnBsYWNlaG9sZGVyKSxzJiYodC5mb3JtTmFtZUJ5VGVybUlkPUpTT04uc3RyaW5naWZ5KHMpLHQuaGlkZUNvbXBsZXRlZEZpZWxkcz1jKSxsJiYodC5hZmZpbGlhdGVTdGF0ZT1sKSxvLmRlYnVnKFwiZXhwOiBzaG93IHdpdGggcGFyYW1zOlwiLHQpLG4odCl9ZnVuY3Rpb24gYmUoKXtyZXR1cm4gZnVuY3Rpb24oKXt9fXJldHVybntuYW1lOlwiZXhwZXJpZW5jZVwiLGluaXQ6ZnVuY3Rpb24oKXtpZighSSYmIW8uX19wcm90ZWN0ZWRfXy5pc0N4ZW5zZUJvdCgpKXtJPSEwO3ZhciBlPSEwO2lmKHBuLmN1c3RvbVByZUNoZWNrcyYmcG4uY3VzdG9tUHJlQ2hlY2tzLmxlbmd0aClmb3IodmFyIG49bnVsbCx0PXBuLmN1c3RvbVByZUNoZWNrcy5sZW5ndGg7dC0tOyl0cnl7MSE9PShuPXBuLmN1c3RvbVByZUNoZWNrc1t0XSgpKSYmITAhPT1uJiYoZT0hMSl9Y2F0Y2goZSl7fWUmJlEoXCJhdXRvXCIpLnRoZW4oKGZ1bmN0aW9uKCl7dy5zZXRUaW1lKFwiZXhwRXhlY1wiKX0pKX19LGV4ZWN1dGU6RSxfZ2V0TGFzdEV4ZWN1dGlvblJlc3VsdDpmdW5jdGlvbigpe3JldHVybiBNfSxyZWdpc3RlckNhbGxiYWNrOlQsX19wcml2YXRlX186e2hhbmRsZXJzOngsZXhlY3V0ZWROb2Rlczp5LGxpbmtlZE5vZGVzOmIscHJvY2Vzc1Jlc3VsdDpkZSxwcm9jZXNzRXJyb3JzOlosc2hvdzp5ZSxnZXRUcmFja2luZ0VuZHBvaW50OlcsaW5pdGlhbGl6ZWQ6SSxyZWdpc3RlckNhbGxiYWNrOlR9LF9fcHJvdGVjdGVkX186e3NlbmRTdGF0aXN0aWNzRXhlY3V0ZWROb2RlczpHfX19O3BuLmNvbnRhaW5lci5yZWdpc3RlcihcImV4cGVyaWVuY2VcIix7dXNlVmFsdWU6dW4oKX0pLHBuLmV4cGVyaWVuY2U9cG4uY29udGFpbmVyLnJlc29sdmUoXCJleHBlcmllbmNlXCIpO3ZhciBkbj1mdW5jdGlvbigpe3ZhciBlLG4sdCxyLG8saT0wLGE9ZG9jdW1lbnQscz0hMSxjPVwiYWN0aXZlXCIsbD02ZTQsdT0ocj17fSx0PVwiX19jZUdVSURcIix7YWRkOmZ1bmN0aW9uKGUsbixvKXtyZXR1cm4gZVt0XT12b2lkIDAsZVt0XXx8KGVbdF09XCJpZnZpc2libGUub2JqZWN0LmV2ZW50LmlkZW50aWZpZXJcIikscltlW3RdXXx8KHJbZVt0XV09e30pLHJbZVt0XV1bbl18fChyW2VbdF1dW25dPVtdKSxyW2VbdF1dW25dLnB1c2gobyl9LHJlbW92ZTpmdW5jdGlvbihlLG4sbyl7dmFyIGksYSxzLGMsbDtpZihvKXtpZihlW3RdJiZyW2VbdF1dJiZyW2VbdF1dW25dKWZvcihhPXM9MCxjPShsPXJbZVt0XV1bbl0pLmxlbmd0aDtzPGM7YT0rK3MpaWYoKGk9bFthXSk9PT1vKXJldHVybiByW2VbdF1dW25dLnNwbGljZShhLDEpLGl9ZWxzZSBpZihlW3RdJiZyW2VbdF1dJiZyW2VbdF1dW25dKXJldHVybiBkZWxldGUgcltlW3RdXVtuXX0sZmlyZTpmdW5jdGlvbihlLG4sbyl7dmFyIGksYSxzLGMsbDtpZihlW3RdJiZyW2VbdF1dJiZyW2VbdF1dW25dKXtmb3IobD1bXSxhPTAscz0oYz1yW2VbdF1dW25dKS5sZW5ndGg7YTxzO2ErKylpPWNbYV0sbC5wdXNoKGkob3x8e30pKTtyZXR1cm4gbH19fSksZD1mdW5jdGlvbihlLG4sdCl7cmV0dXJuIG98fChvPWUuYWRkRXZlbnRMaXN0ZW5lcj9mdW5jdGlvbihlLG4sdCl7cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcihuLHQuYmluZChkbiksITEpfTplLmF0dGFjaEV2ZW50P2Z1bmN0aW9uKGUsbix0KXtyZXR1cm4gZS5hdHRhY2hFdmVudChcIm9uXCIrbix0LCExKX06ZnVuY3Rpb24oZSxuLHQpe3JldHVybiBlW1wib25cIituXT10fSksbyhlLG4sdCl9LHA9ZnVuY3Rpb24oKXt2YXIgZSxuPWEuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0PW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpXCIpLHI9Mztmb3IoZT1mdW5jdGlvbigpe3JldHVybiBuLmlubmVySFRNTD1cIlxceDNjIS0tW2lmIGd0IElFIFwiKyArK3IrXCJdPjxpPjwvaT48IVtlbmRpZl0tLVxceDNlXCIsdFswXX07ZSgpOyk7cmV0dXJuIHI+ND9yOnZvaWQgMH0oKTtmdW5jdGlvbiBmKCl7dmFyIHQscixvO3JldHVybiEhc3x8KGU/ZChhLG4sKGZ1bmN0aW9uKCl7cmV0dXJuIGEuaGlkZGVuP2coKTptKCl9KSwhMSk6KHQ9XCJibHVyXCIscCYmcDw5JiYodD1cImZvY3Vzb3V0XCIpLGQod2luZG93LHQsKGZ1bmN0aW9uKCl7cmV0dXJuIGRuLmJsdXIoKX0pKSxkKHdpbmRvdyxcImZvY3VzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGRuLmZvY3VzKCl9KSkpLHM9ITAsKG89ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHIpLFwiYWN0aXZlXCIhPT1jJiZoKCksaT0rbmV3IERhdGUscj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKFwiYWN0aXZlXCI9PT1jKXJldHVybiB2KCl9KSxsKX0pKCksZChhLFwibW91c2Vtb3ZlXCIsbyksZChhLFwibW91c2V1cFwiLG8pLGQoYSxcImtleXVwXCIsbyksZChhLFwidG91Y2hzdGFydFwiLG8pLGQod2luZG93LFwic2Nyb2xsXCIsbyksZCh3aW5kb3csXCJyZXNpemVcIixvKSxtKG8pLGgobykpfXZvaWQgMCE9PWEuaGlkZGVuPyhlPVwiaGlkZGVuXCIsbj1cInZpc2liaWxpdHljaGFuZ2VcIik6dm9pZCAwIT09YS5tb3pIaWRkZW4/KGU9XCJtb3pIaWRkZW5cIixuPVwibW96dmlzaWJpbGl0eWNoYW5nZVwiKTp2b2lkIDAhPT1hLm1zSGlkZGVuPyhlPVwibXNIaWRkZW5cIixuPVwibXN2aXNpYmlsaXR5Y2hhbmdlXCIpOnZvaWQgMCE9PWEud2Via2l0SGlkZGVuJiYoZT1cIndlYmtpdEhpZGRlblwiLG49XCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCIpO2Z1bmN0aW9uIG0oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT93KFwiZm9jdXNcIiwoZnVuY3Rpb24obil7ZShuKX0pKTooYz1cImFjdGl2ZVwiLHUuZmlyZShkbixcImZvY3VzXCIpLHUuZmlyZShkbixcIndha2V1cFwiKSx1LmZpcmUoZG4sXCJzdGF0dXNDaGFuZ2VkXCIse3N0YXR1czpjfSkpLGRufWZ1bmN0aW9uIGcoZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT93KFwiYmx1clwiLChmdW5jdGlvbihuKXtlKG4pfSkpOihjPVwiaGlkZGVuXCIsdS5maXJlKGRuLFwiYmx1clwiKSx1LmZpcmUoZG4sXCJpZGxlXCIpLHUuZmlyZShkbixcInN0YXR1c0NoYW5nZWRcIix7c3RhdHVzOmN9KSksZG59ZnVuY3Rpb24gdihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP3coXCJpZGxlXCIsKGZ1bmN0aW9uKG4pe2Uobil9KSk6KGM9XCJpZGxlXCIsdS5maXJlKGRuLFwiaWRsZVwiKSx1LmZpcmUoZG4sXCJzdGF0dXNDaGFuZ2VkXCIse3N0YXR1czpjfSkpLGRufWZ1bmN0aW9uIGgoZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT93KFwid2FrZXVwXCIsKGZ1bmN0aW9uKG4pe3JldHVybiBlKG4pfSkpOihjPVwiYWN0aXZlXCIsdS5maXJlKGRuLFwid2FrZXVwXCIpLHUuZmlyZShkbixcInN0YXR1c0NoYW5nZWRcIix7c3RhdHVzOmN9KSksZG59ZnVuY3Rpb24gdyhlLG4pe3JldHVybiBmKCksdS5hZGQoZG4sZSxuKSxkbn1yZXR1cm57bmFtZTpcImlmdmlzaWJsZVwiLHNldElkbGVEdXJhdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gbD0xZTMqZX0sZ2V0SWRsZUR1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGx9LGdldElkbGVJbmZvOmZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZT0rbmV3IERhdGUsbj17fSxcImlkbGVcIj09PWM/KG4uaXNJZGxlPSEwLG4uaWRsZUZvcj1lLWksbi50aW1lTGVmdD0wLG4udGltZUxlZnRQZXI9MTAwKToobi5pc0lkbGU9ITEsbi5pZGxlRm9yPWUtaSxuLnRpbWVMZWZ0PWkrbC1lLG4udGltZUxlZnRQZXI9KDEwMC0xMDAqbi50aW1lTGVmdC9sKS50b0ZpeGVkKDIpKSxufSx3YWtldXA6aCxpZGxlOnYsZm9jdXM6bSxibHVyOmcsb246dyxvZmY6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZigpLHUucmVtb3ZlKGRuLGUsbiksZG59LG9uRXZlcnk6ZnVuY3Rpb24oZSxuKXt2YXIgdCxyPSExO3JldHVybiBmKCksbiYmKHQ9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7aWYoXCJhY3RpdmVcIj09PWMmJiFyKXJldHVybiBuKCl9KSwxZTMqZSkpLHtzdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIGNsZWFySW50ZXJ2YWwodCl9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHI9ITB9LHJlc3VtZTpmdW5jdGlvbigpe3JldHVybiByPSExfSxjb2RlOnQsY2FsbGJhY2s6bn19LG5vdzpmdW5jdGlvbihlKXtyZXR1cm4gZigpLGM9PT0oZXx8XCJhY3RpdmVcIil9fX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJpZnZpc2libGVcIix7dXNlVmFsdWU6ZG59KSxwbi5pZnZpc2libGU9cG4uY29udGFpbmVyLnJlc29sdmUoXCJpZnZpc2libGVcIik7dmFyIGZuPWZ1bmN0aW9uKCl7dmFyIGUsbj1wbi5jb250YWluZXIucmVzb2x2ZShcImpxVXRpbHNcIiksdD1wbi5jb250YWluZXIucmVzb2x2ZShcImlmdmlzaWJsZVwiKSxyPTAsbz1bXSxpPTYwLGE9ITAscz1mdW5jdGlvbigpe20oKTt2YXIgZT1vW28ubGVuZ3RoLTFdO3ZvaWQgMCE9PWUmJnZvaWQgMD09PWUuc3RvcFRpbWV8fG8ucHVzaCh7c3RhcnRUaW1lOm5ldyBEYXRlLHN0YXJ0TWludXRlOnIsc3RvcFRpbWU6dm9pZCAwfSl9LGM9ZnVuY3Rpb24oKXtpZigwIT09by5sZW5ndGgmJiFhKWlmKGQoKSlmKCk7ZWxzZXt2YXIgZT1vW28ubGVuZ3RoLTFdO3ZvaWQgMD09PWUuc3RvcFRpbWUmJihlLnN0b3BUaW1lPW5ldyBEYXRlLGUuc3RvcE1pbnV0ZT1yKX19LGw9ZnVuY3Rpb24oZSxuLHQscil7dmFyIG89TWF0aC5hYnMoZS5nZXRUaW1lKCktbi5nZXRUaW1lKCkpLGk9dC1yO3JldHVybiBvPjZlNCooaSsxMCkmJihvPTZlNCppKSxvfSx1PWZ1bmN0aW9uKGUpe3ZhciBuPXBhcnNlRmxvYXQoZSk7aWYoaXNOYU4obikpdGhyb3d7bmFtZTpcIkludmFsaWREdXJhdGlvbkV4Y2VwdGlvblwiLG1lc3NhZ2U6XCJBbiBpbnZhbGlkIGR1cmF0aW9uIHRpbWUgKFwiK2UrXCIpIHdhcyBwcm92aWRlZC5cIn07dC5zZXRJZGxlRHVyYXRpb24obiksaT1ufSxkPWZ1bmN0aW9uKCl7cmV0dXJuISEoZT1uLmZpbHRlcihcInZpZGVvLGF1ZGlvXCIsKGZ1bmN0aW9uKGUpe3JldHVybiFlLnBhdXNlZH0pKSkubGVuZ3RofSxwPWZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtjKCl9KSwxNWUzKX0sZj1mdW5jdGlvbigpe2UmJmUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5vbihlLFwicGF1c2VcIixwKX0pKX0sbT1mdW5jdGlvbigpe2UmJmUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5vZmYoZSxcInBhdXNlXCIscCl9KSl9O3JldHVybntuYW1lOlwiYWN0aXZldGltZXJcIixzZXRJZGxlRHVyYXRpb25JblNlY29uZHM6dSxnZXRBY3RpdmVUaW1lSW5TZWNvbmRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsbj0wO248by5sZW5ndGg7bisrKXt2YXIgdD1vW25dLnN0YXJ0VGltZSxpPW9bbl0uc3RvcFRpbWUsYT1vW25dLnN0YXJ0TWludXRlLHM9b1tuXS5zdG9wTWludXRlO3ZvaWQgMD09PWkmJihpPW5ldyBEYXRlLHM9ciksZSs9bChpLHQscyxhKX1yZXR1cm4gTWF0aC5mbG9vcihlLzFlMyl9LGdldFRvdGFsVGltZUluU2Vjb25kczpmdW5jdGlvbigpe3ZhciBlPTAsbj1vWzBdO2lmKHZvaWQgMCE9PW4pe3ZhciB0PW4uc3RhcnRUaW1lLGk9bi5zdGFydE1pbnV0ZSxhPW5ldyBEYXRlO2U9bChhLHQscixpKX1yZXR1cm4gTWF0aC5mbG9vcihlLzFlMyl9LHJlc2V0UmVjb3JkZWRUaW1lOmZ1bmN0aW9uKCl7bz1bXSxzKCl9LHN0YXJ0VGltZXI6cyxzdG9wVGltZXI6Yyxpbml0aWFsaXplOmZ1bmN0aW9uKGUpe2UmJnUoZSksdC5vbihcImJsdXJcIiwoZnVuY3Rpb24oKXthPSExLGMoKX0pKSx0Lm9uKFwiZm9jdXNcIiwoZnVuY3Rpb24oKXthPSEwLHMoKX0pKSx0Lm9uKFwiaWRsZVwiLChmdW5jdGlvbigpe2k+MCYmKGE9ITEsYygpKX0pKSx0Lm9uKFwid2FrZXVwXCIsKGZ1bmN0aW9uKCl7aT4wJiYoYT0hMCxzKCkpfSkpLHMoKSxzZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtyKyt9KSw2ZTQpfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiYWN0aXZldGltZXJcIix7dXNlVmFsdWU6Zm59KSxwbi5hY3RpdmV0aW1lcj1wbi5jb250YWluZXIucmVzb2x2ZShcImFjdGl2ZXRpbWVyXCIpO3ZhciBtbj1mdW5jdGlvbigpe3ZhciBlLG49e30sdD1bXSxyPSExLG89MSxpPTIsYT0zO2Z1bmN0aW9uIHMoZSl7ZSYmKHUoKSxyPSExKSxmdW5jdGlvbigpe2lmKHIpcmV0dXJuITE7cj0hMDt0cnl7dmFyIGU9d2luZG93Lmdvb2dsZXRhZz13aW5kb3cuZ29vZ2xldGFnfHx7fTtlLmNtZD1lLmNtZHx8W10sZS5jbWQucHVzaCgoZnVuY3Rpb24oKXtlLnB1YmFkcygpLmFkZEV2ZW50TGlzdGVuZXIoXCJzbG90UmVuZGVyRW5kZWRcIixmKSxlLnB1YmFkcygpLmFkZEV2ZW50TGlzdGVuZXIoXCJpbXByZXNzaW9uVmlld2FibGVcIixtKSxlLmNvbXBhbmlvbkFkcygpLmFkZEV2ZW50TGlzdGVuZXIoXCJzbG90UmVuZGVyRW5kZWRcIixmKSxlLmNvbXBhbmlvbkFkcygpLmFkZEV2ZW50TGlzdGVuZXIoXCJpbXByZXNzaW9uVmlld2FibGVcIixtKX0pKSxlLmFwaVJlYWR5JiZlLmNtZC5wdXNoKChmdW5jdGlvbigpe2QoZS5wdWJhZHMoKS5nZXRTbG90cygpKSxkKGUuY29tcGFuaW9uQWRzKCkuZ2V0U2xvdHMoKSl9KSl9Y2F0Y2goZSl7cmV0dXJuIHYoZSksITF9fSgpfWZ1bmN0aW9uIGMobix0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlKG4sdCl9ZnVuY3Rpb24gbChlKXtyZXR1cm4gZSYmdm9pZCAwIT09bltlXSYmbnVsbCE9PW5bZV0mJm4uaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24gdSgpe249e30sdD1bXX1mdW5jdGlvbiBkKGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgdD1lW25dO2Yoe2V2ZW50U291cmNlOmEsc2xvdDp0fSl9fWZ1bmN0aW9uIHAoZSl7dmFyIG47dHJ5e3ZhciB0PWUuc2VydmljZU5hbWUscj1lLnNsb3Q7aWYoIXQpe3ZhciBvPWUuc2xvdC5nZXRTZXJ2aWNlcygpO28mJm8ubGVuZ3RoJiYodD1vWzBdLmdldE5hbWUoKSl9dmFyIGk9ci5nZXRSZXNwb25zZUluZm9ybWF0aW9uKCl8fHt9LGE9ci5nZXRTbG90SWQ/ci5nZXRTbG90SWQoKTp7fSxzPXIuZ2V0U2xvdEVsZW1lbnRJZD9yLmdldFNsb3RFbGVtZW50SWQoKTphLmdldERvbUlkP2EuZ2V0RG9tSWQoKTpudWxsO249e2NvbXBhbmlvbjohIXQmJlwiY29tcGFuaW9uX2Fkc1wiPT09dCxhZFVuaXQ6ci5nZXRBZFVuaXRQYXRoP3IuZ2V0QWRVbml0UGF0aCgpOjAsaXNFbXB0eTplLmlzRW1wdHksZWxlbWVudElkOnMsYWR2ZXJ0aXNlcklkOmUuYWR2ZXJ0aXNlcklkfHxpLmFkdmVydGlzZXJJZCxjYW1wYWlnbklkOmUuY2FtcGFpZ25JZHx8aS5jYW1wYWlnbklkLGxpbmVJdGVtSWQ6ZS5saW5lSXRlbUlkfHxpLmxpbmVJdGVtSWQsY3JlYXRpdmVJZDplLmNyZWF0aXZlSWR8fGkuY3JlYXRpdmVJZCxldmVudFNvdXJjZTplLmV2ZW50U291cmNlfHxudWxsLHNpemU6ZS5zaXplJiZlLnNpemUuc2xpY2UoMCwyKXx8bnVsbCx2aWV3ZWQ6ITEscG9zaXRpb246bnVsbH07dmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocyk7aWYocyYmYyYmKG4ucG9zaXRpb249e3RvcDpjLm9mZnNldFRvcCxsZWZ0OmMub2Zmc2V0TGVmdH0sdm9pZCAwPT09ZS5pc0VtcHR5JiYobi5pc0VtcHR5PWMub2Zmc2V0V2lkdGg8PTAmJmMub2Zmc2V0SGVpZ2h0PD0wLCFuLmlzRW1wdHkmJiFuLnNpemUpKSl7dmFyIGw9ci5nZXRTaXplcygpO2wmJmwubGVuZ3RoJiYobi5zaXplPVwib2JqZWN0XCI9PXR5cGVvZiBsWzBdP1tsWzBdLmdldFdpZHRoKCksbFswXS5nZXRIZWlnaHQoKV06bFswXSl9fWNhdGNoKGUpe3YoZSl9cmV0dXJuIG59ZnVuY3Rpb24gZihlKXtlLmV2ZW50U291cmNlPWUuZXZlbnRTb3VyY2V8fG87dmFyIHI9cChlKSxpPWcoZS5zbG90KTtpJiYobltpXT9yLnZpZXdlZD1uW2ldLnZpZXdlZDp0LnB1c2goaSksbltpXT1yLGMocixpKSl9ZnVuY3Rpb24gbShlKXt2YXIgcj1nKGUuc2xvdCk7aWYocil7dmFyIG89bltyXXx8cChlKTtsKHIpfHwobltyXT1vLHQucHVzaChyKSksdm9pZCAwPT09by5jb21wYW5pb24mJihvLmNvbXBhbmlvbj1cImNvbXBhbmlvbl9hZHNcIj09PWUuc2VydmljZU5hbWUpLCghby5ldmVudFNvdXJjZXx8by5ldmVudFNvdXJjZT5pKSYmKG8uZXZlbnRTb3VyY2U9aSksby52aWV3ZWQ9ITAsYyhvLHIpfX1mdW5jdGlvbiBnKGUpe3RyeXt2YXIgbj1lLmdldFNsb3RJZD9lLmdldFNsb3RJZCgpOnt9LHQ9ZS5nZXRTbG90RWxlbWVudElkP2UuZ2V0U2xvdEVsZW1lbnRJZCgpOm4uZ2V0RG9tSWQ/bi5nZXREb21JZCgpOm51bGwscj1lLmdldEFkVW5pdFBhdGg/ZS5nZXRBZFVuaXRQYXRoKCk6MDtyZXR1cm5bdCxuLmdldElkP24uZ2V0SWQoKTowLHJdLmpvaW4oXCI6XCIpfWNhdGNoKGUpe3YoZSl9fWZ1bmN0aW9uIHYoZSl7cG4mJnBuLnV0aWwmJnBuLnV0aWwuZXJyb3ImJnBuLnV0aWwuZXJyb3IoXCJERlAgbW9kdWxlIGVycm9yOiBcIixlKX1yZXR1cm4gcygpLHtuYW1lOlwiZG91YmxlQ2xpY2tGb3JQdWJsaXNoZXJcIixpbml0aWFsaXplOnMsc2V0Q3VzdG9tSGFuZGxlcjpmdW5jdGlvbihuKXtlPW59LGdldEFkczpmdW5jdGlvbihlKXt2YXIgcixvPVtdLGk9MCxhPXQubGVuZ3RoO2UmJihcIm51bWJlclwiPT10eXBlb2Yocj1lKSYmaXNGaW5pdGUocikmJk1hdGguZmxvb3Iocik9PT1yKSYmZT4wJiZlPGEmJihpPWEtZSk7Zm9yKHZhciBzPWk7czxhO3MrKyl7dmFyIGM9dFtzXTtsKGMpJiZvLnB1c2gobltjXSl9cmV0dXJuIG99LHJlc2V0QWRzOnV9fSgpO3BuLmNvbnRhaW5lci5yZWdpc3RlcihcImRvdWJsZUNsaWNrRm9yUHVibGlzaGVyXCIse3VzZVZhbHVlOm1ufSkscG4uZG91YmxlQ2xpY2tGb3JQdWJsaXNoZXI9cG4uY29udGFpbmVyLnJlc29sdmUoXCJkb3VibGVDbGlja0ZvclB1Ymxpc2hlclwiKTt2YXIgZ249ZnVuY3Rpb24oKXt2YXIgZSxuLHQscixvLGksYT1wbi5jb250YWluZXIucmVzb2x2ZShcInBvc3RtZXNzYWdlXCIpLHM9cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpLGM9XCJodHRwczovL2pzLmJyYWludHJlZWdhdGV3YXkuY29tL3dlYi8zLjc5LjEvanMvY2xpZW50Lm1pbi5qc1wiLGw9XCJodHRwczovL2pzLmJyYWludHJlZWdhdGV3YXkuY29tL3dlYi8zLjc5LjEvanMvYXBwbGUtcGF5Lm1pbi5qc1wiLHU9XCJcIjthLnN1YnNjcmliZShcImxvYWRlZFwiLChmdW5jdGlvbigpe2QoKX0pKSxhLnN1YnNjcmliZShcInN0YXJ0Q2hlY2tvdXRcIiwoZnVuY3Rpb24oKXtkKCl9KSksYS5zdWJzY3JpYmUoXCJhcHBsZVBheUJ0Q2xpZW50VG9rZW5cIiwoZnVuY3Rpb24oZSl7ZyhlLnBhcmFtcy5jbGllbnRUb2tlbil9KSksYS5zdWJzY3JpYmUoXCJhcHBsZVBheUJ0Q2hlY2tvdXRGbG93UHJvcGVydGllc1wiLChmdW5jdGlvbihlKXtyPWUucGFyYW1zLnJlcXVlc3RFbWFpbCxvPWUucGFyYW1zLnJlcXVlc3RQb3N0YWxBZGRyZXNzfSkpLGEuc3Vic2NyaWJlKFwiYXBwbHlUYXhGYWlsZWRcIiwoZnVuY3Rpb24obil7ZS5hYm9ydCgpfSkpLGEuc3Vic2NyaWJlKFwiY2hlY2tBcHBsZVBheUJ0SW5zdGFuY2VcIiwoZnVuY3Rpb24oZSl7biYmYS5icm9hZGNhc3QoXCJhcHBsZVBheUluaXRcIix7fSl9KSksYS5zdWJzY3JpYmUoXCJhcHBseVRheENvbXBsZXRlZFwiLChmdW5jdGlvbihlKXttKGUucGFyYW1zLm5vbmNlKX0pKSxhLnN1YnNjcmliZShcImFwcGxlUGF5QnRCZWdpblNlc3Npb25cIiwoZnVuY3Rpb24oaSl7dmFyIHM9e30sYz1pLnBhcmFtcztjLnJlc291cmNlVGl0bGUmJihzPWMpLGMudGVybUlkJiYodT1jLnRlcm1JZHx8XCJcIik7dmFyIGw9e2N1cnJlbmN5Q29kZTpjLmN1cnJlbmN5Q29kZSx0b3RhbDp7bGFiZWw6Yy5yZXNvdXJjZVRpdGxlLGFtb3VudDpjLmNoYXJnZUFtb3VudH19O3AobCk7dHJ5e3Q9bi5jcmVhdGVQYXltZW50UmVxdWVzdChsKX1jYXRjaChlKXthLmJyb2FkY2FzdChcInBheW1lbnQtZXJyb3JcIix7ZXJyb3JDb2RlOjEwMX0pfShlPW5ldyB3aW5kb3cuQXBwbGVQYXlTZXNzaW9uKDIsdCkpLm9udmFsaWRhdGVtZXJjaGFudD1mdW5jdGlvbih0KXtuLnBlcmZvcm1WYWxpZGF0aW9uKHt2YWxpZGF0aW9uVVJMOnQudmFsaWRhdGlvblVSTCxkaXNwbGF5TmFtZTpjLnJlc291cmNlVGl0bGV8fHMucmVzb3VyY2VUaXRsZX0sKGZ1bmN0aW9uKG4sdCl7aWYobilyZXR1cm4gZS5hYm9ydCgpLHZvaWQgYS5icm9hZGNhc3QoXCJwYXltZW50LWVycm9yXCIse2Vycm9yQ29kZToxMDJ9KTtlLmNvbXBsZXRlTWVyY2hhbnRWYWxpZGF0aW9uKHQpfSkpfSxlLm9ucGF5bWVudGF1dGhvcml6ZWQ9ZnVuY3Rpb24odCl7bi50b2tlbml6ZSh7dG9rZW46dC5wYXltZW50LnRva2VufSwoZnVuY3Rpb24obixpKXtpZihuKXJldHVybiBhLmJyb2FkY2FzdChcInBheW1lbnQtZXJyb3JcIix7ZXJyb3JDb2RlOjEwM30pLHZvaWQgZS5jb21wbGV0ZVBheW1lbnQod2luZG93LkFwcGxlUGF5U2Vzc2lvbi5TVEFUVVNfRkFJTFVSRSk7dmFyIHM9e25vbmNlOmkubm9uY2V9O3J8fG8/Zih0LHMpOm0ocyl9KSl9LGUuYmVnaW4oKX0pKTt2YXIgZD1mdW5jdGlvbigpe3ZhciBlPXMuX19wcm90ZWN0ZWRfXy5pc0FwcGxlUGF5QWxsb3dlZCgpO2EuYnJvYWRjYXN0KFwiRVZFTlRfQVBQTEVfUEFZX0NBTl9NQUtFX1BBWU1FTlRTXCIse2Nhbk1ha2VQYXltZW50czplfSl9LHA9ZnVuY3Rpb24oZSl7ciYmKGUucmVxdWlyZWRTaGlwcGluZ0NvbnRhY3RGaWVsZHM9W1wiZW1haWxcIl0pLG8mJihlLnJlcXVpcmVkQmlsbGluZ0NvbnRhY3RGaWVsZHM9W1wicG9zdGFsQWRkcmVzc1wiXSl9LGY9ZnVuY3Rpb24oZSxuKXtlLnBheW1lbnQuc2hpcHBpbmdDb250YWN0JiYobi51c2VyPXtlbWFpbDplLnBheW1lbnQuc2hpcHBpbmdDb250YWN0LmVtYWlsQWRkcmVzc30pO3ZhciB0PWUucGF5bWVudC5iaWxsaW5nQ29udGFjdCxyPXtjb3VudHJ5Q29kZTp0LmNvdW50cnlDb2RlP3QuY291bnRyeUNvZGUudG9VcHBlckNhc2UoKTp0LmNvdW50cnlDb2RlLHppcENvZGU6dC5wb3N0YWxDb2RlLGJpbGxpbmdaaXBDb2RlOnQucG9zdGFsQ29kZSxub25jZTpufTthLmJyb2FkY2FzdChcImFwcGxlUGF5UGF5bWVudEF1dGhvcml6ZWRcIit1LHIpfSxtPWZ1bmN0aW9uKG4pe2UuY29tcGxldGVQYXltZW50KHdpbmRvdy5BcHBsZVBheVNlc3Npb24uU1RBVFVTX1NVQ0NFU1MpLGEuYnJvYWRjYXN0KFwiYXBwbGVQYXlOb25jZVwiK3Usbil9LGc9ZnVuY3Rpb24oZSl7aT1lLHYoKX0sdj1mdW5jdGlvbigpe3koKXx8dyhjLChmdW5jdGlvbigpe2goKX0pKX0saD1mdW5jdGlvbigpe2IoKXx8dyhsLChmdW5jdGlvbigpe3dpbmRvdy5icmFpbnRyZWUuY2xpZW50LmNyZWF0ZSh7YXV0aG9yaXphdGlvbjppfSkudGhlbigoZnVuY3Rpb24oZSl7d2luZG93LmJyYWludHJlZS5hcHBsZVBheS5jcmVhdGUoe2NsaWVudDplfSwoZnVuY3Rpb24oZSx0KXtlP2EuYnJvYWRjYXN0KFwicGF5bWVudC1lcnJvclwiLHtlcnJvckNvZGU6MTAxfSk6KG49dCxhLmJyb2FkY2FzdChcImFwcGxlUGF5SW5pdFwiLHt9KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIGEuYnJvYWRjYXN0KFwicGF5bWVudC1lcnJvclwiLHtlcnJvckNvZGU6MTAwfSksdm9pZCBzLmVycm9yKFwiW1RQXSBDbGllbnQgZXJyb3I6IFwiK2UubWVzc2FnZSl9KSl9KSl9LHc9ZnVuY3Rpb24oZSxuKXtzLmFkZFNjcmlwdChlLG4pfSx5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLG49MCx0PWUubGVuZ3RoO248dDtuKyspaWYoZVtuXS5zcmMuaW5kZXhPZihjKT4tMSlyZXR1cm4hMH0sYj1mdW5jdGlvbigpe2Zvcih2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxuPTAsdD1lLmxlbmd0aDtuPHQ7bisrKWlmKGVbbl0uc3JjLmluZGV4T2YobCk+LTEpcmV0dXJuITB9O3JldHVybntuYW1lOlwiYXBwbGVQYXlcIn19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiYXBwbGVQYXlcIix7dXNlVmFsdWU6Z259KSxwbi5hcHBsZVBheT1wbi5jb250YWluZXIucmVzb2x2ZShcImFwcGxlUGF5XCIpO3ZhciB2bj1mdW5jdGlvbigpe3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicG9zdG1lc3NhZ2VcIiksbj1wbi5jb250YWluZXIucmVzb2x2ZShcInV0aWxcIiksdD1cIlwiLHI9e2Vudmlyb25tZW50OlwiXCIsYmlsbGluZ1JlcXVlc3RGbG93SWQ6XCJcIn0sbz17Y3VzdG9tZXI6XCJcIixtYW5kYXRlOlwiXCIsYmFua19hY2NvdW50X2VuZGluZzpcIlwiLGJhbmtfYWNjb3VudF9ob2xkZXI6XCJcIixiYW5rX25hbWU6XCJcIixjdXJyZW5jeTpcIlwifSxpPSExLGE9XCJodHRwczovL3BheS5nb2NhcmRsZXNzLmNvbS9iaWxsaW5nL3N0YXRpYy9kcm9waW4vdjIvaW5pdGlhbGlzZS5qc1wiO2Uuc3Vic2NyaWJlKFwibG9hZGVkXCIsKGZ1bmN0aW9uKGUpe3Q9ZS5zZW5kZXIsaXx8XCJpbmxpbmVcIj09PWUuZGlzcGxheU1vZGV8fGMoYSwoZnVuY3Rpb24oKXtpPSEwfSkpfSkpLGUuc3Vic2NyaWJlKFwiTE9BRF9HT0NBUkRMRVNTX0RST1BJTlwiLChmdW5jdGlvbihuKXt0PW4uc2VuZGVyLGk/ZS5zZW5kKFwiR09DQVJETEVTU19EUk9QSU5fTE9BREVEXCIsbnVsbCx0KTpjKGEsKGZ1bmN0aW9uKCl7aT0hMCxlLnNlbmQoXCJHT0NBUkRMRVNTX0RST1BJTl9MT0FERURcIixudWxsLHQpfSkpfSkpLGUuc3Vic2NyaWJlKFwiR09DQVJETEVTU19EUk9QSU5fTUFOREFURV9DUkVBVElPTl9JTklUXCIsKGZ1bmN0aW9uKGUpe3I9ZS5wYXJhbXMsaSYmcygpfSkpO3ZhciBzPWZ1bmN0aW9uKCl7d2luZG93LkdvQ2FyZGxlc3NEcm9waW4uY3JlYXRlKHtiaWxsaW5nUmVxdWVzdEZsb3dJRDpyLmJpbGxpbmdSZXF1ZXN0Rmxvd0lkLGVudmlyb25tZW50OnIuZW52aXJvbm1lbnQsb25TdWNjZXNzOmZ1bmN0aW9uKG4pe3ZhciByPW4ubGlua3MsaT1yLmN1c3RvbWVyLGE9ci5tYW5kYXRlX3JlcXVlc3RfbWFuZGF0ZSxzPW4ucmVzb3VyY2VzLmN1c3RvbWVyX2JhbmtfYWNjb3VudCxjPXMuYWNjb3VudF9udW1iZXJfZW5kaW5nLGw9cy5hY2NvdW50X2hvbGRlcl9uYW1lLHU9cy5iYW5rX25hbWUsZD1uLm1hbmRhdGVfcmVxdWVzdC5jdXJyZW5jeTtvPXtjdXN0b21lcjppLG1hbmRhdGU6YSxiYW5rX2FjY291bnRfZW5kaW5nOmMsYmFua19hY2NvdW50X2hvbGRlcjpsLGJhbmtfbmFtZTp1LGN1cnJlbmN5OmR9LGUuc2VuZChcIkdPQ0FSRExFU1NfRFJPUElOX01BTkRBVEVfQ1JFQVRJT05fQ09NUExFVEVcIixvLHQpfSxvbkV4aXQ6ZnVuY3Rpb24obil7bj9lLnNlbmQoXCJwYXltZW50LWVycm9yXCIse21lc3NhZ2U6bn0sdCk6ZS5zZW5kKFwiR09DQVJETEVTU19EUk9QSU5fRU5BQkxFX1BMVUdJTlwiLG51bGwsdCl9fSkub3BlbigpfSxjPWZ1bmN0aW9uKGUsdCl7bi5hZGRTY3JpcHQoZSx0KX07cmV0dXJue25hbWU6XCJnb0NhcmRsZXNzRHJvcGluXCJ9fSgpO3BuLmNvbnRhaW5lci5yZWdpc3RlcihcImdvQ2FyZGxlc3NEcm9waW5cIix7dXNlVmFsdWU6dm59KSxwbi5nb0NhcmRsZXNzRHJvcGluPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiZ29DYXJkbGVzc0Ryb3BpblwiKTt2YXIgaG49ZnVuY3Rpb24oKXt2YXIgZSxuLHQscj1wbi5jb250YWluZXIucmVzb2x2ZShcInBvc3RtZXNzYWdlXCIpLG89cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpLGk9ITE7cmV0dXJue25hbWU6XCJhcHBsZVBheUludGVncmF0aW9uU2VydmljZVwiLGluaXRpYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe2k9by5fX3Byb3RlY3RlZF9fLmlzQXBwbGVQYXlBbGxvd2VkKCksci5icm9hZGNhc3QoXCJFVkVOVF9BUFBMRV9QQVlfQ0FOX01BS0VfUEFZTUVOVFNcIix7Y2FuTWFrZVBheW1lbnRzOml9KX07ci5zdWJzY3JpYmUoXCJwcm92aWRlci1jb21wb25lbnQtaW5pdGlhdGVkXCIsKGZ1bmN0aW9uKCl7aSYmci5icm9hZGNhc3QoXCJhcHBsZS1wYXktaW5pdFwiLHt9KX0pKSxyLnN1YnNjcmliZShcImluaXRQd0FwcGxlUGF5XCIsKGZ1bmN0aW9uKCl7YSgpfSkpLHIuc3Vic2NyaWJlKFwic3RhcnRDaGVja291dFwiLChmdW5jdGlvbigpe2EoKX0pKSxyLnN1YnNjcmliZShcInBheS1zZXNzaW9uLXJlY2VpdmVkXCIsKGZ1bmN0aW9uKGUpe3RyeXtuLmNvbXBsZXRlTWVyY2hhbnRWYWxpZGF0aW9uKGUucGFyYW1zLmFwcGxlUGF5U2Vzc2lvbil9Y2F0Y2goZSl7ci5icm9hZGNhc3QoXCJwYXltZW50LWVycm9yXCIse2Vycm9yQ29kZToxMTEsZXJyb3JzOmV9KX19KSksci5zdWJzY3JpYmUoXCJhcHBsZS1wYXktY29tcGxldGUtcGF5bWVudFwiLChmdW5jdGlvbihlKXt2YXIgcjsocj1lLnBhcmFtcy50ZXJtSWQsdCYmdCE9PXIpfHxuLmNvbXBsZXRlUGF5bWVudChlLnBhcmFtcy5zdGF0dXMsZS5wYXJhbXMuZXJyb3JzKX0pKSxyLnN1YnNjcmliZShcInN0YXJ0LXB1cmNoYXNlXCIsKGZ1bmN0aW9uKG8pe3Q9by5wYXJhbXMudGVybUlkfHxcIlwiLGU9by5wYXJhbXMucmVzb3VyY2VOYW1lLG49bmV3IHdpbmRvdy5BcHBsZVBheVNlc3Npb24oMyxmdW5jdGlvbihlKXtyZXR1cm57Y291bnRyeUNvZGU6ZS5wYXJhbXMuY291bnRyeUNvZGUsY3VycmVuY3lDb2RlOmUucGFyYW1zLmN1cnJlbmN5Q29kZSxzdXBwb3J0ZWROZXR3b3JrczpbXCJ2aXNhXCIsXCJtYXN0ZXJDYXJkXCIsXCJhbWV4XCIsXCJkaXNjb3ZlclwiXSxtZXJjaGFudENhcGFiaWxpdGllczpbXCJzdXBwb3J0czNEU1wiXSxyZXF1aXJlZFNoaXBwaW5nQ29udGFjdEZpZWxkczplLnBhcmFtcy5yZXF1aXJlZFNoaXBwaW5nQ29udGFjdEZpZWxkc3x8W10scmVxdWlyZWRCaWxsaW5nQ29udGFjdEZpZWxkczplLnBhcmFtcy5yZXF1aXJlZEJpbGxpbmdDb250YWN0RmllbGRzfHxbXSx0b3RhbDp7bGFiZWw6ZS5wYXJhbXMucmVzb3VyY2VOYW1lLGFtb3VudDplLnBhcmFtcy5jaGFyZ2VBbW91bnR9fX0obykpLG4ub252YWxpZGF0ZW1lcmNoYW50PWZ1bmN0aW9uKG4pe3ZhciBvLGk7bz1uLnZhbGlkYXRpb25VUkwsaT17dmFsaWRhdGlvblVybDpvLGRpc3BsYXllZENhcHRpb246ZSx1c2VyVG9rZW46bnVsbCx1c2VyUHJvdmlkZXI6bnVsbCx1c2VyUmVmOm51bGwsamFucmFpbkNhcHR1cmVUb2tlbjpudWxsLGRvbWFpbk5hbWU6d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLGFpZDpudWxsLHRlcm1JZDp0fSxyLmJyb2FkY2FzdChcImFwcGxlLXBheS1wYXktc2Vzc2lvbi1yZXF1ZXN0XCIsaSl9LG4ub25wYXltZW50YXV0aG9yaXplZD1mdW5jdGlvbihlKXt0cnl7ci5icm9hZGNhc3QoXCJhcHBsZS1wYXktcGF5bWVudC1hdXRob3JpemVkXCIse3BheW1lbnREYXRhOmUucGF5bWVudCx0ZXJtSWQ6dH0pfWNhdGNoKGUpe3IuYnJvYWRjYXN0KFwicGF5bWVudC1lcnJvclwiLHtlcnJvckNvZGU6MTEwLGVycm9yOmV9KX19O3RyeXtuLmJlZ2luKCl9Y2F0Y2goZSl7ci5icm9hZGNhc3QoXCJwYXltZW50LWVycm9yXCIse2Vycm9yQ29kZToxMTIsZXJyb3I6ZSx0ZXJtSWQ6dH0pfX0pKSxyLnN1YnNjcmliZShcImFib3J0LWFwcGxlLXBheS1zZXNzaW9uXCIsKGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKCl7dHJ5e24uYWJvcnQoKX1jYXRjaChlKXtvLmVycm9yKGUpfX0oKX0pKX0sX19wcm90ZWN0ZWRfXzp7YXBwbGVQYXlDYW5NYWtlUGF5bWVudHNXaXRoQWN0aXZlQ2FyZDpmdW5jdGlvbigpe3ZhciBlPXt0aGVuOmZ1bmN0aW9uKGUpe3JldHVybiBlKG51bGwpfSxjYXRjaDpmdW5jdGlvbigpe319O3JldHVybiBwbi5hcHBsZVBheU1lcmNoYW50SWQmJm8uX19wcm90ZWN0ZWRfXy5pc0FwcGxlUGF5QWxsb3dlZCgpJiZwbi5hcHBsZVBheU1lcmNoYW50SWQ/d2luZG93LkFwcGxlUGF5U2Vzc2lvbi5jYW5NYWtlUGF5bWVudHNXaXRoQWN0aXZlQ2FyZChwbi5hcHBsZVBheU1lcmNoYW50SWQpOmV9fX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiYXBwbGVQYXlJbnRlZ3JhdGlvblNlcnZpY2VcIix7dXNlVmFsdWU6aG59KSxwbi5hcHBsZVBheUludGVncmF0aW9uU2VydmljZT1wbi5jb250YWluZXIucmVzb2x2ZShcImFwcGxlUGF5SW50ZWdyYXRpb25TZXJ2aWNlXCIpO3ZhciB3bj1mdW5jdGlvbigpe3ZhciBlLG4sdD1wbi5jb250YWluZXIucmVzb2x2ZShcInBvc3RtZXNzYWdlXCIpLHI9cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpLG89cG4uY29udGFpbmVyLnJlc29sdmUoXCJhamF4XCIpLGk9XCJkYXRhdHJhbnMtYXBwbGVwYXktYnV0dG9uXCIsYT1udWxsLHM9bnVsbCxjPSExLGw9ZnVuY3Rpb24obil7ZT1uLnNlbmRlcixtKCkudGhlbihnKS50aGVuKHYpfSx1PWZ1bmN0aW9uKG4pe3ZhciByPW51bGw7bnx8KHI9e21lc3NhZ2U6bn0pLHQuc2VuZChcImRhdGF0cmFucy1hcHBsZXBheS1zZXJ2aWNlLWVycm9yXCIscixlKX0sZD1mdW5jdGlvbihlKXtuPWUucGFyYW1zLG0oKS50aGVuKGcpLnRoZW4ocCkuY2F0Y2goKGZ1bmN0aW9uKCl7dShcIkFwcGxlIFBheSBidXR0b24gaW5pdCBlcnJvclwiKX0pKX0scD1mdW5jdGlvbigpe1BheW1lbnRCdXR0b24uaW5pdChuLmFwcGxlUGF5Q29uZmlnKX0sZj1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkpO251bGwhPT1lJiZudWxsIT09ZS5maXJzdEVsZW1lbnRDaGlsZD9lLmZpcnN0RWxlbWVudENoaWxkLmNsaWNrKCk6dShcIkNvdWxkIG5vdCBwcm9jZXNzIHdpdGggQXBwbGUgUGF5LiBQbGVhc2UsIHRyeSBhZ2Fpbi5cIil9LG09ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXM/czpzPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtvLnJlcXVlc3Qoe3VybDp0cC5nZXRBcGlFbmRwb2ludCgpK1wiL2Fub24vZGF0YXRyYW5zL2FwcGxlcGF5L2NvbmZpZ1wiLGRhdGE6e2FpZDp0cC5haWR9LGRhdGFUeXBlOlwianNvbnBcIixqc29ucENhbGxiYWNrOlwianNvbnBDYWxsYmFja1wiLHN1Y2Nlc3M6ZnVuY3Rpb24obil7dmFyIHQ9bi5jb25maWc7ZSh0LnVybCl9fSl9KSl9LGc9ZnVuY3Rpb24oZSl7aWYobnVsbCE9PWEpcmV0dXJuIGE7dmFyIG49XCJkYXRhdHJhbnMtYXBwbGUtcGF5XCI7aWYoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3JldHVybiB0LnNyYz1lLHQuaWQ9bixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpLGE9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3Qub25sb2FkPWZ1bmN0aW9uKCl7ZShudWxsKX19KSl9fSx2PWZ1bmN0aW9uKCl7Y3x8KFBheW1lbnRCdXR0b24ub24oXCJpbml0XCIsaCksUGF5bWVudEJ1dHRvbi5vbihcImNyZWF0ZVwiLHcpLFBheW1lbnRCdXR0b24ub24oXCJ0b2tlblwiLHkpLFBheW1lbnRCdXR0b24ub24oXCJhYm9ydFwiLChmdW5jdGlvbigpe3UobnVsbCl9KSksUGF5bWVudEJ1dHRvbi5vbihcInVuc3VwcG9ydGVkXCIsKGZ1bmN0aW9uKCl7dShcIk5vIHBheW1lbnQgbWV0aG9kIGlzIHN1cHBvcnRlZFwiKX0pKSxQYXltZW50QnV0dG9uLm9uKFwiZXJyb3JcIiwoZnVuY3Rpb24oZSl7ZSYmKHIuZXJyb3IoXCJkYXRhdHJhbnNBcHBsZVBheUludGVncmF0aW9uU2VydmljZS4gYXBwbGUgcGF5IGJ1dHRvbiBlcnJvcjogXCIrZSksdShcIkNvdWxkIG5vdCBwcm9jZXNzIHdpdGggQXBwbGUgUGF5LiBQbGVhc2UsIHRyeSBhZ2Fpbi5cIikpfSkpLGM9ITApfSxoPWZ1bmN0aW9uKCl7dmFyIGU9YigpO1BheW1lbnRCdXR0b24uY3JlYXRlKGUsbi5wYXltZW50Q29uZmlnKS5jYXRjaCgoZnVuY3Rpb24oKXt1KFwiQXBwbGUgUGF5IGJ1dHRvbiBjcmVhdGUgZXJyb3JcIil9KSl9LHc9ZnVuY3Rpb24oKXtyLmxvZyhcImRhdGF0cmFuc0FwcGxlUGF5SW50ZWdyYXRpb25TZXJ2aWNlIHBheW1lbnRCdXR0b25PbkNyZWF0ZVwiKSx0LnNlbmQoXCJkYXRhdHJhbnMtYXBwbGVwYXktc2VydmljZS1yZWFkeVwiLG51bGwsZSl9LHk9ZnVuY3Rpb24obil7ci5sb2coXCJkYXRhdHJhbnNBcHBsZVBheUludGVncmF0aW9uU2VydmljZSBwYXltZW50QnV0dG9uT25Ub2tlblwiKSx0LnNlbmQoXCJkYXRhdHJhbnMtYXBwbGVwYXktc2VydmljZS10b2tlblwiLG4udG9rZW4uZGV0YWlscy50b2tlbixlKX0sYj1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkpO3JldHVybiBudWxsPT09ZSYmKChlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLnNldEF0dHJpYnV0ZShcImlkXCIsaSksZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSkpLGUuaW5uZXJIVE1MPVwiXCIsZX07cmV0dXJue25hbWU6XCJkYXRhdHJhbnNBcHBsZVBheUludGVncmF0aW9uU2VydmljZVwiLGluaXRpYWxpemU6ZnVuY3Rpb24oKXtyLl9fcHJvdGVjdGVkX18uaXNBcHBsZVBheUFsbG93ZWQoKSYmKHQuc3Vic2NyaWJlKFwiZGF0YXRyYW5zLWFwcGxlcGF5LWxvYWRlZFwiLGwpLHQuc3Vic2NyaWJlKFwiZGF0YXRyYW5zLWFwcGxlcGF5LWNoZWNrb3V0LWluaXRpYXRlLXB1cmNoYXNlXCIsZCksdC5zdWJzY3JpYmUoXCJkYXRhdHJhbnMtYXBwbGVwYXktbWFrZS1wdXJjaGFzZVwiLGYpKX19fSgpO3BuLmNvbnRhaW5lci5yZWdpc3RlcihcImRhdGF0cmFuc0FwcGxlUGF5SW50ZWdyYXRpb25TZXJ2aWNlXCIse3VzZVZhbHVlOndufSkscG4uZGF0YXRyYW5zQXBwbGVQYXlJbnRlZ3JhdGlvblNlcnZpY2U9cG4uY29udGFpbmVyLnJlc29sdmUoXCJkYXRhdHJhbnNBcHBsZVBheUludGVncmF0aW9uU2VydmljZVwiKTt2YXIgeW49ZnVuY3Rpb24oKXt2YXIgZSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicG9zdG1lc3NhZ2VcIiksdD1wbi5jb250YWluZXIucmVzb2x2ZShcInV0aWxcIikscj1udWxsLG89bnVsbCxpPSExLGE9XCJcIjtuLnN1YnNjcmliZShcInN0cmlwZS1hcHBsZXBheS1pbml0aWFsaXplZFwiLChmdW5jdGlvbigpe3MoKX0pKSxuLnN1YnNjcmliZShcInN0cmlwZS1hcHBsZXBheS1pbml0aWF0ZS1wdXJjaGFzZVwiLChmdW5jdGlvbihlKXtzKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgbj1lLnBhcmFtcy5hcGlLZXk7bnVsbD09PXImJihyPXdpbmRvdy5TdHJpcGUobikpO3ZhciB0PWUucGFyYW1zLnBheW1lbnRSZXF1ZXN0UGF5bG9hZDtyZXR1cm4gci5wYXltZW50UmVxdWVzdCh0KX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gbz1lLGUuY2FuTWFrZVBheW1lbnQoKX0pKS50aGVuKChmdW5jdGlvbihlKXtpPWUmJmUuYXBwbGVQYXksbi5icm9hZGNhc3QoXCJzdHJpcGUtYXBwbGVwYXktaW5pdGlhdGUtcHVyY2hhc2UtY29tcGxldGVcIix7Y2FuTWFrZVBheW1lbnQ6aX0pLGkmJihvLm9uKFwiY2FuY2VsXCIsKGZ1bmN0aW9uKCl7bi5icm9hZGNhc3QoXCJzdHJpcGUtYXBwbGVwYXktc3RhcnQtcHVyY2hhc2UtY29tcGxldGVcIithLHtzdGF0dXM6XCJmYWlsXCJ9KX0pKSxvLm9uKFwicGF5bWVudG1ldGhvZFwiLChmdW5jdGlvbihlKXt2YXIgdD1lLnBheW1lbnRNZXRob2QuYmlsbGluZ19kZXRhaWxzLmFkZHJlc3Mscj17Y291bnRyeUNvZGU6dC5jb3VudHJ5LHppcENvZGU6dC5wb3N0YWxfY29kZSxiaWxsaW5nWmlwQ29kZTp0LnBvc3RhbF9jb2RlfSxvPWUucGF5bWVudE1ldGhvZC5pZDtuLmJyb2FkY2FzdChcInN0cmlwZS1hcHBsZXBheS1zdGFydC1wdXJjaGFzZS1jb21wbGV0ZVwiK2Ese3N0YXR1czpcInN1Y2Nlc3NcIixwYXltZW50TWV0aG9kSWQ6byxwYXllckVtYWlsOmUucGF5ZXJFbWFpbCxiaWxsaW5nQWRkcmVzczpyfSksZS5jb21wbGV0ZShcInN1Y2Nlc3NcIil9KSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmVycm9yKGUpLG4uYnJvYWRjYXN0KFwic3RyaXBlLWFwcGxlcGF5LWluaXRpYXRlLXB1cmNoYXNlLWNvbXBsZXRlXCIse2Nhbk1ha2VQYXltZW50OiExfSl9KSl9KSksbi5zdWJzY3JpYmUoXCJzdHJpcGUtYXBwbGVwYXktc3RhcnQtcHVyY2hhc2VcIiwoZnVuY3Rpb24oZSl7YT1lLnBhcmFtcy50ZXJtSWR8fFwiXCI7dmFyIG49ZS5wYXJhbXMucGF5bWVudFJlcXVlc3RQYXlsb2FkO28udXBkYXRlKG4pLG8uc2hvdygpfSkpLG4uc3Vic2NyaWJlKFwic3RyaXBlLWFwcGxlcGF5LWFib3J0LXJlcXVlc3RcIiwoZnVuY3Rpb24oKXtvJiZvLmFib3J0KCksbi5icm9hZGNhc3QoXCJzdHJpcGUtYXBwbGVwYXktcmVvcGVuLXJlcXVlc3RcIil9KSk7dmFyIHM9ZnVuY3Rpb24oKXtpZihudWxsIT1lKXJldHVybiBlO2lmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0cmlwZS5qc1wiKSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtyZXR1cm4gbi5zcmM9XCJodHRwczovL2pzLnN0cmlwZS5jb20vdjMvXCIsbi5pZD1cInN0cmlwZS5qc1wiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobiksZT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7bi5vbmxvYWQ9ZnVuY3Rpb24oKXtlKG51bGwpfX0pKX19O3JldHVybntuYW1lOlwic3RyaXBlQXBwbGVQYXlJbnRlZ3JhdGlvblNlcnZpY2VcIn19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwic3RyaXBlQXBwbGVQYXlJbnRlZ3JhdGlvblNlcnZpY2VcIix7dXNlVmFsdWU6eW59KSxwbi5zdHJpcGVBcHBsZVBheUludGVncmF0aW9uU2VydmljZT1wbi5jb250YWluZXIucmVzb2x2ZShcInN0cmlwZUFwcGxlUGF5SW50ZWdyYXRpb25TZXJ2aWNlXCIpO3ZhciBibj1mdW5jdGlvbigpe3ZhciBlPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicG9zdG1lc3NhZ2VcIiksbj1wbi5jb250YWluZXIucmVzb2x2ZShcInV0aWxcIik7ZS5zdWJzY3JpYmUoXCJvYmktaGFuZGxlLTNkcy1jaGFsbGVuZ2VcIiwoZnVuY3Rpb24oZSl7dmFyIHI9ZS5wYXJhbXM7aWYod2luZG93Lm9iaWNrKXQocik7ZWxzZXtpZigtMT09PVtcImh0dHBzOi8vanNsLnFhdC5vYmkuYW9sLmNvbS9vYmlwbXNlcnZpY2Uvb2JpY2sudW1kLmpzXCIsXCJodHRwczovL2pzbC5wcm9kLm9iaS5hb2wuY29tL29iaXBtc2VydmljZS9vYmljay51bWQuanNcIl0uaW5kZXhPZihyLm9iaWNrVXJsKSlyZXR1cm4gdm9pZCBuLmVycm9yKFwiVW50cnVzdGVkIG9iaWNrVXJsIGRldGVjdGVkOiBcIityLm9iaWNrVXJsKTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO28uc3JjPXIub2JpY2tVcmwsby5pZD1cIm9iaWNrLmpzXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvKSxvLm9ubG9hZD1mdW5jdGlvbigpe24ubG9nKG8uaWQrXCIgb25sb2FkXCIpLHQocil9fX0pKTt2YXIgdD1mdW5jdGlvbih0KXtpZih0LnN0ZXBVcFVybCYmMCE9PXQuc3RlcFVwVXJsLmluZGV4T2YoXCJodHRwXCIpKW4uZXJyb3IoXCJUaGVyZSBpcyBubyBsaW5rIGluIHBhcmFtcy5zdGVwVXBVcmwgZm9yIE9CSVwiKTtlbHNle3ZhciByPXtzdGVwVXBVcmw6dC5zdGVwVXBVcmwsand0OnQuand0LHRyYW5zYWN0aW9uSWQ6dC50cmFuc2FjdGlvbklkLHpJbmRleDp0LnpJbmRleH07d2luZG93Lm9iaWNrLmhhbmRsZTNkc0NoYWxsZW5nZShyKS50aGVuKChmdW5jdGlvbih0KXtuLmRlYnVnKHQpLGUuYnJvYWRjYXN0KFwib2JpLTNkcy1jaGFsbGVuZ2UtY29tcGxldGVcIix7dGhyZWVEU1RyYW5zYWN0aW9uSWQ6dC50aHJlZURTVHJhbnNhY3Rpb25JZCxjaGFsbGVuZ2VTdGF0dXM6dC5jaGFsbGVuZ2VTdGF0dXN9KX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7bi5lcnJvcih0KSxlLmJyb2FkY2FzdChcIm9iaS0zZHMtY2hhbGxlbmdlLWNvbXBsZXRlXCIse2Vycm9yOlwiY2hhbGxlbmdlLWVycm9yXCIscGF5bG9hZDp0fSl9KSl9fTtyZXR1cm57bmFtZTpcIm9iaTNEU0NoYWxsZW5nZVwifX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJvYmkzRFNDaGFsbGVuZ2VcIix7dXNlVmFsdWU6Ym59KSxwbi5vYmkzRFNDaGFsbGVuZ2U9cG4uY29udGFpbmVyLnJlc29sdmUoXCJvYmkzRFNDaGFsbGVuZ2VcIik7dmFyIGtuPWZ1bmN0aW9uKCl7dmFyIGU9cG4uY29udGFpbmVyLnJlc29sdmUoXCJqcVV0aWxzXCIpLG49cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpLHQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJhcGlcIikscj1wbi5jb250YWluZXIucmVzb2x2ZShcInVzZXJcIiksbz1wbi5jb250YWluZXIucmVzb2x2ZShcInBpYW5vSWRcIiksaT17ZGlzcGxheU1vZGU6XCJpbmxpbmVcIixjb250YWluZXJTZWxlY3RvcjpcImJvZHlcIixsb2dpblN1Y2Nlc3M6ZH0sYT1cInJlYWRlcl9pZFwiLHM9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIitwbi5haWQrXCIvZXhlY3V0aW9uL2FtcFwifSxjPWZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLmhyZWY9bi5nZXRRdWVyeVBhcmFtQnlOYW1lKFwicmV0dXJuXCIpK1wiI3N1Y2Nlc3M9dHJ1ZVwifTt2YXIgbD1mdW5jdGlvbihlKXtyZXR1cm4vXlxcdyskL2kudGVzdChlKX0sdT1mdW5jdGlvbihlKXt2YXIgcj17fTtpZihyLnJlYWRlcl9pZD1uLmdldFF1ZXJ5UGFyYW1CeU5hbWUoYSksci5yZWFkZXJfaWQpe3ZhciBvPXBuLmdldEV4cGVyaWVuY2VFbmRwb2ludCghMSk7dC5jYWxsQXBpKHMoKStcIi9sb2dvdXRcIixyLGUsbywhMSwhMCl9ZWxzZSBuLmxvZyhcInJlYWRlcl9pZCBjYW5ub3QgYmUgZW1wdHlcIil9O2Z1bmN0aW9uIGQoZSxyKXt2YXIgbz1lfHx7fTtpZihvLnJlYWRlcl9pZHx8KG8ucmVhZGVyX2lkPW4uZ2V0UXVlcnlQYXJhbUJ5TmFtZShhKSksby5yZWFkZXJfaWQpe3ZhciBpPXBuLmdldEV4cGVyaWVuY2VFbmRwb2ludCghMSk7dC5jYWxsQXBpKHMoKStcIi9sb2dpblwiLG8scixpLCExLCEwKX1lbHNlIG4ubG9nKFwicmVhZGVyX2lkIGNhbm5vdCBiZSBlbXB0eVwiKX1yZXR1cm57bmFtZTpcImFtcFwiLHNob3dMb2dpbjpmdW5jdGlvbih0KXt0PXR8fHt9O3ZhciBhPXIuZ2V0UHJvdmlkZXIoKTtpZihhLmdldE5hbWUoKT09PW8uZ2V0TmFtZSgpKXt2YXIgcztzPXQubG9naW5TdWNjZXNzJiZlLmlzRnVuY3Rpb24odC5sb2dpblN1Y2Nlc3MpP3QubG9naW5TdWNjZXNzOmM7dmFyIGw9ZnVuY3Rpb24oKXtkKHt9LHMpfSx1PU9iamVjdC5hc3NpZ24oe30saSx0KTtyLmlzVXNlclZhbGlkKCk/bCgpOih1LmxvZ2luU3VjY2Vzcz1sLG8uc2hvdyh1KSl9ZWxzZSBuLmxvZyhcIkN1cnJlbnQgdXNlciBwcm92aWRlclwiK2EubmFtZStcIiBpcyBub3QgYWxsb3dlZCBmb3IgYW1wXCIpfSxsb2dvdXQ6ZnVuY3Rpb24obil7bj1lLmlzRnVuY3Rpb24obik/bjpjLHIuZ2V0UHJvdmlkZXIoKS5nZXROYW1lKCk9PT1vLmdldE5hbWUoKT9vLmxvZ291dCgoZnVuY3Rpb24oKXt1KG4pfSkpOnUobil9LGxvZ2luOmZ1bmN0aW9uKHQpe3ZhciBpPXIuZ2V0UHJvdmlkZXIoKS5nZXROYW1lKCk7aT09PW8uZ2V0TmFtZSgpJiYodD10P2UuZGVlcEV4dGVuZCh7fSx0LHt1c2VyUHJvdmlkZXI6aX0pOnt1c2VyUHJvdmlkZXI6aX0pO3ZhciBhPXt1c2VyX3RyYW5zaWVudDohMCx1c2VyX3Byb3ZpZGVyOlwicHVibGlzaGVyX3VzZXJcIn07aWYodCYmdC5yZWFkZXJJZCYmKGEucmVhZGVyX2lkPXQucmVhZGVySWQpLHQmJnQudXNlclRva2VuJiYoYS51c2VyX3Rva2VuPXQudXNlclRva2VuKSx0JiZ0LnVzZXJQcm92aWRlciYmKGEudXNlcl9wcm92aWRlcj10LnVzZXJQcm92aWRlcixhLnVzZXJfdHJhbnNpZW50PSExKSwhZnVuY3Rpb24odCl7aWYodCYmdC51c2VyU3RhdGUmJmUuaXNQbGFpbk9iamVjdCh0LnVzZXJTdGF0ZSkpe3ZhciByPU9iamVjdC5rZXlzKHQudXNlclN0YXRlKTtpZihyLmZpbHRlcihsKS5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4gbi5lcnJvcihcInVzZXJfc3RhdGUgYWNjZXB0IG9ubHkgY29udGFpbiBsZXR0ZXJzLCBudW1iZXJzIGFuZCB1bmRlcnNjb3JlXCIpLCExfXJldHVybiEwfSh0KSlyZXR1cm4hMTt0JiZ0LnVzZXJTdGF0ZSYmKGEudXNlcl9zdGF0ZT1KU09OLnN0cmluZ2lmeSh0LnVzZXJTdGF0ZSkpO2QoYSwoZnVuY3Rpb24obil7MD09PW4uY29kZT90LmxvZ2luU3VjY2VzcyYmZS5pc0Z1bmN0aW9uKHQubG9naW5TdWNjZXNzKSYmdC5sb2dpblN1Y2Nlc3MoKTp0LmxvZ2luRmFpbCYmZS5pc0Z1bmN0aW9uKHQubG9naW5GYWlsKSYmdC5sb2dpbkZhaWwoKX0pKX19fSgpO3BuLmNvbnRhaW5lci5yZWdpc3RlcihcImFtcFwiLHt1c2VWYWx1ZTprbn0pLHBuLmFtcD1wbi5jb250YWluZXIucmVzb2x2ZShcImFtcFwiKTt2YXIgX249ZnVuY3Rpb24oKXt2YXIgZSxuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicG9zdG1lc3NhZ2VcIiksdD1be3Jlc291cmNlUmVnRXhwOm5ldyBSZWdFeHAoXCIvY2hlY2tvdXQvb2ZmZXIvc2hvd1wiKSxsYWJlbDpcInNob3dPZmZlclwifSx7cmVzb3VyY2VSZWdFeHA6bmV3IFJlZ0V4cChcInRpbnlwYXNzLm1pbi5qcyRcIiksbGFiZWw6XCJ0aW55cGFzc01pbkpTXCJ9LHtyZXNvdXJjZVJlZ0V4cDpuZXcgUmVnRXhwKFwiL3hidWlsZGVyL2V4cGVyaWVuY2UvZXhlY3V0ZVwiKSxsYWJlbDpcImV4cGVyaWVuY2VFeGVjdXRlXCJ9XSxyPSExLG89W107ZnVuY3Rpb24gaShlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtpZighZnVuY3Rpb24oZSl7cmV0dXJuIHQuc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIGUubmFtZS5tYXRjaChuLnJlc291cmNlUmVnRXhwKX0pKX0oZSkpcmV0dXJuOyFmdW5jdGlvbihlKXtpZighYSgpKXJldHVybiB2b2lkIG8ucHVzaChlKTtvLnB1c2goZSkscygpfShlKX0oZSl9KSl9ZnVuY3Rpb24gYSgpe3JldHVybiByJiZlfWZ1bmN0aW9uIHMoKXthKCkmJihvLmZvckVhY2goKGZ1bmN0aW9uKHQpe24uc2VuZChcIkVWRU5UX1RQX1BFUkZPUk1BTkNFX0RBVEFcIix7ZW50cnk6dH0sZSl9KSksbz1bXSl9cmV0dXJuIGZ1bmN0aW9uKCl7aWYod2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cuUGVyZm9ybWFuY2VPYnNlcnZlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgcGVyZm9ybWFuY2UuZ2V0RW50cmllcyl7dmFyIHQ9d2luZG93LlBlcmZvcm1hbmNlT2JzZXJ2ZXIucHJvdG90eXBlLm9ic2VydmU7d2luZG93LlBlcmZvcm1hbmNlT2JzZXJ2ZXIucHJvdG90eXBlLm9ic2VydmU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbl07dHJ5e3QuYXBwbHkodGhpcyxlKX1jYXRjaChlKXt9fSxuLnN1YnNjcmliZShcIkVWRU5UX0xPR0dFUl9SRUFEWVwiLChmdW5jdGlvbihuKXtlPW4uc2VuZGVyLHI9ITAscygpfSkpLGkocGVyZm9ybWFuY2UuZ2V0RW50cmllcygpKSxuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcigoZnVuY3Rpb24oZSl7aShlLmdldEVudHJpZXMoKSl9KSkub2JzZXJ2ZSh7ZW50cnlUeXBlczpbXCJtZWFzdXJlXCIsXCJyZXNvdXJjZVwiXX0pfX0oKSx7bmFtZTpcInBlcmZvcm1hbmNlTWV0cmljc1wifX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJwZXJmb3JtYW5jZU1ldHJpY3NcIix7dXNlVmFsdWU6X259KSxwbi5wZXJmb3JtYW5jZU1ldHJpY3M9cG4uY29udGFpbmVyLnJlc29sdmUoXCJwZXJmb3JtYW5jZU1ldHJpY3NcIik7dmFyIENuPWZ1bmN0aW9uKCl7dmFyIGU9cG4uY29udGFpbmVyLnJlc29sdmUoXCJhcGlcIiksbj1wbi5jb250YWluZXIucmVzb2x2ZShcInBpYW5vSWRcIik7cmV0dXJue25hbWU6XCJkb3VibGVPcHRJblwiLGNoZWNrOmZ1bmN0aW9uKCl7cG4udXNlci5pc1VzZXJWYWxpZCgpJiZuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7ZS5jYWxsQXBpKFwiL2VtYWlsL2NvbmZpcm1hdGlvbi9jaGVja1wiLHt9LChmdW5jdGlvbihlKXtuKGUpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe2UmJiExPT09ZS5kYXRhJiZuLnNob3dFbWFpbENvbmZpcm1hdGlvblJlcXVpcmVkKCl9KSl9fX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJkb3VibGVPcHRJblwiLHt1c2VWYWx1ZTpDbn0pLHBuLmRvdWJsZU9wdEluPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiZG91YmxlT3B0SW5cIik7dmFyIEluPWZ1bmN0aW9uKCl7dmFyIGU9cG4uY29udGFpbmVyLnJlc29sdmUoXCJhcGlcIiksbj1wbi5jb250YWluZXIucmVzb2x2ZShcInBvc3RtZXNzYWdlXCIpLHQ9cG4uY29udGFpbmVyLnJlc29sdmUoXCJ1dGlsXCIpLHI9dC5kZWJvdW5jZSgoZnVuY3Rpb24oKXtuZXcgUHJvbWlzZSgoZnVuY3Rpb24obix0KXt2YXIgcj17YWlkOnBuLmFpZH07ZS5jYWxsQXBpKG8sciwoZnVuY3Rpb24oZSl7ZSYmZS5kYXRhJiZuKGUuZGF0YSksdChlLm1lc3NhZ2UpfSkpfSkpLnRoZW4oaSxhKX0pLDE1MDApLG89XCIvZXh0ZXJuYWxWZXJpZmljYXRpb24vc3luY2hyb25pemVTdWJzY3JpcHRpb25zXCIsaT1mdW5jdGlvbihlKXtuLmJyb2FkY2FzdChcIk5FV1NDWUNMRV9IQVNfQkVFTl9TWU5DSFJPTklaRURfU1VDQ0VTU1wiLHtkYXRhOmV9KX0sYT1mdW5jdGlvbihlKXt0LmVycm9yKFwibmV3c2N5Y2xlIG1vZHVsZTogc3luYyByZXF1ZXN0IGZhaWxlZCB3aXRoIGVycm9yOiBcIitlKX07cmV0dXJue25hbWU6XCJuZXdzY3ljbGVcIixzeW5jU3Vic2NyaXB0aW9uczpyfX0oKTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJuZXdzY3ljbGVcIix7dXNlVmFsdWU6SW59KSxwbi5uZXdzY3ljbGU9cG4uY29udGFpbmVyLnJlc29sdmUoXCJuZXdzY3ljbGVcIik7dmFyIFNuPWZ1bmN0aW9uKCl7dmFyIGU9cG4uY29udGFpbmVyLnJlc29sdmUoXCJhamF4XCIpLG49cG4uY29udGFpbmVyLnJlc29sdmUoXCJwb3N0bWVzc2FnZVwiKSx0PXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidXRpbFwiKSxyPXtlbmFibGVkOiExLGNhcHRjaGEzX3NpdGVfa2V5OlwiXCIsYWlkOlwiXCJ9LG89ZnVuY3Rpb24obil7ZS5yZXF1ZXN0KHt1cmw6dHAuZ2V0QXBpRW5kcG9pbnQoKStcIi9hbm9uL2NhcHRjaGEvZ2V0LmpzXCIsZGF0YTp7YWlkOnRwLmFpZH0sZGF0YVR5cGU6XCJqc29ucFwiLGpzb25wQ2FsbGJhY2s6XCJqc29ucENhbGxiYWNrXCIsY2FjaGU6ITAsc3VjY2VzczpmdW5jdGlvbihlKXshZnVuY3Rpb24oZSxuKXtlLmNvbmZpZyYmZS5jb25maWcuZW5hYmxlZD8ocj1lLmNvbmZpZyxuJiZuKCkpOmUubWVzc2FnZSYmdC5lcnJvcihlLm1lc3NhZ2UpfShlLG4pfX0pfTtmdW5jdGlvbiBpKCl7d2luZG93LmdyZWNhcHRjaGEucmVhZHkoYSksYygpfXZhciBhPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmlkPVwidHAtcmVjYXB0Y2hhXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKSx3aW5kb3cuZ3JlY2FwdGNoYS5yZW5kZXIoXCJ0cC1yZWNhcHRjaGFcIix7c2l0ZWtleTpyLmNhcHRjaGEzX3NpdGVfa2V5LHNpemU6XCJpbnZpc2libGVcIixcImVycm9yLWNhbGxiYWNrXCI6ZnVuY3Rpb24oKXtlLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9fSl9LHM9ZnVuY3Rpb24oKXt3aW5kb3cub25DYXB0Y2hhVjNMb2FkPWk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtlLnNyYz1cImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS5qcz9vbmxvYWQ9b25DYXB0Y2hhVjNMb2FkJnJlbmRlcj1leHBsaWNpdFwiLGUudHlwZT1cInRleHQvamF2YXNjcmlwdFwiLGUuYXN5bmM9ITAsZS5kZWZlcj0hMCxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGUpfSxjPWZ1bmN0aW9uKCl7bi5zdWJzY3JpYmUoXCJnZXQtY2FwdGNoYS12My1lbmFibGVkXCIsKGZ1bmN0aW9uKCl7bCgpfSkpLG4uc3Vic2NyaWJlKFwiZ2V0LWNhcHRjaGEtdjMtdG9rZW5cIiwoZnVuY3Rpb24oZSl7d2luZG93LmdyZWNhcHRjaGEucmVhZHkoKGZ1bmN0aW9uKCl7cmV0dXJuIHUoZS5wYXJhbXMuYWN0aW9uKX0pKX0pKX0sbD1mdW5jdGlvbigpe24uYnJvYWRjYXN0KFwiY2FwdGNoYS12My1lbmFibGVkLXZhbHVlXCIse2lzRW5hYmxlZDpyLmVuYWJsZWR9KX0sdT1mdW5jdGlvbihlKXt3aW5kb3cuZ3JlY2FwdGNoYS5leGVjdXRlKHthY3Rpb246ZX0pLnRoZW4oKGZ1bmN0aW9uKGUpe24uYnJvYWRjYXN0KFwiY2FwdGNoYS12My10b2tlblwiLHt0b2tlbjplfSl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7bi5icm9hZGNhc3QoXCJjYXB0Y2hhLXYzLXRva2VuXCIse3Rva2VuOlwiXCJ9KX0pKX07cmV0dXJue25hbWU6XCJjYXB0Y2hhVjNcIixhZGRDYXB0Y2hhVjM6ZnVuY3Rpb24oKXtvKHMpfX19KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwiY2FwdGNoYVYzXCIse3VzZVZhbHVlOlNufSkscG4uY2FwdGNoYVYzPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwiY2FwdGNoYVYzXCIpO3ZhciB4bj1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT1wbi5jb250YWluZXIpO3ZhciBuPWUucmVzb2x2ZShcImxvZ1wiKSx0PWUucmVzb2x2ZShcInBvc3RtZXNzYWdlXCIpLHI9ZS5yZXNvbHZlKFwiYXBpXCIpLG89ZS5yZXNvbHZlKFwidXRpbFwiKSxpPWUucmVzb2x2ZShcInZlcnNpb25TZXJ2aWNlXCIpLGE9XCJFVkVOVF9UUF9FUlJPUl9IQU5ETEVSXCIscz1cInNka1wiLGM9W10sbD0hMCx1PWZ1bmN0aW9uKGUpe2lmKGgoKSYmIWcoYyxlKSl7ZS50YWdzfHwoZS50YWdzPVtcInVua25vd25cIl0pLGUuYWlkPXBuLmFpZCxlLnY9aS5nZXRUaW55cGFzc1ZlcnNpb24oKTt2YXIgbj17ZGV0YWlsczplfTtjLnB1c2gobil9fTt2YXIgZD1mdW5jdGlvbihlKXt2YXIgbj1lLnBhcmFtcztBcnJheS5pc0FycmF5KG4pJiZuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3UoZSl9KSl9O2Z1bmN0aW9uIHAoZSl7dmFyIG4sdDtpZihlLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwic2NyaXB0IGVycm9yXCIpPi0xKXUoe21lc3NhZ2U6XCJQcm9iYWJseSB0aGF0IGlzIFBpYW5vIGVycm9yLlwiLHVybDp3aW5kb3cubG9jYXRpb24uaHJlZix0YWdzOltzXX0pO2Vsc2V7dmFyIHI9bnVsbD09ZT92b2lkIDA6ZS5lcnJvcjtpZih2KG51bGw9PXI/dm9pZCAwOnIuc3RhY2spKXJldHVybiExO3Uoe3N0YWNrOm51bGwhPT0obj1udWxsPT1yP3ZvaWQgMDpyLnN0YWNrKSYmdm9pZCAwIT09bj9uOlwibi9hXCIsbWVzc2FnZTpudWxsIT09KHQ9bnVsbD09cj92b2lkIDA6ci5tZXNzYWdlKSYmdm9pZCAwIT09dD90Olwibi9hXCIsdXNlckFnZW50Om5hdmlnYXRvci51c2VyQWdlbnQsdGFnczpbc119KX1yZXR1cm4hMX12YXIgZj1mdW5jdGlvbigpe3NldEludGVydmFsKChmdW5jdGlvbigpe20oKSxsPSExfSksMTVlMyl9LG09ZnVuY3Rpb24oKXt2YXIgZT1jLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWUuc2VuZH0pKTtpZigwIT09ZS5sZW5ndGgpe3ZhciB0PWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXRhaWxzfSkpLG89e3R5cGU6XCJjb25zb2xlLWVycm9yLW1lc3NhZ2VcIixzcmNUeXBlOlwidHNcIixsb2dfbWVzc2FnZTpKU09OLnN0cmluZ2lmeSh0KX07bi5sb2dCZWFjb25SZXF1ZXN0KHIuZ2V0RW5kcG9pbnQoKStcIi9hbm9uL2Vycm9yL2xvZ1wiLG8pLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2VuZD0hMH0pKX19LGc9ZnVuY3Rpb24oZSxuKXt2YXIgdD1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUuZGV0YWlscyl9KSkscj1KU09OLnN0cmluZ2lmeShuKTtyZXR1cm4tMSE9PXQuaW5kZXhPZihyKX0sdj1mdW5jdGlvbihlKXtyZXR1cm4tMT09PShudWxsPT1lP3ZvaWQgMDplLmluZGV4T2YoXCJ0aW55cGFzc1wiKSl9LGg9ZnVuY3Rpb24oKXtyZXR1cm4hIW8uX19wcm90ZWN0ZWRfXy5nZXRMb2NhbFN0b3JhZ2VJdGVtKFwidGlueXBhc3NFcnJvckhhbmRsZXJUZXN0TW9kZVwiKXx8MD09PXcoMCwxZTMpfSx3PWZ1bmN0aW9uKGUsbil7dmFyIHQ9ZS0uNStNYXRoLnJhbmRvbSgpKihuLWUrMSk7cmV0dXJuIE1hdGgucm91bmQodCl9LHk9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9W10pLG4/ZS5jb25jYXQobik6ZX07cmV0dXJue25hbWU6XCJ0aW55cGFzc0Vycm9ySGFuZGxlclwiLGFkZEVycm9yOmZ1bmN0aW9uKGUsbil7dHJ5e3ZhciB0PXtwbGFjZTpuLHRhZ3M6W3NdfTtlIGluc3RhbmNlb2YgRXJyb3I/KHQuc3RhY2s9ZS5zdGFjayx0Lm1lc3NhZ2U9ZS5tZXNzYWdlKTp0LnN0YWNrPUpTT04uc3RyaW5naWZ5KGUpLGwmJih0LnRhZ3M9eSh0LnRhZ3MsXCJpbml0RXJyb3JcIikpLHUodCl9Y2F0Y2goZSl7fX0saW5pdGlhbGl6ZTpmdW5jdGlvbigpe3RyeXtwbi5pc1NhbmRib3goKXx8KHQuc3Vic2NyaWJlKGEsZCksbnVsbD09PShlPXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHdpbmRvdyxcImVycm9yXCIscCksZigpKX1jYXRjaChlKXtjb25zb2xlLndhcm4oXCJDYW5ub3Qgc3RhcnQgd2F0Y2hpbmcgZXJyb3JzXCIsZSl9dmFyIGV9fX07cG4uY29udGFpbmVyLnJlZ2lzdGVyKFwidGlueXBhc3NFcnJvckhhbmRsZXJcIix7dXNlVmFsdWU6eG4oKX0pLHBuLnRpbnlwYXNzRXJyb3JIYW5kbGVyPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidGlueXBhc3NFcnJvckhhbmRsZXJcIik7dmFyIFBuPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXBuLmNvbnRhaW5lcik7dmFyIG49ZS5yZXNvbHZlKFwiYXBpXCIpLHQ9ZS5yZXNvbHZlKFwiY29va2llXCIpLHI9ZS5yZXNvbHZlKFwibG9nXCIpLG89ZS5yZXNvbHZlKFwianFVdGlsc1wiKSxpPWUucmVzb2x2ZShcInV0aWxcIiksYT1lLnJlc29sdmUoXCJsb2dnaW5nXCIpLHM9ZS5yZXNvbHZlKFwiZmluZ2VycHJpbnRcIiksYz1lLnJlc29sdmUoXCJ1c2VyXCIpLGw9ZS5yZXNvbHZlKFwic2hhMVwiKSx1PWUucmVzb2x2ZShcImFjdGl2ZXRpbWVyXCIpLGQ9ZS5yZXNvbHZlKFwic2Nyb2xsRGVwdGhcIikscD1lLnJlc29sdmUoXCJkb3VibGVDbGlja0ZvclB1Ymxpc2hlclwiKSxmPWUucmVzb2x2ZShcIm9mZmVyXCIpLG09ZS5yZXNvbHZlKFwidmlld3BvcnRFeGl0XCIpLGc9ZS5yZXNvbHZlKFwiaWRsZVwiKSx2PWUucmVzb2x2ZShcImV4cGVyaWVuY2VcIiksaD1lLnJlc29sdmUoXCJwaWFub0lkXCIpLHc9ZS5yZXNvbHZlKFwicGlhbm9Fc3BcIikseT1lLnJlc29sdmUoXCJhcHBsZVBheUludGVncmF0aW9uU2VydmljZVwiKSxiPWUucmVzb2x2ZShcImRhdGF0cmFuc0FwcGxlUGF5SW50ZWdyYXRpb25TZXJ2aWNlXCIpLGs9ZS5yZXNvbHZlKFwiY3hlbnNlXCIpO2UucmVzb2x2ZShcInRpbnlwYXNzRXJyb3JIYW5kbGVyXCIpO3ZhciBfPWUucmVzb2x2ZShcImNhcHRjaGFWM1wiKSxDPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwicG9zdG1lc3NhZ2VcIiksST1cImV4cnNcIixTPW51bGwseD1cInZvdWNoZXJfY29kZVwiLFA9XCJfX3B2aVwiLEU9ITEsVD0hMSxBPXt9LE09bnVsbCxPPWsuX19wcm90ZWN0ZWRfXy5nZXRPckdlbmVyYXRlQ3hDb21wYXRpYmxlQmlkKCksUj17QVBQTEVfUEFZX0JUOjI1LEFQUExFX1BBWV9TUzozOCxBUFBMRV9QQVlfU1RSSVBFOjQxLEFQUExFX1BBWV9QVzo0MixEQVRBVFJBTlNfQVBQTEVfUEFZOjYxfSxMPW5ldyBTZXQoT2JqZWN0LnZhbHVlcyhSKSksTj12b2lkIDAsVT1bXSxqPSExLEQ9ITEsRj1mdW5jdGlvbigpe2lmKFwiaVBcIj09PW5hdmlnYXRvci5wbGF0Zm9ybS5zdWJzdHIoMCwyKSl7dmFyIGU9L2NvbnN0cnVjdG9yL2kudGVzdCh3aW5kb3cuSFRNTEVsZW1lbnQpLG49d2luZG93Lm5hdmlnYXRvcix0PW4udXNlckFnZW50LHI9ISF3aW5kb3cuaW5kZXhlZERCO2lmKC0xPT09dC5pbmRleE9mKFwiU2FmYXJpXCIpfHwtMT09PXQuaW5kZXhPZihcIlZlcnNpb25cIil8fG4uc3RhbmRhbG9uZSl7aWYoIXImJmV8fCF3aW5kb3cuc3RhdHVzYmFyLnZpc2libGUpO2Vsc2UgaWYod2luZG93LndlYmtpdCYmd2luZG93LndlYmtpdC5tZXNzYWdlSGFuZGxlcnN8fCFlfHxyKXJldHVybiEwfWVsc2U7fXJldHVybiExfSgpO3ZhciBCLFYscSx6PWZ1bmN0aW9uKCl7dmFyIGU7dHJ5e2U9SlNPTi5wYXJzZShpLl9fcHJvdGVjdGVkX18uZ2V0Q29va2llKFApKX1jYXRjaChuKXtlPXt9fXJldHVybiBlfSxIPWZ1bmN0aW9uKCl7cmV0dXJuIGkuZ2V0Q3VycmVudERvbWFpbkZyb21Db29raWUoUCl9LFc9ZnVuY3Rpb24oZSxuKXt2YXIgdD1BO0E9e307dmFyIHI9e307Zm9yKHZhciBvIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShvKSlmb3IodmFyIGkgaW4gcltvXT1yW29dfHxbXSx0W29dKXRbb10uaGFzT3duUHJvcGVydHkoaSkmJnJbb10ucHVzaCh0W29dW2ldKTtiZShyLGUsbil9LEo9ZnVuY3Rpb24oKXtpZih2LmV4ZWN1dGUuaW52b2tlQ291bnQ+MCl7dmFyIGU9RygpO3JldHVybiBDZSgpJiZJZShyZSgpLGUscG4uY3hlbnNlU2l0ZUlkKSxlfXJldHVybiBDZSgpP2suX19wcm90ZWN0ZWRfXy50cnlUb0dldEN4UGFnZVZpZXdJZChTZSgpKTpHKCl9O2Z1bmN0aW9uIEcoKXtmdW5jdGlvbiBlKGUsbix0KXt0PXR8fFwiMFwiO3ZhciByPVN0cmluZyhlKTtyZXR1cm4gci5sZW5ndGg+PW4/cjpuZXcgQXJyYXkobi1yLmxlbmd0aCsxKS5qb2luKHQpK3J9aWYoQ2UoKSlyZXR1cm4gU2UoKTt2YXIgbj1pLnJhbmRvbVN0cmluZygxNiksdD1sLmhhc2goW3MuZ2V0RmluZ2VycHJpbnQoKSx3aW5kb3cubG9jYXRpb24uaHJlZl0uam9pbihcIlwiKSkscj1uZXcgRGF0ZTtyZXR1cm5bW2Uoci5nZXRGdWxsWWVhcigpLDQpLGUoci5nZXRNb250aCgpKzEsMiksZShyLmdldERhdGUoKSwyKSxlKHIuZ2V0SG91cnMoKSwyKSxlKHIuZ2V0TWludXRlcygpLDIpLGUoci5nZXRTZWNvbmRzKCksMiksZShyLmdldE1pbGxpc2Vjb25kcygpLDMpXS5qb2luKFwiLVwiKSxuLHRdLmpvaW4oXCItXCIpfXZhciBRPWZ1bmN0aW9uKGUpe3ZhciBuPXtwYXRoOlwiL1wiLGV4cGlyZXM6MSxkb21haW46Vi5jdXJyZW50RG9tYWlufTtyZXR1cm4gZSYmKG4uZG9tYWluPWUpLG59LFg9ZnVuY3Rpb24oZSxuKXtlLmRvbWFpbj1uLmRvbWFpbixlLnRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksaS5fX3Byb3RlY3RlZF9fLnNldENvb2tpZShQLEpTT04uc3RyaW5naWZ5KGUpLG4pfSwkPWZ1bmN0aW9uKGUpe3ZhciBuPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHQ9NmU0KmkuZ2V0QnJvd3NlclRpbWV6b25lT2Zmc2V0KCkscj1pLmdldEFwcFRpbWV6b25lT2Zmc2V0KCksbz1uZXcgRGF0ZShlLnRpbWUpLnNldEhvdXJzKDAsMCwwLDApKzg2NGU1LXQtcjtyZXR1cm4gZS50aW1lKzE4ZTU8bnx8bj49b30sWT1mdW5jdGlvbigpe2lmKGkuX19wcm90ZWN0ZWRfXy5jYW1lRnJvbUZiU3Vic2NyaXB0aW9ucygpKXJldHVybiExO2lmKCFWLmN1cnJlbnREb21haW4pcmV0dXJuITE7dmFyIGU9aS5nZXRSZWZlcnJlcigpO2lmKE0mJk09PT1lKXJldHVybiExO3ZhciBuPWkuZ2V0SG9zdG5hbWUoZSksdD1uZXcgUmVnRXhwKFYuY3VycmVudERvbWFpbi5yZXBsYWNlKC9cXC4vZyxcIlxcXFwuXCIpLnJlcGxhY2UoL15cXFxcLi8sXCJcXFxcLj9cIikrXCIkXCIpLnRlc3Qobik7cmV0dXJuIEJvb2xlYW4obikmJiF0fSxLPWZ1bmN0aW9uKCl7dmFyIGU9eigpOyghZXx8IWUuaWR8fCFlLnRpbWV8fCQoZSl8fFkoKSkmJihlLmlkPVwidi1cIitHKCkpLGZ1bmN0aW9uKGUpe3ZhciBuPVEoKTtlLmRvbWFpbnx8Vi5jdXJyZW50RG9tYWluP1goZSxuKTppLndhaXRDYWxsKFwiZG9tYWluSXNSZWNlaXZlZFwiLChmdW5jdGlvbih0KXtjZSh0KSxuLmRvbWFpbj10LFgoZSxuKX0pKX0oZSksVi52aXNpdD1lfSxaPWZ1bmN0aW9uKGUsbix0KXt2YXIgcixhLGM9XCJtYW51YWxcIjtpZih2b2lkIDA9PT1uKW49d2luZG93LmxvY2F0aW9uLmhyZWY7ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBwYXJhbWV0ZXIgdG8gdHJhY2sgcGFnZSBtdXN0IGJlIGEgVVJMIG9yIGFuIG9iamVjdFwiKTt2YXIgbD1uO2lmKHZvaWQgMD09PWwudXJsKXRocm93IG5ldyBFcnJvcihcIk11c3Qgc3VwcGx5IHVybCBwcm9wZXJ0eVwiKTtuPWwudXJsLHZvaWQgMCE9PWwudGFncyYmKHQ9bC50YWdzKSx2b2lkIDAhPT1sLnN1Ym1pdFR5cGUmJihjPWwuc3VibWl0VHlwZSl9dHx8KHQ9cG4udGFncykscG4uY3VzdG9tUGFnZVVybCYmKGUuY3VzdG9tX3BhZ2VfdXJsPWkucHJlcGFyZVVybFBhcmFtZXRlcihwbi5jdXN0b21QYWdlVXJsKSksdm9pZCAwIT09dD9cIltvYmplY3QgQXJyYXldXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkmJlwiW29iamVjdCBTdHJpbmddXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk/KGkubG9nKFwiVGFncyBtdXN0IGJlIGFuIGFycmF5IG9yIGEgY29tbWEtc2VwYXJhdGVkIHN0cmluZywgaWdub3Jpbmcgc3VwcGxpZWQgdGFnc1wiKSx0PVwiXCIpOnQgaW5zdGFuY2VvZiBBcnJheSYmKHQ9dC5qb2luKFwiLFwiKSk6dD1cIlwiLHEudHJhY2soKSxlLnBhZ2Vfc2Vzc2lvbl9pZD1xLnBhZ2VTZXNzaW9uSWQsZS50cmFja19jb3VudD1xLnRyYWNrQ291bnQsd2UoZSkscG4uY29udGVudENyZWF0ZWQ/YT1wbi5jb250ZW50Q3JlYXRlZDpwbi5jb250ZW50Q3JlYXRlZFNlbGVjdG9yJiZvLnF1ZXJ5RWwocG4uY29udGVudENyZWF0ZWRTZWxlY3RvcikmJihhPW51bGw9PT0ocj1vLnF1ZXJ5RWwocG4uY29udGVudENyZWF0ZWRTZWxlY3RvcikpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmlubmVySFRNTCksYSYmKGUuY29udGVudF9jcmVhdGVkPWEpLFwiYm9vbGVhblwiPT10eXBlb2YgcG4uY29udGVudElzTmF0aXZlJiYoZS5jb250ZW50X2lzX25hdGl2ZT1wbi5jb250ZW50SXNOYXRpdmUpLHBuLnpvbmUmJihlLnpvbmU9cG4uem9uZSkscG4uaXRlbUlkJiYoZS5pdGVtX2lkPXBuLml0ZW1JZCk7dmFyIHU9cG4uY29udGVudFNlY3Rpb258fHNlKFwic2VjdGlvblwiKTt1JiYoZS5jb250ZW50X3NlY3Rpb249dSk7dmFyIGQ9cG4uY29udGVudEF1dGhvcnx8c2UoXCJhdXRob3JcIik7ZCYmKGUuY29udGVudF9hdXRob3I9ZCk7dmFyIHA9cG4uY29udGVudElkfHxzZShcImlkXCIpO3AmJihlLmNvbnRlbnRfaWQ9cCk7dmFyIGYsbT1pLl9fcHJvdGVjdGVkX18uZ2V0Q29va2llKFwic2FpbHRocnVfaGlkXCIpO20mJihlLnNhaWx0aHJ1X2hpZD1tKSxNJiZNPT09aS5nZXRSZWZlcnJlcigpP2Y9XCJcIjooZj1pLmdldFJlZmVycmVyKCksTT1mKSxlLnJlZmVyZXI9aS5wcmVwYXJlVXJsUGFyYW1ldGVyKGYpLHQmJihlLnRhZ3M9dCksZS51cmw9aS5wcmVwYXJlVXJsUGFyYW1ldGVyKG4pLGUuZmluZ2VycHJpbnQ9cy5nZXRGaW5nZXJwcmludCgpLGUuYWRibG9ja2VyPWkuZ2V0QWRibG9ja1N0YXR1cygpLGUuYWRibG9ja2VyIT09aS5BREJMT0NLRVJfU1RBVFVTLkVOQUJMRURfQUZURVJfRElTQUJMRUQmJmUuYWRibG9ja2VyIT09aS5BREJMT0NLRVJfU1RBVFVTLkVOQUJMRUR8fChwbi5zZXRDdXN0b21QYXJhbShcIl9hYnJcIixpLmdldEFkYmxvY2tlclN0YXR1c1JlYXNvbigpLFwidXNlclwiLCEwKSxwbi5zZXRDdXN0b21QYXJhbShcIl9hYnNoXCIsaS5nZXRBZGJsb2NrZXJIaXN0b3J5Q29va2llSW5mbygpLmNvb2tpZVZhbHVlK1wiXCIsXCJ1c2VyXCIsITApKSxlLnRpbWV6b25lX29mZnNldD1pLmdldEJyb3dzZXJUaW1lem9uZU9mZnNldCgpLGUuc3VibWl0X3R5cGU9Yzt2YXIgZz1hZSgpO3JldHVybiBlLnZpc2l0X2lkPWcsZS5uZXdfdmlzaXQ9b2UoZyksZS5rZXl3b3Jkcz1vLmdldEF0dHIoJ21ldGFbbmFtZT1cImtleXdvcmRzXCJdJyxcImNvbnRlbnRcIil8fG8uZ2V0QXR0cignbWV0YVtuYW1lPVwibmV3c19rZXl3b3Jkc1wiXScsXCJjb250ZW50XCIpfHxcIlwiLGUudGl0bGU9by5nZXRBdHRyKCdtZXRhW3Byb3BlcnR5PVwib2c6dGl0bGVcIl0nLFwiY29udGVudFwiKXx8XCJcIixlLmRlc2NyaXB0aW9uPW8uZ2V0QXR0cignbWV0YVtwcm9wZXJ0eT1cIm9nOmRlc2NyaXB0aW9uXCJdJyxcImNvbnRlbnRcIil8fFwiXCIsZS5jb250ZW50X3R5cGU9by5nZXRBdHRyKCdtZXRhW3Byb3BlcnR5PVwib2c6dHlwZVwiXScsXCJjb250ZW50XCIpfHxcIlwiLFtcImtleXdvcmRzXCIsXCJ0aXRsZVwiLFwiZGVzY3JpcHRpb25cIixcImNvbnRlbnRfdHlwZVwiXS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dPWVbbl0uc3Vic3RyKDAsODE5Mil9KSksZS5jdXN0b21fdmFyaWFibGVzPUpTT04uc3RyaW5naWZ5KHBuLmN1c3RvbVZhcmlhYmxlcyksbmUoZSksZX0sZWU9ZnVuY3Rpb24oKXt2YXIgZT17YWlkOnBuLmFpZH0sbj1pLmdldFRiY0Nvb2tpZSgpLHQ9e2FjdGl2ZTp1LmdldEFjdGl2ZVRpbWVJblNlY29uZHMoKSx0b3RhbDp1LmdldFRvdGFsVGltZUluU2Vjb25kcygpfTtuJiYoZS50YmM9biksdC50b3RhbDx0LmFjdGl2ZSYmKHQudG90YWw9dC5hY3RpdmUpLGUudGltZV9zcGVudD1KU09OLnN0cmluZ2lmeSh0KSxlLnNjcm9sbD1KU09OLnN0cmluZ2lmeSh7bWF4X3BhZ2VfaGVpZ2h0OmQuZ2V0TWF4RG9jdW1lbnRIZWlnaHQoKSxtYXhfZGVwdGg6ZC5nZXRNYXhTY3JvbGxEZXB0aCgpfSksZS52aWV3cG9ydF9leGl0PW0uZ2V0U3VtT2ZDb2Rlc0RpcmVjdGlvbigpLGUudXJsPWkucHJlcGFyZVVybFBhcmFtZXRlcih3aW5kb3cubG9jYXRpb24uaHJlZiksd2UoZSksZS52aXNpdF9pZD1hZSgpLGllKCk7dmFyIHI9e30sYT1wLmdldEFkcygyMDApO3JldHVybiBhLmxlbmd0aCYmKHIuZGZwPWEpLG8uaXNFbXB0eU9iamVjdChyKXx8KGUuYWRzPUpTT04uc3RyaW5naWZ5KHIpKSxlfSxuZT1mdW5jdGlvbihlKXt2YXIgbj17fTtyZXR1cm4gcG4uY3VzdG9tUGFyYW1zJiYobj1vLmRlZXBFeHRlbmQoe30scG4uY3VzdG9tUGFyYW1zKSksby5pc0VtcHR5T2JqZWN0KG4pfHwoZS5jdXN0b21fcGFyYW1zPUpTT04uc3RyaW5naWZ5KG4pKSxlfSx0ZT1mdW5jdGlvbigpe3JldHVybiBxLmlkfSxyZT1mdW5jdGlvbigpe3JldHVybiBPfSxvZT1mdW5jdGlvbihlKXt2YXIgbj1WLmxhc3RUcmFja2VkVmlzaXRJZCE9PWU7cmV0dXJuIFYubGFzdFRyYWNrZWRWaXNpdElkPWUsbn0saWU9ZnVuY3Rpb24oKXtWLmNoZWNrRm9yUmVmcmVzaD0hMH0sYWU9ZnVuY3Rpb24oKXtyZXR1cm4gVi5jaGVja0ZvclJlZnJlc2gmJihLKCksVi5jaGVja0ZvclJlZnJlc2g9ITEpLFYudmlzaXQuaWR9LHNlPWZ1bmN0aW9uKGUpe3JldHVybihkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoXCJtZXRhW25hbWU9XCIrZStcIl1cIil8fHt9KS5jb250ZW50fSxjZT1mdW5jdGlvbihlKXtWLmN1cnJlbnREb21haW49ZX0sbGU9ZnVuY3Rpb24oKXtyZXR1cm4hKHBuLmVuZHBvaW50JiZwbi5lbmRwb2ludC5tYXRjaCgvc2FuZGJveC8pKX0sdWU9ZnVuY3Rpb24oZSx0LHIsbyl7cG4uYWlkJiYwIT09cG4uYWlkLmxlbmd0aD9sZSgpJiZpLndhaXRDYWxsKFwicmVmcmVzaEFjY2Vzc1Rva2VuTGlzdFwiLChmdW5jdGlvbigpe2kud2FpdENhbGwoXCJvZmZlckNyZWF0ZVwiLChmdW5jdGlvbigpe2Euc2V0VGltZShcInRyYWNrXCIpLGkuc3RhcnRDYWxsKFwicGFnZVRyYWNrXCIpLG4uY2FsbEFwaShlLHQsKGZ1bmN0aW9uKGUpe2kuZG9uZUNhbGwoXCJwYWdlVHJhY2tcIiksciYmcihlKX0pLHBuLmdldFRyYWNraW5nRW5kcG9pbnQoKStcIi9hcGkvdjNcIixvKX0pKX0pKTppLmxvZyhcIk11c3Qgc3VwcGx5IGEgdmFsaWQgdHAuYWlkIGJlZm9yZSBjYWxsaW5nIHRwLmluaXQoKVwiKX0sZGU9ZnVuY3Rpb24oKXtFJiZxLnRyYWNrQ291bnQ+MCYmKHBlKCksaGUoKSl9LHBlPWZ1bmN0aW9uKGUpe2lmKGxlKCkpdHJ5e3ZhciBuPWVlKCk7bS5pc0luaXRpYWxpemVkKCkmJm0ucmVzZXRTdW1PZkNvZGVzRGlyZWN0aW9uVG9EZWZhdWx0KCksci5sb2dCZWFjb25SZXF1ZXN0KHBuLmdldFRyYWNraW5nRW5kcG9pbnQoKStcIi9hcGkvdjMvcGFnZS91bmxvYWRcIixuKSxnZSgpfWNhdGNoKGUpe2kuZXJyb3IoXCJtYWluOiBlcnJvciBvbiB0cmFja2luZyBwYWdlIHVubG9hZCBldmVudDogXCIsZSl9fSxmZT1mdW5jdGlvbigpe1R8fChUPSEwLHBlKCkpfSxtZT1mdW5jdGlvbigpe0U9ITB9LGdlPWZ1bmN0aW9uKCl7RT0hMX0sdmU9ZnVuY3Rpb24oKXtFJiZmZSgpLFcoITAsXCJiZWFjb25fcmVxdWVzdFwiKSx2Ll9fcHJvdGVjdGVkX18uc2VuZFN0YXRpc3RpY3NFeGVjdXRlZE5vZGVzKFwidW5sb2FkXCIpfSxoZT1mdW5jdGlvbigpe3UucmVzZXRSZWNvcmRlZFRpbWUoKX0sd2U9ZnVuY3Rpb24oZSl7ZSYmKGUucGFnZXZpZXdfaWQ9dGUoKSl9LHllPWZ1bmN0aW9uKGUsbil7aWYobGUoKSl0cnl7ZGUoKTt2YXIgdD1aKHt9LGUsbik7dWUoXCIvcGFnZS90cmFja1wiLHQpLG1lKCl9Y2F0Y2goZSl7aS5lcnJvcihcIm1haW46IGVycm9yIG9uIHBhZ2UgdHJhY2tpbmcgZXZlbnQ6IFwiLGUpfX0sYmU9ZnVuY3Rpb24oZSxuLHQpe30sa2U9ZnVuY3Rpb24oKXt2YXIgZT1pLmdldFF1ZXJ5UGFyYW1CeU5hbWUoeCk7ZSYmZi5zdGFydFJlZGVlbVZvdWNoZXIoe3ZvdWNoZXJDb2RlOmV9KX0sX2U9ZnVuY3Rpb24oKXtyZXR1cm4gU3x8KFM9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe2lmKG51bGwhPT1pLl9fcHJvdGVjdGVkX18uZ2V0TG9jYWxTdG9yYWdlSXRlbShJKSYmZSh7aGFzX2FjdGl2ZV9hcHBsZV9wYXlfY2FyZDppLl9fcHJvdGVjdGVkX18uZ2V0TG9jYWxTdG9yYWdlSXRlbShJKX0pLCFwbi5hcHBsZVBheU1lcmNoYW50SWQpcmV0dXJuIGUoe2hhc19hY3RpdmVfYXBwbGVfcGF5X2NhcmQ6bnVsbH0pLFM7UGUoKS50aGVuKChmdW5jdGlvbihuKXt2YXIgdD1mdW5jdGlvbihuKXtlKHtoYXNfYWN0aXZlX2FwcGxlX3BheV9jYXJkOm59KSxpLl9fcHJvdGVjdGVkX18uc2V0TG9jYWxTdG9yYWdlSXRlbShJLG4sNzIwMCl9O24/eS5fX3Byb3RlY3RlZF9fLmFwcGxlUGF5Q2FuTWFrZVBheW1lbnRzV2l0aEFjdGl2ZUNhcmQoKS50aGVuKHQpOnQobnVsbCl9KSl9KSksUyl9O2Z1bmN0aW9uIENlKCl7cmV0dXJuIGsuX19wcm90ZWN0ZWRfXy5pc0FjdGl2YXRlZCgpfXZhciBJZT1mdW5jdGlvbihlLG4sdCl7cmV0dXJuIGsuX19wcm90ZWN0ZWRfXy5pbmplY3RJZHMoITEsZSxuLHQpfSxTZT1mdW5jdGlvbigpe3JldHVybiBpLl9fcHJvdGVjdGVkX18ucmFuZG9tU3RyaW5nQ3hDb21wYXRpYmxlKCl9O2Z1bmN0aW9uIHhlKGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmFtczt2b2lkIDA9PT1OJiYoTj1mdW5jdGlvbihlKXtpZighQXJyYXkuaXNBcnJheShlKXx8IWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wLHQ9ZTtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZihMLmhhcyhyKSlyZXR1cm4hMH1yZXR1cm4hMX0odCkpLFU9dHx8W10sZShOKX19ZnVuY3Rpb24gUGUoKXtyZXR1cm4gdm9pZCAwIT09Tj9Qcm9taXNlLnJlc29sdmUoTik6Rj8oTj0hMSxQcm9taXNlLnJlc29sdmUoITEpKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7di5yZWdpc3RlckNhbGxiYWNrKFwiZXhwZXJpZW5jZUZsb3dcIiwoZnVuY3Rpb24oKXtOPSEwLGUoITApfSkpLEMuc3Vic2NyaWJlKFwiQUNUSVZFX1BBWU1FTlRfTUVUSE9EU19JRFNfSU5JVElBTElaRURcIix4ZShlKSksQy5zdWJzY3JpYmUoXCJNWV9BQ0NPVU5UX0FDVElWRV9QQVlNRU5UX01FVEhPRFNfSURTX0lOSVRJQUxJWkVEXCIseGUoZSkpfSkpfXJldHVybntuYW1lOlwibWFpblwiLGZldGNoVmlzaXRJZDphZSx0cmFja1BhZ2VVbmxvYWRJZk5lY2Vzc2FyeTpkZSxleHRlcm5hbFJlc291cmNlc0RlbGF5Ol9lLHBhZ2VUcmFjazp5ZSx0cmFja1BhZ2U6ZnVuY3Rpb24oZSxuKXtyZXR1cm4geWUoZSxuKX0sYnVpbGRQYWdlVHJhY2tQYXJhbXM6WixmZXRjaFBhZ2VWaWV3SWQ6dGUsZmV0Y2hDeEJyb3dzZXJJZDpyZSx0cmFja1BhZ2VVbmxvYWQ6cGUscmVnaXN0ZXJUcmFja1VubG9hZDptZSxpc1JlZ2lzdGVyZWRUcmFja1VubG9hZDpmdW5jdGlvbigpe3JldHVybiBFfSx1bnJlZ2lzdGVyVHJhY2tVbmxvYWQ6Z2UscmVzZXRUaW1lcjpoZSxyZXNldEFkczpmdW5jdGlvbigpe3AucmVzZXRBZHMoKX0sdHJhY2tBZDpmdW5jdGlvbihlLG4sdCl7QVtlXXx8KEFbZV09e30pLEFbZV1bbl09dCxCKCl9LGluaXQ6ZnVuY3Rpb24oKXtpZihwbi5haWQmJjAhPT1wbi5haWQubGVuZ3RoKXt2YXIgZSxuLHQ7Qj1pLmRlYm91bmNlKFcsM2UzKSxWPXtjdXJyZW50RG9tYWluOkgoKSxsYXN0VHJhY2tlZFZpc2l0SWQ6eigpLmlkLHZpc2l0Ont9LGNoZWNrRm9yUmVmcmVzaDohMX0scT17aWQ6SigpLHBhZ2VTZXNzaW9uSWQ6XCJzLVwiK0coKSx0cmFja0NvdW50OjAsdHJhY2tlZDohMSx0cmFjazpmdW5jdGlvbigpe3EudHJhY2tlZD9xLmlkPUooKTpxLnRyYWNrZWQ9ITAscS50cmFja0NvdW50Kyt9fSxDZSgpJiYoZT1yZSgpLG49dGUoKSx0PXBuLmN4ZW5zZVNpdGVJZCxrLl9fcHJvdGVjdGVkX18uaW5qZWN0SWRzKCEwLGUsbix0KSksSygpLHBuLmlzTW9ja01vZGV8fChvLmlzRnVuY3Rpb24ocC5pbml0aWFsaXplKSYmcC5pbml0aWFsaXplKCksby5pc0Z1bmN0aW9uKHUuaW5pdGlhbGl6ZSkmJnUuaW5pdGlhbGl6ZSgpLG8uaXNGdW5jdGlvbihkLmluaXRpYWxpemUpJiZkLmluaXRpYWxpemUoKSksby5pc0Z1bmN0aW9uKGcuaW5pdGlhbGl6ZSkmJmcuaW5pdGlhbGl6ZSgpLFBlKCkudGhlbigoZnVuY3Rpb24oZSl7ZSYmKCFqJiZvLmlzRnVuY3Rpb24oeS5pbml0aWFsaXplKSYmKGo9ITAseS5pbml0aWFsaXplKCkpLER8fC0xIT09VS5pbmRleE9mKFIuREFUQVRSQU5TX0FQUExFX1BBWSkmJm8uaXNGdW5jdGlvbihiLmluaXRpYWxpemUpJiYoRD0hMCxiLmluaXRpYWxpemUoKSkpfSkpLG8uaXNGdW5jdGlvbih3Ll9fcHJvdGVjdGVkX18uaW5pdCkmJnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dy5fX3Byb3RlY3RlZF9fLmluaXQoKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9KSw1ZTMpLG8uaXNGdW5jdGlvbihjLnJlZnJlc2hBY2Nlc3NUb2tlbikmJmMucmVmcmVzaEFjY2Vzc1Rva2VuKCksX2UoKTt2YXIgcj1jLmdldFByb3ZpZGVyKCk7ciYmby5pc0Z1bmN0aW9uKHIuZXh0ZW5kVXNlclRva2VuKSYmci5leHRlbmRVc2VyVG9rZW4oKSxvLm9uKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLChmdW5jdGlvbigpe3JldHVybiB2ZSgpfSkpLG8ub24od2luZG93LFwidW5sb2FkXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZlKCl9KSksXy5hZGRDYXB0Y2hhVjMoKX1lbHNlIGkubG9nKFwiTXVzdCBzdXBwbHkgYSB2YWxpZCB0cC5haWQgYmVmb3JlIGNhbGxpbmcgdHAuaW5pdCgpXCIpfSxjaGVja1RvUnVuV2lkZ2V0SW1tZWRpYXRlbHk6ZnVuY3Rpb24oKXt2YXIgZTtrZSgpLChlPWkuZ2V0UXVlcnlQYXJhbUJ5TmFtZShcInZlcmlmaWNhdGlvbl9jb2RlXCIpKSYmXCJwaWFub0lkXCI9PT1jLmdldFByb3ZpZGVyKCkubmFtZSYmaS53YWl0Q2FsbChcIm9mZmVyQ3JlYXRlXCIsKGZ1bmN0aW9uKCl7aC5pc1VzZXJWYWxpZCgpP2guX19wcm90ZWN0ZWRfXy5zaG93RW1haWxDb25maXJtYXRpb24oe3ZlcmlmaWNhdGlvbl9jb2RlOmV9KTpoLnNob3coe3ZlcmlmaWNhdGlvbl9jb2RlOmV9KX0pKSxoLmNoZWNrQW5kU2hvd0VtYWlsSXNOb3RDb25maXJtZWQoKSxvLmlzRnVuY3Rpb24oZi5jaGVja1RocmVlRFNSZWRpcmVjdCkmJmYuY2hlY2tUaHJlZURTUmVkaXJlY3QoKX0sdHJhY2tBZHM6YmUsYXBwSGFzQXBwbGVQYXk6ZnVuY3Rpb24oKXtyZXR1cm4gTn0sX19wcml2YXRlX186e1ZJU0lUX0lEX0NPT0tJRTpQLFZPVUNIRVJfUVVFUlk6eCxjb2xsZWN0ZWRBZHM6QSx1bmxvYWRSZWdpc3RlcmVkOkUsdW5sb2FkVHJpZ2dlcmVkOlQsZ2V0UGFnZVZpZXc6ZnVuY3Rpb24oKXtyZXR1cm4gcX0sZ2V0VmlzaXRDb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gVn0sdHJhY2s6dWUsY2hlY2tWb3VjaGVyOmtlLHNldFBhZ2VWaWV3SWQ6d2UsY3VycmVudEVudmlyb25tZW50U3VwcG9ydHNQYWdlVHJhY2s6bGUsYnVpbGRQYWdlVW5sb2FkUGFyYW1zOmVlLGludmFsaWRhdGVMYXN0VmlzaXQ6ZnVuY3Rpb24oKXt2YXIgZT1RKCk7dC5yZW1vdmUoUCxlKX0sZ2V0Q3VycmVudERvbWFpbjpILGxvYWRMYXN0VmlzaXQ6eixzZXRWaXNpdEN1cnJlbnREb21haW46Y2Usc2F2ZVZpc2l0Q29va2llOlgsZ2V0VmlzaXRDb29raWVPcHRpb25zOlEsaXNUaW1lRXhwaXJlZDokLHJlZnJlc2hWaXNpdDpLLGdlbmVyYXRlUGFnZVZpZXdJZDpHLHRyYWNrQ29sbGVjdGVkQWRzOlcsdW5sb2FkSGFuZGxlcjp2ZSx1bmxvYWRBY3Rpb246ZmUsYnVpbGRQYWdlQ3VzdG9tUGFyYW1zOm5lLGhhc0V4dGVybmFsUmVmZXJyZXI6WX19fTtwbi5jb250YWluZXIucmVnaXN0ZXIoXCJtYWluXCIse3VzZVZhbHVlOlBuKCl9KSxwbi5tYWluPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwibWFpblwiKTt2YXIgRW49e3ByZWRlZmluZVZhbHVlczpbXX07d2luZG93LnRwJiZ3aW5kb3cudHAubGVuZ3RoJiYoRW4ucHJlZGVmaW5lVmFsdWVzPV9lKFtdLHdpbmRvdy50cHx8W10sITApKSxwbi50cFByZWRlZmluZWRPcHRpb25zPUVuLHBuLmNvbnRhaW5lci5yZWdpc3RlcihcInRwUHJlZGVmaW5lZE9wdGlvbnNcIix7dXNlVmFsdWU6RW59KTt2YXIgVG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbix0LHIsbyl7dGhpcy50cFByZWRlZmluZWRPcHRpb25zPWUsdGhpcy5jc3M9bix0aGlzLnRpbnlwYXNzRXJyb3JIYW5kbGVyPXQsdGhpcy5nYVNlcnZpY2U9cix0aGlzLnV0aWxTZXJ2aWNlPW8sdGhpcy5mdWxsVFBWZXJzaW9uPSExLHRoaXMuaXNJbml0aWFsaXplZD0hMSx0aGlzLmFpZD1cIlwiLHRoaXMuaXNTZW5zaXRpdmVEYXRhUHJvdGVjdGlvbkVuYWJsZWQ9ITEsdGhpcy5hZmZpbGlhdGVUb2tlbk5hbWU9XCJhZmZpbGlhdGVUb2tlblwiLHRoaXMuY3hDZG5Vcmw9XCJodHRwczovL2Nkbi5jeGVuc2UuY29tXCIsdGhpcy5jMVhMb2FkQ2NlPSEwLHRoaXMuYzFYSW50ZWdyYXRpb25WZXJzaW9uPVwidjJcIix0aGlzLmN4ZW5zZUxpYkF3YWl0aW5nVGltZW91dD0wLHRoaXMuY3hlbnNlTGliQXdhaXRpbmdSZXRyeUNvdW50PTAsdGhpcy50cmFja1BhZ2VzPSEwLHRoaXMuZGVidWc9ITEsdGhpcy51c2VyUmVmPVwiXCIsdGhpcy51c2VQaWFub0lkTGl0ZVVzZXJQcm92aWRlcj0hMSx0aGlzLnVzZVRpbnlwYXNzQWNjb3VudHM9ITEsdGhpcy51c2VDb25kZVVzZXJQcm92aWRlcj0hMSx0aGlzLnVzZUdpZ3lhVXNlclByb3ZpZGVyPSExLHRoaXMudXNlUGlhbm9JZFVzZXJQcm92aWRlcj0hMSx0aGlzLnVzZUFpZFNwZWNpZmllZENvb2tpZXM9ITEsdGhpcy5zYW5kYm94PSExLHRoaXMuekluZGV4ZXM9e2JhY2tkcm9wOjNlNSxtb2RhbDozMDAwNTAsY2xvc2U6MzAwMTAwfSx0aGlzLmN1c3RvbVByZUNoZWNrcz1bXSx0aGlzLmN1c3RvbVBhcmFtcz17fSx0aGlzLmV4dGVybmFsTGlicmFyaWVzPVtdLHRoaXMuZXh0ZXJuYWxMaWJyYXJpZXNDYWxsYmFja3M9W10sdGhpcy5jdXN0b21WYXJpYWJsZXM9e30sdGhpcy5sb2NhbGU9XCJcIix0aGlzLnRyYWNrUGFnZVZpZXc9ITAsdGhpcy5yZWRpcmVjdFRvRmJUaW1lb3V0PTMsdGhpcy5pc0RvdWJsZU9wdEluQ2hlY2tPbkFjY2Vzc0NoZWNrRW5hYmxlZD0hMSx0aGlzLmlzTW9ja01vZGU9ITEsdGhpcy5pbmFwcEJyb3dzZXJSZXR1cm49ITEsdGhpcy5ldmVudHM9W10sdGhpcy5hcHBMaXN0PVtdLHRoaXMuY2FjaGVhYmxlU2hvd1RlbXBsYXRlPSEwLHRoaXMuaW5pdENhbGxiYWNrcz1bXSx0aGlzLm1haW5Nb2R1bGVJbml0ZWQ9ITEsdGhpcy5yZXN0Q2FsbGJhY2tzPVtdLHRoaXMuaW5pdFRyaWVzPTAsdGhpcy5jYWxsYmFja3M9W10sbi5sb2FkT2ZmZXJDc3MoKX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdFRwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0cnl7dmFyIG49dGhpcy50cFByZWRlZmluZWRPcHRpb25zLnByZWRlZmluZVZhbHVlcztpZih0aGlzLnRwUHJlZGVmaW5lZE9wdGlvbnMucHJlZGVmaW5lVmFsdWVzPVtdLG4uZm9yRWFjaCgoZnVuY3Rpb24obil7XCJmdW5jdGlvblwiPT10eXBlb2YgblsxXT9cImluaXRcIj09PW5bMF0/ZS5pbml0Q2FsbGJhY2tzLnB1c2goblsxXSk6ZS5yZXN0Q2FsbGJhY2tzLnB1c2gobik6XCJpbml0XCI9PT1uWzFdJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuWzJdP2UuaW5pdENhbGxiYWNrcy5wdXNoKG5bMl0pOmUucHVzaChuKX0pKSwhdGhpcy5haWQmJnRoaXMuaW5pdFRyaWVzPDEwKXJldHVybiB0aGlzLmluaXRUcmllcysrLHZvaWQgc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gZS5pbml0VHAoKX0pLDUwKTtpZighdGhpcy5haWQpcmV0dXJuO2Zvcih0aGlzLnRpbnlwYXNzRXJyb3JIYW5kbGVyLmluaXRpYWxpemUoKTt0aGlzLnJlc3RDYWxsYmFja3MubGVuZ3RoOyl0cnl7dmFyIHQ9dGhpcy5yZXN0Q2FsbGJhY2tzLnNoaWZ0KCk7dGhpcy5wdXNoKHQpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSkscG4udGlueXBhc3NFcnJvckhhbmRsZXIuYWRkRXJyb3IoZSl9dGhpcy5faW5pdCgpLHRoaXMuZXh0ZXJuYWxMaWJyYXJpZXMubGVuZ3RoJiZ0aGlzLnJlYWxpemVFeHRlcm5hbExpYnJhcmllcygpLHRoaXMuaXNJbml0aWFsaXplZD0hMCx3aW5kb3cuX19fdHA9ZnVuY3Rpb24oKXt9fWNhdGNoKGUpe3BuLnRpbnlwYXNzRXJyb3JIYW5kbGVyLmFkZEVycm9yKGUsXCJpbml0VFBcIil9fSxlLnByb3RvdHlwZS5yZWFsaXplRXh0ZXJuYWxMaWJyYXJpZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49W107dGhpcy5leHRlcm5hbExpYnJhcmllcy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1lLnJlcXVpcmVKc0ZpbGUodCk7bi5wdXNoKHIpfSkpLFByb21pc2UuYWxsKG4pLnRoZW4oKGZ1bmN0aW9uKCl7aWYoZS5leHRlcm5hbExpYnJhcmllcz1bXSxlLmV4dGVybmFsTGlicmFyaWVzQ2FsbGJhY2tzKWZvcih2YXIgbj0wO248ZS5leHRlcm5hbExpYnJhcmllc0NhbGxiYWNrcy5sZW5ndGg7KytuKU1uLmV4dGVybmFsTGlicmFyaWVzQ2FsbGJhY2tzW25dKCk7TW4uZXh0ZXJuYWxMaWJyYXJpZXNDYWxsYmFja3M9W119KSl9LGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGUsbix0LHI9W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspcltvXT1hcmd1bWVudHNbb107Zm9yKGU9MDtlPHIubGVuZ3RoO2UrKylpZihcInN0cmluZ1wiPT10eXBlb2Yobj0odD1yW2VdKS5zaGlmdCgpKXx8biBpbnN0YW5jZW9mIFN0cmluZyl7aWYoIXRoaXNbbl0pcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlVuZGVmaW5lZCBtZXRob2QgXCIrbik7dGhpc1tuXS5hcHBseSh0aGlzLHQpfWVsc2Ugbi5hcHBseSh0aGlzLHQpfSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMuaXNJbml0aWFsaXplZD8odGhpcy5tYWluTW9kdWxlSW5pdGVkfHwodGhpcy5tYWluTW9kdWxlSW5pdGVkPSEwLHRoaXMuaW5pdE1haW5Nb2R1bGVBZnRlckluaXRDYmsoKSksZSYmZSgpKTooZSYmdGhpcy50cFByZWRlZmluZWRPcHRpb25zLnByZWRlZmluZVZhbHVlcy5wdXNoKFtcImluaXRcIixlXSksdGhpcy5pbml0VHAoKSl9LGUucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7aWYocG4udXRpbCYmcG4udXRpbC5oYXNRdWVyeVBhcmFtQnlOYW1lJiZwbi51dGlsLmhhc1F1ZXJ5UGFyYW1CeU5hbWUoXCJ4cGRlYnVnXCIpJiZwbi5zZXREZWJ1ZyghMCkscG4udXRpbC5zZXRUcGNjQ29va2llcygpLHBuLnV0aWwuaXNTYWZhcmlPcklPc1VpV2ViVmlldygpJiYhcG4udXNlci5pc1VzZXJWYWxpZCgpJiZwbi51dGlsLmdldFF1ZXJ5UGFyYW1CeU5hbWUoXCJ1c2VyVG9rZW5cIikpe3ZhciBlPXBuLnV0aWwuZ2V0UXVlcnlQYXJhbUJ5TmFtZShcImNvb2tpZURvbWFpblwiKSxuPXBuLnV0aWwuZ2V0UXVlcnlQYXJhbUJ5TmFtZShcInVzZXJUb2tlblwiKSx0PXBuLnV0aWwuZ2V0UXVlcnlQYXJhbUJ5TmFtZShcInRva2VuTGlzdFZhbHVlXCIpO3BuLnV0aWwuc2V0QWNjZXNzVG9rZW5MaXN0Q29va2llKHtjb29raWVfZG9tYWluOmUsdmFsdWU6dH0sbikscG4udXRpbC5yZW1vdmVRdWVyeVBhcmFtQnlOYW1lKFwidXNlclRva2VuXCIpLHBuLnV0aWwucmVtb3ZlUXVlcnlQYXJhbUJ5TmFtZShcImNvb2tpZURvbWFpblwiKSxwbi51dGlsLnJlbW92ZVF1ZXJ5UGFyYW1CeU5hbWUoXCJ0b2tlbkxpc3RWYWx1ZVwiKX1pZih0aGlzLm1haW5Nb2R1bGVJbml0ZWR8fCh0aGlzLm1haW5Nb2R1bGVJbml0ZWQ9ITAsdGhpcy5pbml0TWFpbk1vZHVsZUFmdGVySW5pdENiaygpKSwhdGhpcy5haWQpe3ZhciByPW5ldyBFcnJvcihcIkluY29ycmVjdCBhaWQgaW50ZWdyYXRpb246IFwiK01uLmFpZCtcIiB1cmw6IFwiK3dpbmRvdy5sb2NhdGlvbi5ocmVmKTt0aGlzLnRpbnlwYXNzRXJyb3JIYW5kbGVyLmFkZEVycm9yKHIpfXBuLmxvZ2dpbmcuc2V0VGltZShcImNvbXBsZXRlSW5pdFwiKX0sZS5wcm90b3R5cGUuaW5pdE1haW5Nb2R1bGVBZnRlckluaXRDYms9ZnVuY3Rpb24oKXtmb3IocG4udXNlci5wcm92aWRlckluaXQoKSx0aGlzLmFwcExpc3QuaW5kZXhPZih0aGlzLmFpZCk8MCYmKHRoaXMuYXBwTGlzdC5wdXNoKHRoaXMuYWlkKSxwbi5tYWluLmluaXQoKSk7dGhpcy5pbml0Q2FsbGJhY2tzLmxlbmd0aDspdHJ5e3RoaXMuaW5pdENhbGxiYWNrcy5zaGlmdCgpKCl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihlKSxwbi50aW55cGFzc0Vycm9ySGFuZGxlci5hZGRFcnJvcihlKX1pZihwbi5tYWluLmNoZWNrVG9SdW5XaWRnZXRJbW1lZGlhdGVseSgpLHRoaXMuZXZlbnRzKXtmb3IodmFyIGU9MDtlPHRoaXMuZXZlbnRzLmxlbmd0aDtlKyspdGhpcy5ldmVudHNbZV0oKTt0aGlzLmV2ZW50cz1bXX19LGUucHJvdG90eXBlLnJlcXVpcmVKc0ZpbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHQpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7ci5vbmxvYWQ9bixyLm9uZXJyb3I9bixyLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIixyLmNoYXJzZXQ9XCJ1dGYtOFwiLHIuYXN5bmM9ITAsci5zcmM9ZSxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQocil9KSl9LGUucHJvdG90eXBlLnNldEFpZD1mdW5jdGlvbihlKXt0aGlzLmFpZD1lfSxlLnByb3RvdHlwZS5lbmFibGVTZW5zaXRpdmVEYXRhUHJvdGVjdGlvbj1mdW5jdGlvbihlKXt0aGlzLmlzU2Vuc2l0aXZlRGF0YVByb3RlY3Rpb25FbmFibGVkPWV9LGUucHJvdG90eXBlLnJlbG9hZD1mdW5jdGlvbigpe2xvY2F0aW9uLmhyZWY9cG4udXRpbC5yZW1vdmVWb3VjaGVyQ29kZUZyb21VcmwobG9jYXRpb24uaHJlZil9LGUucHJvdG90eXBlLnJlbW92ZVNoYXJlZEFjY291bnRDb2RlRnJvbVVybD1mdW5jdGlvbigpe2xvY2F0aW9uLmhyZWY9cG4udXRpbC5yZW1vdmVTaGFyZWRBY2NvdW50Q29kZUZyb21VcmwobG9jYXRpb24uaHJlZil9LGUucHJvdG90eXBlLnNldEdBQ2xpZW50SWQ9ZnVuY3Rpb24oZSl7dGhpcy5nYUNsaWVudElkPWUsdGhpcy5nYVNlcnZpY2UucmVjcmVhdGVXaXRoQ2xpZW50SWQoZSl9LGUucHJvdG90eXBlLmdldEdBQ2xpZW50SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYUNsaWVudElkfSxlLnByb3RvdHlwZS5lbmFibGVHQUNyb3NzRG9tYWluTGlua2luZz1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3RoaXMuZ2FDcm9zc0RvbWFpbkxpbmtpbmc9ITA7dmFyIHQ9RGF0ZS5ub3coKSxyPWZ1bmN0aW9uKCl7dmFyIG89d2luZG93LmdhO2lmKG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8pdHJ5e28oKGZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQmJnZvaWQgMD09PWUpbi5zZXRHQUNsaWVudElkKHQuZ2V0KFwiY2xpZW50SWRcIikpO2Vsc2UgaWYodm9pZCAwIT09ZSlmb3IodmFyIHI9by5nZXRBbGwoKSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBhPXJbaV07aWYoYS5nZXQoXCJ0cmFja2luZ0lkXCIpPT09ZSl7bi5zZXRHQUNsaWVudElkKGEuZ2V0KFwiY2xpZW50SWRcIikpO2JyZWFrfX19KSl9Y2F0Y2goZSl7fWVsc2UgRGF0ZS5ub3coKS10PDZlNCYmc2V0VGltZW91dChyLDUwMCl9O3IoKX0sZS5wcm90b3R5cGUuc2V0VGFncz1mdW5jdGlvbihlKXt0aGlzLnRhZ3M9ZSBpbnN0YW5jZW9mIEFycmF5P2Uuam9pbihcIixcIik6ZX0sZS5wcm90b3R5cGUuc2V0Q29va2llRG9tYWluPWZ1bmN0aW9uKGUpe1wiLlwiIT09ZVswXSYmKGU9XCIuXCIrZSksdGhpcy5jb29raWVEb21haW49ZX0sZS5wcm90b3R5cGUuc2V0Q29va2llUGF0aD1mdW5jdGlvbihlKXt0aGlzLmNvb2tpZVBhdGg9ZX0sZS5wcm90b3R5cGUuc2V0RG9udFNjcm9sbFRvcE1vZGFsPWZ1bmN0aW9uKGUpe3RoaXMuZG9udFNjcm9sbFRvcE1vZGFsPWV9LGUucHJvdG90eXBlLnNldFVzZUV4cGVyaWVuY2U9ZnVuY3Rpb24oZSl7dGhpcy51c2VFeHBlcmllbmNlPWV9LGUucHJvdG90eXBlLnNldEV4cGVyaW1lbnRhbElvc01vZGFsPWZ1bmN0aW9uKGUpe3RoaXMuZXhwZXJpbWVudGFsSW9zTW9kYWw9ZX0sZS5wcm90b3R5cGUuc2V0QXBwbGVQYXlNZXJjaGFudElkPWZ1bmN0aW9uKGUpe3RoaXMuYXBwbGVQYXlNZXJjaGFudElkPWV9LGUucHJvdG90eXBlLnNldENvbnRlbnRJc05hdGl2ZT1mdW5jdGlvbihlKXt0aGlzLmNvbnRlbnRJc05hdGl2ZT1lfSxlLnByb3RvdHlwZS5zZXRDb21wb3Nlckhvc3Q9ZnVuY3Rpb24oZSl7dGhpcy5jb21wb3Nlckhvc3Q9ZX0sZS5wcm90b3R5cGUuc2V0RW5kcG9pbnQ9ZnVuY3Rpb24oZSl7dGhpcy5lbmRwb2ludD1lfSxlLnByb3RvdHlwZS5zZXRBZmZpbGlhdGVUb2tlbk5hbWU9ZnVuY3Rpb24oZSl7dGhpcy5hZmZpbGlhdGVUb2tlbk5hbWU9ZX0sZS5wcm90b3R5cGUuc2V0RXNwRW5kcG9pbnQ9ZnVuY3Rpb24oZSl7dGhpcy5lc3BFbmRwb2ludD1lfSxlLnByb3RvdHlwZS5zZXRDeENkblVybD1mdW5jdGlvbihlKXt0aGlzLmN4Q2RuVXJsPWV9LGUucHJvdG90eXBlLnNldEMxWExvYWRDY2U9ZnVuY3Rpb24oZSl7dGhpcy5jMVhMb2FkQ2NlPWV9LGUucHJvdG90eXBlLnNldEMxWEludGVncmF0aW9uVmVyc2lvbj1mdW5jdGlvbihlKXt0aGlzLmMxWEludGVncmF0aW9uVmVyc2lvbj1lfSxlLnByb3RvdHlwZS5zZXRDeGVuc2VTaXRlSWQ9ZnVuY3Rpb24oZSl7dGhpcy5jeGVuc2VTaXRlSWQ9ZX0sZS5wcm90b3R5cGUuc2V0Q3hlbnNlTGliQXdhaXRpbmdUaW1lb3V0PWZ1bmN0aW9uKGUpe3RoaXMuY3hlbnNlTGliQXdhaXRpbmdUaW1lb3V0PWV9LGUucHJvdG90eXBlLnNldEN4ZW5zZUxpYkF3YWl0aW5nUmV0cnlDb3VudD1mdW5jdGlvbihlKXt0aGlzLmN4ZW5zZUxpYkF3YWl0aW5nUmV0cnlDb3VudD1lfSxlLnByb3RvdHlwZS5zZXRDb250ZW50SWQ9ZnVuY3Rpb24oZSl7dGhpcy5jb250ZW50SWQ9ZX0sZS5wcm90b3R5cGUuc2V0VHJhY2tQYWdlcz1mdW5jdGlvbihlKXt0aGlzLnRyYWNrUGFnZXM9ZX0sZS5wcm90b3R5cGUuc2V0RGVidWc9ZnVuY3Rpb24oZSl7dGhpcy5kZWJ1Zz1lfSxlLnByb3RvdHlwZS5zZXRVc2VyUmVmPWZ1bmN0aW9uKGUpe3RoaXMudXNlclJlZj1lfSxlLnByb3RvdHlwZS5zZXRVc2VQaWFub0lkTGl0ZVVzZXJQcm92aWRlcj1mdW5jdGlvbihlKXt0aGlzLnVzZVBpYW5vSWRMaXRlVXNlclByb3ZpZGVyPWV9LGUucHJvdG90eXBlLnNldEV4dGVybmFsSldUPWZ1bmN0aW9uKGUpe3RoaXMuZXh0ZXJuYWxKV1Q9ZX0sZS5wcm90b3R5cGUuZ2V0RXh0ZXJuYWxKV1Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlcm5hbEpXVH0sZS5wcm90b3R5cGUuc2V0VXNlVGlueXBhc3NBY2NvdW50cz1mdW5jdGlvbihlKXt0aGlzLnVzZVRpbnlwYXNzQWNjb3VudHM9ZX0sZS5wcm90b3R5cGUuc2V0VXNlQ29uZGVVc2VyUHJvdmlkZXI9ZnVuY3Rpb24oZSl7dGhpcy51c2VDb25kZVVzZXJQcm92aWRlcj1lfSxlLnByb3RvdHlwZS5zZXRVc2VHaWd5YVVzZXJQcm92aWRlcj1mdW5jdGlvbihlKXt0aGlzLnVzZUdpZ3lhVXNlclByb3ZpZGVyPWV9LGUucHJvdG90eXBlLnNldFVzZVBpYW5vSWRVc2VyUHJvdmlkZXI9ZnVuY3Rpb24oZSl7dGhpcy51c2VQaWFub0lkVXNlclByb3ZpZGVyPWV9LGUucHJvdG90eXBlLnNldFBpYW5vSWRVcmw9ZnVuY3Rpb24oZSl7dGhpcy5waWFub0lkVXJsPWV9LGUucHJvdG90eXBlLnNldEl0ZW1JZD1mdW5jdGlvbihlKXt0aGlzLml0ZW1JZD1lfSxlLnByb3RvdHlwZS5zZXRVc2VBaWRTcGVjaWZpZWRDb29raWVzPWZ1bmN0aW9uKGUpe3RoaXMudXNlQWlkU3BlY2lmaWVkQ29va2llcz1lfSxlLnByb3RvdHlwZS5zZXRTYW5kYm94PWZ1bmN0aW9uKGUpe3RoaXMuc2FuZGJveD1lfSxlLnByb3RvdHlwZS5zZXRDb250ZW50Q3JlYXRlZFNlbGVjdG9yPWZ1bmN0aW9uKGUpe3RoaXMuY29udGVudENyZWF0ZWRTZWxlY3Rvcj1lfSxlLnByb3RvdHlwZS5zZXRDb250ZW50Q3JlYXRlZD1mdW5jdGlvbihlKXt0aGlzLmNvbnRlbnRDcmVhdGVkPWV9LGUucHJvdG90eXBlLnNldENvbnRlbnRBdXRob3I9ZnVuY3Rpb24oZSl7dGhpcy5jb250ZW50QXV0aG9yPWV9LGUucHJvdG90eXBlLnNldENvbnRlbnRTZWN0aW9uPWZ1bmN0aW9uKGUpe3RoaXMuY29udGVudFNlY3Rpb249ZX0sZS5wcm90b3R5cGUuc2V0Wm9uZT1mdW5jdGlvbihlKXt0aGlzLnpvbmU9ZXx8XCJcIn0sZS5wcm90b3R5cGUuaXNOb25Qcm9kRW5kcG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm5cInNhbmRib3hcIj09PXRoaXMuZW5kcG9pbnR8fC9eaHR0cHM/OlxcL1xcLyguKnNhbmRib3guKnxcXGQrXFwuZGV2KVxcLih0aW55cGFzc1xcLmNvbXxwaWFub1xcLmlvKS9pLnRlc3QodGhpcy5lbmRwb2ludCl9LGUucHJvdG90eXBlLnNldFpJbmRleGVzPWZ1bmN0aW9uKGUpe3RoaXMuekluZGV4ZXM9ZX0sZS5wcm90b3R5cGUuc2V0Q3VzdG9tUHJlQ2hlY2s9ZnVuY3Rpb24oZSl7dGhpcy5jdXN0b21QcmVDaGVja3MucHVzaChlKX0sZS5wcm90b3R5cGUuc2V0Q3VzdG9tUGFyYW09ZnVuY3Rpb24oZSxuLHQscil7dmFyIG89W1wiY29udGVudFwiLFwidXNlclwiLFwicmVxdWVzdFwiXTtpZih0fHwodD1cImNvbnRlbnRcIiksdD10LnRvTG93ZXJDYXNlKCksby5pbmRleE9mKHQpPDApdGhyb3cgbmV3IEVycm9yKFwiVW5kZWZpbmVkIHNjb3BlIFwiK3QrXCJcXG5BdmFpbGFibGUgc2NvcGVzOiBcIitvLmpvaW4oXCIsIFwiKSk7dm9pZCAwPT09dGhpcy5jdXN0b21QYXJhbXNbdF0mJih0aGlzLmN1c3RvbVBhcmFtc1t0XT17fSksKHZvaWQgMD09PXRoaXMuY3VzdG9tUGFyYW1zW3RdW2VdfHxyKSYmKHRoaXMuY3VzdG9tUGFyYW1zW3RdW2VdPVtdKTtmb3IodmFyIGk9W10uY29uY2F0KG4pLGE9MDthPGkubGVuZ3RoO2ErKyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGlbYV0pdGhyb3cgbmV3IEVycm9yKFwic2V0Q3VzdG9tUGFyYW0gYWNjZXB0IG9ubHkgc3RyaW5nIHZhbHVlcyBvciBhcnJheSBvZiBzdHJpbmdzXCIpO3RoaXMuY3VzdG9tUGFyYW1zW3RdW2VdLnB1c2goaVthXSl9fSxlLnByb3RvdHlwZS5yZXNldEN1c3RvbVBhcmFtPWZ1bmN0aW9uKGUpe2V8fChlPVwiY29udGVudFwiKSxkZWxldGUgdGhpcy5jdXN0b21QYXJhbXNbZV19LGUucHJvdG90eXBlLmFkZEV4dGVybmFsTGlicmFyeT1mdW5jdGlvbihlLG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXRoaXMuZXh0ZXJuYWxMaWJyYXJpZXMucHVzaChlKTtlbHNlIGZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXRoaXMuZXh0ZXJuYWxMaWJyYXJpZXMucHVzaChlW3RdKTtuJiZ0aGlzLmV4dGVybmFsTGlicmFyaWVzQ2FsbGJhY2tzLnB1c2gobiksdGhpcy5pc0luaXRpYWxpemVkJiZ0aGlzLnJlYWxpemVFeHRlcm5hbExpYnJhcmllcygpfSxlLnByb3RvdHlwZS5zZXRDdXN0b21WYXJpYWJsZT1mdW5jdGlvbihlLG4pe3RoaXMuY3VzdG9tVmFyaWFibGVzW2VdPW59LGUucHJvdG90eXBlLnNhdmVDdXN0b21WYXJpYWJsZXNUb0xvY2FsU3RvcmFnZT1mdW5jdGlvbihlKXtpZih0aGlzLmN1c3RvbVZhcmlhYmxlcyYmXCJsb2NhbFN0b3JhZ2VcImluIHdpbmRvdyYmbnVsbCE9PXdpbmRvdy5sb2NhbFN0b3JhZ2Upe3ZhciBuPVwiX190cC1jdXN0b21WYXJpYWJsZXNcIjt3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obixKU09OLnN0cmluZ2lmeSh0aGlzLmN1c3RvbVZhcmlhYmxlcykpLGUmJndpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShuK1wiLWV4cGlyYXRpb25cIixNYXRoLmZsb29yKChuZXcgRGF0ZSkuZ2V0VGltZSgpLzFlMykrZStcIlwiKX19LGUucHJvdG90eXBlLnJlc3RvcmVDdXN0b21WYXJpYmFsZXNGcm9tTG9jYWxzdG9yYWdlPWZ1bmN0aW9uKCl7aWYoXCJsb2NhbFN0b3JhZ2VcImluIHdpbmRvdyYmbnVsbCE9PXdpbmRvdy5sb2NhbFN0b3JhZ2Upe3ZhciBlPU1uLnV0aWwuX19wcm90ZWN0ZWRfXy5nZXRMb2NhbFN0b3JhZ2VJdGVtKFwiY3VzdG9tVmFyaWFibGVzXCIpO2lmKE1uLnV0aWwuX19wcm90ZWN0ZWRfXy5yZW1vdmVMb2NhbFN0b3JhZ2VJdGVtKFwiY3VzdG9tVmFyaWFibGVzXCIpLGUpZm9yKHZhciBuIGluIGUpdGhpcy5jdXN0b21WYXJpYWJsZXNbbl09ZVtuXX19LGUucHJvdG90eXBlLmhhbmRsZXI9ZnVuY3Rpb24oZSxuKXt2YXIgdD10aGlzLnJlZ2lzdGVyUHJlZml4ZWRFdmVudHM7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciByLG89W3BuLm9mZmVyLHBuLnRlbXBsYXRlLHBuLm1ldGVyLHBuLmV4cGVyaWVuY2UscG4ubXlhY2NvdW50LHBuLnBpYW5vSWQscG4udGlueXBhc3NMb2dpbixwbi5zd2cscG4udXNlcixwbi5jcmVkaXRdLGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIGE9b1tpXTtpZihhKXt2YXIgcz1hLnJlZ2lzdGVyQ2FsbGJhY2soZSxuKTt2b2lkIDAhPT1zJiYocj1zKSx2b2lkIDAhPT0ocz10KGEsZSxuKSkmJihyPXMpfX1yZXR1cm4gcn19LGUucHJvdG90eXBlLnJlZ2lzdGVyUHJlZml4ZWRFdmVudHM9ZnVuY3Rpb24oZSxuLHQpe2Zvcih2YXIgcixvLGksYT1be21vZHVsZTpcIm9mZmVyXCIscHJlZml4OlwiY2hlY2tvdXRcIn0se21vZHVsZTpcInBpYW5vSWRcIixwcmVmaXg6XCJwaWFub0lkXCJ9XSxzPTA7czxhLmxlbmd0aDtzKyspe3ZhciBjPWFbc107ZS5uYW1lPT09Yy5tb2R1bGUmJm4uc3Vic3RyaW5nKDAsYy5wcmVmaXgubGVuZ3RoKT09PWMucHJlZml4JiYocj1uLnN1YnN0cmluZyhjLnByZWZpeC5sZW5ndGgsYy5wcmVmaXgubGVuZ3RoKzEpLnRvTG93ZXJDYXNlKCkrbi5zdWJzdHJpbmcoYy5wcmVmaXgubGVuZ3RoKzEsbi5sZW5ndGgpLHZvaWQgMCE9PShvPWUucmVnaXN0ZXJDYWxsYmFjayhyLHQpKSYmKGk9bykpfXJldHVybiBpfSxlLnByb3RvdHlwZS5hZGRIYW5kbGVyPWZ1bmN0aW9uKGUsbil7dmFyIHQ9dGhpcy5oYW5kbGVyKGUsbik7dGhpcy5pc0luaXRpYWxpemVkP3QoKTp0aGlzLmV2ZW50cy5wdXNoKHQpfSxlLnByb3RvdHlwZS5zZXRUcmFja1BhZ2V2aWV3PWZ1bmN0aW9uKGUpe3RoaXMudHJhY2tQYWdlVmlldz1lfSxlLnByb3RvdHlwZS5zZXRMb2NhbGU9ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0aGlzLmxvY2FsZT1lLHRoaXMudXRpbFNlcnZpY2UuX19wcm90ZWN0ZWRfXy5zZXRDb29raWUoXCJMQU5HXCIsdGhpcy5sb2NhbGUpLHRoaXMuaXNJbml0aWFsaXplZD90aGlzLmNoYW5nZUxvY2FsZShlKTp0aGlzLmluaXRDYWxsYmFja3MucHVzaCgoZnVuY3Rpb24oKXtuLmNoYW5nZUxvY2FsZShlKX0pKX0sZS5wcm90b3R5cGUuc2V0UGFnZVVSTD1mdW5jdGlvbihlKXt0aGlzLmN1c3RvbVBhZ2VVcmw9ZX0sZS5wcm90b3R5cGUuc2V0QWRibG9ja2VyQ29va2llTmFtZT1mdW5jdGlvbihlKXt0aGlzLmFkYmxvY2tlckNvb2tpZU5hbWU9ZX0sZS5wcm90b3R5cGUuc2V0TWF4Q29va2llRXhwaXJhdGlvbkluRGF5cz1mdW5jdGlvbihlKXt2YXIgbj1cInN0cmluZ1wiPT10eXBlb2YgZT9wYXJzZUludChlLDEwKTplO2lmKCEoaXNGaW5pdGUobikmJm4+MCkpdGhyb3cgbmV3IEVycm9yKFwibWF4Q29va2llRXhwaXJhdGlvbkluRGF5cyBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO3RoaXMubWF4Q29va2llRXhwaXJhdGlvbkluRGF5cz1ufSxlLnByb3RvdHlwZS5nZXRNYXhDb29raWVFeHBpcmF0aW9uSW5EYXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4Q29va2llRXhwaXJhdGlvbkluRGF5c30sZS5wcm90b3R5cGUuc2V0RmJQaXhlbElkPWZ1bmN0aW9uKGUpe3RoaXMuZmJQaXhlbElkPWV9LGUucHJvdG90eXBlLmdldEZiUGl4ZWxJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZiUGl4ZWxJZH0sZS5wcm90b3R5cGUuc2V0UmVkaXJlY3RUb0ZiVGltZW91dD1mdW5jdGlvbihlKXt0aGlzLnJlZGlyZWN0VG9GYlRpbWVvdXQ9ZX0sZS5wcm90b3R5cGUuZW5hYmxlRG91YmxlT3B0SW5DaGVja09uQWNjZXNzQ2hlY2s9ZnVuY3Rpb24oKXt0aGlzLmlzRG91YmxlT3B0SW5DaGVja09uQWNjZXNzQ2hlY2tFbmFibGVkPSEwfSxlLnByb3RvdHlwZS5zZXRDbG91ZGZsYXJlV29ya2VyVXJsPWZ1bmN0aW9uKGUpe3RoaXMuY2xvdWRmbGFyZVdvcmtlclVybD1lfSxlLnByb3RvdHlwZS5nZXRFbmRwb2ludD1mdW5jdGlvbihlLG4pe3JldHVybiBlLmxhc3RJbmRleE9mKFwiL1wiKT09PWUubGVuZ3RoLTEmJihlPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpLGUubWF0Y2goL1xcL3YzJC8pJiYoZT1lLnN1YnN0cigwLGUubGFzdEluZGV4T2YoXCIvdjNcIikpKSxlLm1hdGNoKC9cXC9hcGkkLykmJihlPWUuc3Vic3RyKDAsZS5sYXN0SW5kZXhPZihcIi9hcGlcIikpKSxlLm1hdGNoKC9eKGh0dHBbc10/Oik/XFwvXFwvLyl8fChlPVwiLy9cIitlKSx2b2lkIDAhPT1uJiZuJiYhZS5tYXRjaCgvXmh0dHBbc10/Oi8pJiYoZT1cImh0dHBzOlwiK2UpLGV9LGUucHJvdG90eXBlLl9nZXRFbmRwb2ludFJvb3Q9ZnVuY3Rpb24oZSl7dmFyIG49XCJodHRwczovL2J1eS50aW55cGFzcy5jb21cIjtyZXR1cm4hMD09PXRoaXMuc2FuZGJveCYmKHRoaXMuZW5kcG9pbnQ9XCJzYW5kYm94XCIpLHRoaXMuZW5kcG9pbnQmJihcInNhbmRib3hcIj09PXRoaXMuZW5kcG9pbnQ/bj1cImh0dHBzOi8vc2FuZGJveC50aW55cGFzcy5jb21cIjpcInByb2RcIiE9PXRoaXMuZW5kcG9pbnQmJlwicHJvZHVjdGlvblwiIT09dGhpcy5lbmRwb2ludCYmKG49dGhpcy5lbmRwb2ludCkpLHRoaXMuZ2V0RW5kcG9pbnQobixlKX0sZS5wcm90b3R5cGUuX2dldEFwaUVuZHBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEVuZHBvaW50Um9vdCgpK1wiL2FwaS92M1wifSxlLnByb3RvdHlwZS5fZ2V0VHJhY2tpbmdFbmRwb2ludD1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT1cIlwiKTt2YXIgbj1lfHx0aGlzLmVuZHBvaW50O3JldHVybiEwPT09dGhpcy5zYW5kYm94P249XCJodHRwczovL3NhbmRib3gudGlueXBhc3MuY29tXCI6KHZvaWQgMD09PXRoaXMuZW5kcG9pbnR8fG51bGw9PT10aGlzLmVuZHBvaW50fHxcIlwiPT09dGhpcy5lbmRwb2ludHx8XCJwcm9kXCI9PT10aGlzLmVuZHBvaW50fHxcInByb2R1Y3Rpb25cIj09PXRoaXMuZW5kcG9pbnR8fHRoaXMuZW5kcG9pbnQubWF0Y2goLyhidXl8YXBpfGFwaS12MylcXC50aW55cGFzc1xcLmNvbS8pKSYmKG49ZXx8XCJodHRwczovL2FwaS12My50aW55cGFzcy5jb21cIiksdGhpcy5nZXRFbmRwb2ludChuLCEwKX0sZS5wcm90b3R5cGUuX2dldEV4cGVyaWVuY2VFbmRwb2ludD1mdW5jdGlvbihlKXt2YXIgbj1cImh0dHBzOi8vYzIucGlhbm8uaW9cIjtyZXR1cm4gdGhpcy5jb21wb3Nlckhvc3Q/bj10aGlzLmNvbXBvc2VySG9zdDooITA9PT10aGlzLnNhbmRib3gmJih0aGlzLmVuZHBvaW50PVwic2FuZGJveFwiKSx0aGlzLmVuZHBvaW50JiYoXCJzYW5kYm94XCI9PT10aGlzLmVuZHBvaW50P249XCJodHRwczovL2MyLXNhbmRib3gucGlhbm8uaW9cIjpcInByb2RcIiE9PXRoaXMuZW5kcG9pbnQmJlwicHJvZHVjdGlvblwiIT09dGhpcy5lbmRwb2ludCYmKG49KG49KG49KG49KG49KG49KG49KG49KG49KG49KG49KG49KG49KG49KG49KG49KG49KG49dGhpcy5lbmRwb2ludCkucmVwbGFjZShcIi8vYnV5LnRpbnlwYXNzLmNvbVwiLFwiLy9jMi5waWFuby5pb1wiKSkucmVwbGFjZShcIi8vYXBpLnRpbnlwYXNzLmNvbVwiLFwiLy9jMi5waWFuby5pb1wiKSkucmVwbGFjZShcIi8vYnV5LWF1LnBpYW5vLmlvXCIsXCIvL2MyLWF1LnBpYW5vLmlvXCIpKS5yZXBsYWNlKFwiLy9hcGktYXUucGlhbm8uaW9cIixcIi8vYzItYXUucGlhbm8uaW9cIikpLnJlcGxhY2UoXCIvL2J1eS1hcC5waWFuby5pb1wiLFwiLy9jMi1hcC5waWFuby5pb1wiKSkucmVwbGFjZShcIi8vYXBpLWFwLnBpYW5vLmlvXCIsXCIvL2MyLWFwLnBpYW5vLmlvXCIpKS5yZXBsYWNlKFwiLy9idXktZXUucGlhbm8uaW9cIixcIi8vYzItZXUucGlhbm8uaW9cIikpLnJlcGxhY2UoXCIvL2FwaS1ldS5waWFuby5pb1wiLFwiLy9jMi1ldS5waWFuby5pb1wiKSkucmVwbGFjZShcIi8vc2FuZGJveC50aW55cGFzcy5jb21cIixcIi8vYzItc2FuZGJveC5waWFuby5pb1wiKSkucmVwbGFjZShcIi8vc2FuZGJveC5waWFuby5pb1wiLFwiLy9jMi1zYW5kYm94LnBpYW5vLmlvXCIpKS5yZXBsYWNlKFwiLy9leHBlcmllbmNlLWF1LnBpYW5vLmlvXCIsXCIvL2MyLWF1LnBpYW5vLmlvXCIpKS5yZXBsYWNlKFwiLy9leHBlcmllbmNlLWV1LnBpYW5vLmlvXCIsXCIvL2MyLWV1LnBpYW5vLmlvXCIpKS5yZXBsYWNlKFwiLy9leHBlcmllbmNlLWFwLnBpYW5vLmlvXCIsXCIvL2MyLWFwLnBpYW5vLmlvXCIpKS5yZXBsYWNlKFwiLy9leHBlcmllbmNlLnRpbnlwYXNzLmNvbVwiLFwiLy9jMi5waWFuby5pb1wiKSkucmVwbGFjZShcIi8vYnV5LnBpYW5vLmlvXCIsXCIvL2MyLnBpYW5vLmlvXCIpKS5yZXBsYWNlKFwiLy9hcGkucGlhbm8uaW9cIixcIi8vYzIucGlhbm8uaW9cIikpLnJlcGxhY2UoXCIvL2V4cGVyaWVuY2UucGlhbm8uaW9cIixcIi8vYzIucGlhbm8uaW9cIikpKSksdGhpcy5nZXRFbmRwb2ludChuLGUpfSxlLnByb3RvdHlwZS5faXNTYW5kYm94PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2FuZGJveHx8XCJzYW5kYm94XCI9PT10aGlzLmVuZHBvaW50fHwhIXRoaXMuZW5kcG9pbnQmJi0xIT09dGhpcy5lbmRwb2ludC5pbmRleE9mKFwiLy9zYW5kYm94LnRpbnlwYXNzLmNvbVwiKX0sZS5wcm90b3R5cGUuY2hhbmdlTG9jYWxlPWZ1bmN0aW9uKGUpe3BuLnBpYW5vSWQuaXNDb25maWd1cmVkKCkmJnBuLnBpYW5vSWQudXBkYXRlTGFuZyhlKSxwbi5wb3N0bWVzc2FnZS5icm9hZGNhc3QoXCJsYW5nQ2hhbmdlZFwiLHtsYW5nOmV9KX0sZS5wcm90b3R5cGUucGFnZVRyYWNrPWZ1bmN0aW9uKGUsbil7cG4ubWFpbi5wYWdlVHJhY2soZSxuKX0sZS5wcm90b3R5cGUudHJhY2tQYWdlPWZ1bmN0aW9uKGUsbil7cG4ubWFpbi5wYWdlVHJhY2soZSxuKX0sZS5wcm90b3R5cGUudHJhY2tQYWdlVW5sb2FkPWZ1bmN0aW9uKCl7cG4ubWFpbi50cmFja1BhZ2VVbmxvYWQoKX0sZS5wcm90b3R5cGUudHJhY2tBZHM9ZnVuY3Rpb24oZSl7cG4ubWFpbi50cmFja0FkcyhlKX0sZS5wcm90b3R5cGUudHJhY2tBZD1mdW5jdGlvbihlLG4sdCl7cG4ubWFpbi50cmFja0FkKGUsbix0KX0sZS5wcm90b3R5cGUub25Mb2FkPWZ1bmN0aW9uKGUpe3RoaXMuY2FsbGJhY2tzLnB1c2goZSl9LGUucHJvdG90eXBlLmdldEVuZHBvaW50Um9vdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZ2V0RW5kcG9pbnRSb290KGUpfSxlLnByb3RvdHlwZS5nZXRFeHBlcmllbmNlRW5kcG9pbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2dldEV4cGVyaWVuY2VFbmRwb2ludChlKX0sZS5wcm90b3R5cGUuZ2V0QXBpRW5kcG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0QXBpRW5kcG9pbnQoKX0sZS5wcm90b3R5cGUuZ2V0VHJhY2tpbmdFbmRwb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJcIiksdGhpcy5fZ2V0VHJhY2tpbmdFbmRwb2ludChlKX0sZS5wcm90b3R5cGUuaXNTYW5kYm94PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU2FuZGJveCgpfSxlLnByb3RvdHlwZS5zZXRDYWNoZWFibGVTaG93VGVtcGxhdGU9ZnVuY3Rpb24oZSl7dGhpcy5jYWNoZWFibGVTaG93VGVtcGxhdGU9ZX0sZS5wcm90b3R5cGUuZ2V0Q2FjaGVhYmxlU2hvd1RlbXBsYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FjaGVhYmxlU2hvd1RlbXBsYXRlfSxlPWZ1bmN0aW9uKGUsbix0LHIpe3ZhciBvLGk9YXJndW1lbnRzLmxlbmd0aCxhPWk8Mz9uOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpYT1SZWZsZWN0LmRlY29yYXRlKGUsbix0LHIpO2Vsc2UgZm9yKHZhciBzPWUubGVuZ3RoLTE7cz49MDtzLS0pKG89ZVtzXSkmJihhPShpPDM/byhhKTppPjM/byhuLHQsYSk6byhuLHQpKXx8YSk7cmV0dXJuIGk+MyYmYSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCxhKSxhfShbcG4uc2luZ2xldG9uKCksYmUoMCxwbi5pbmplY3QoXCJ0cFByZWRlZmluZWRPcHRpb25zXCIpKSxiZSgxLHBuLmluamVjdChcImNzc1wiKSksYmUoMixwbi5pbmplY3QoXCJ0aW55cGFzc0Vycm9ySGFuZGxlclwiKSksYmUoMyxwbi5pbmplY3QoXCJnYVNlcnZpY2VcIikpLGJlKDQscG4uaW5qZWN0KFwidXRpbFwiKSksa2UoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsT2JqZWN0LE9iamVjdCxPYmplY3QsT2JqZWN0XSldLGUpLGV9KCk7cG4uY29udGFpbmVyLnJlZ2lzdGVyU2luZ2xldG9uKFwidGlueXBhc3NcIixUbik7dmFyIEFuPXBuLmNvbnRhaW5lci5yZXNvbHZlKFwidGlueXBhc3NcIik7W3tuOlwicG9seWZpbGxcIixoTTohMX0se246XCJwcmVkZWZpbmVcIixoTTohMX0se246XCJwcmVkZWZpbmVUaW55cGFzc1wiLGhNOiExfSx7bjpcImNoZWNrVGlueXBhc3NcIixoTTohMX0se246XCJjc3NcIixoTTohMH0se246XCJhamF4XCIsaE06ITB9LHtuOlwianFVdGlsc1wiLGhNOiEwfSx7bjpcImNvb2tpZVwiLGhNOiEwfSx7bjpcImxvY2FsU3RvcmFnZVwiLGhNOiEwfSx7bjpcInZlcnNpb25TZXJ2aWNlXCIsaE06ITB9LHtuOlwiaXRwXCIsaE06ITB9LHtuOlwidXRpbFwiLGhNOiEwfSx7bjpcImFwaVwiLGhNOiEwfSx7bjpcInBvc3RtZXNzYWdlXCIsaE06ITB9LHtuOlwiZXZlbnRVdGlsc1wiLGhNOiEwfSx7bjpcImphbnJhaW5cIixoTTohMH0se246XCJzaGExXCIsaE06ITB9LHtuOlwiY29udGFpbmVyVXRpbHNcIixoTTohMH0se246XCJ0aW55cGFzc0xvZ2luXCIsaE06ITB9LHtuOlwidGlueXBhc3NBY2NvdW50c1wiLGhNOiEwfSx7bjpcImNvbmRlVXNlclByb3ZpZGVyXCIsaE06ITB9LHtuOlwiZ2lneWFcIixoTTohMH0se246XCJqd3REZWNvZGVcIixoTTohMH0se246XCJsb2dcIixoTTohMH0se246XCJsb2dnaW5nXCIsaE06ITB9LHtuOlwib2JzZXJ2ZXJcIixoTTohMH0se246XCJnYVNlcnZpY2VcIixoTTohMH0se246XCJwaWFub0lkTGl0ZVwiLGhNOiEwfSx7bjpcInBpYW5vSWRcIixoTTohMH0se246XCJ1c2VyXCIsaE06ITB9LHtuOlwidmlld3BvcnRFeGl0XCIsaE06ITB9LHtuOlwidGVtcGxhdGVcIixoTTohMH0se246XCJvZmZlclwiLGhNOiEwfSx7bjpcIm15YWNjb3VudFwiLGhNOiEwfSx7bjpcIm1ldGVyXCIsaE06ITB9LHtuOlwiZmluZ2VycHJpbnRcIixoTTohMH0se246XCJzY3JvbGxEZXB0aFwiLGhNOiEwfSx7bjpcImlkbGVcIixoTTohMH0se246XCJpbnRlcmFjdGlvblwiLGhNOiEwfSx7bjpcInJlY1dpZGdldFNlcnZpY2VcIixoTTohMH0se246XCJwaWFub1wiLGhNOiEwfSx7bjpcInBpYW5vRXNwXCIsaE06ITB9LHtuOlwic3dnXCIsaE06ITB9LHtuOlwiZmJwaXhlbFwiLGhNOiEwfSx7bjpcImZic3Vic2NyaXB0aW9uc1wiLGhNOiEwfSx7bjpcImN4ZW5zZVwiLGhNOiEwfSx7bjpcImV4cGVyaWVuY2VcIixoTTohMH0se246XCJpZnZpc2libGVcIixoTTohMH0se246XCJhY3RpdmV0aW1lclwiLGhNOiEwfSx7bjpcImRvdWJsZUNsaWNrRm9yUHVibGlzaGVyXCIsaE06ITB9LHtuOlwiYXBwbGVQYXlcIixoTTohMH0se246XCJnb0NhcmRsZXNzRHJvcGluXCIsaE06ITB9LHtuOlwiYXBwbGVQYXlJbnRlZ3JhdGlvblNlcnZpY2VcIixoTTohMH0se246XCJkYXRhdHJhbnNBcHBsZVBheUludGVncmF0aW9uU2VydmljZVwiLGhNOiEwfSx7bjpcInN0cmlwZUFwcGxlUGF5SW50ZWdyYXRpb25TZXJ2aWNlXCIsaE06ITB9LHtuOlwib2JpM0RTQ2hhbGxlbmdlXCIsaE06ITB9LHtuOlwiYW1wXCIsaE06ITB9LHtuOlwicGVyZm9ybWFuY2VNZXRyaWNzXCIsaE06ITB9LHtuOlwiZG91YmxlT3B0SW5cIixoTTohMH0se246XCJuZXdzY3ljbGVcIixoTTohMH0se246XCJjYXB0Y2hhVjNcIixoTTohMH0se246XCJtYWluXCIsaE06ITB9LHtuOlwidGlueXBhc3NFcnJvckhhbmRsZXJcIixoTTohMH0se246XCJ0aW55cGFzc1wiLGhNOiEwfSx7bjpcInBvc3RQcm9jZXNzaW5nXCIsaE06ITF9XS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmhNJiYhcG4uY29udGFpbmVyLmlzUmVnaXN0ZXJlZChlLm4pJiZwbi5jb250YWluZXIucmVzb2x2ZShlLm4pfSkpLE9iamVjdC5hc3NpZ24ocG4sQW4pLE9iamVjdC5zZXRQcm90b3R5cGVPZihwbixUbi5wcm90b3R5cGUpO3ZhciBNbj13aW5kb3cudHA9cG47cG4uaW5pdFRwKCksY29uc29sZS5sb2coXCJQaWFubyBTREsgMi4wIGxvYWRlZC5cIik7ZS5jeGVuc2U9bG4sZS5leHBlcmllbmNlPXVuLGUuanFVdGlscz1kZSxlLmxvZz1PZSxlLm1haW49UG4sZS5vZmZlcj1HZSxlLnBpYW5vRXNwPW9uLGUucGlhbm9JZD1xZSxlLnBvc3RQcm9jZXNzaW5nPVwicG9zdFByb2Nlc3NpbmdcIixlLnRpbnlwYXNzRXJyb3JIYW5kbGVyPXhuLGUudXNlcj1IZSxlLnV0aWw9Q2UsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KHt9KTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBwaWFub1NESyB9IGZyb20gJy4vcGlhbm8vaW5kZXgnO1xuaW1wb3J0IFBpYW5vQWRhcHRlciBmcm9tIFwiLi9waWFuby1hZGFwdGVyXCI7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgICB0cDogW107XG4gICAgICBtaXhwYW5lbDoge1xuICAgICAgICB0cmFjazogKGFjdGlvbjpzdHJpbmcsIHBheWxvYWQ6IHtcbiAgICAgICAgICBpbmNvZGU6IHN0cmluZztcbiAgICAgICAgICBsb2NhdGlvbjogc3RyaW5nO1xuICAgICAgICAgIHR5cGU6IHN0cmluZztcbiAgICAgICAgICBzdGF0dXM6IHN0cmluZztcbiAgICAgICAgfSk9PnZvaWQ7XG4gICAgICB9XG4gIH1cbn1cblxuaWYgKHBpYW5vU0RLKSB7XG4gIGNvbnNvbGUubG9nKCdzZGsgTG9hZGVkJyk7XG59XG5cbi8qKlxuICpcbiAqICBXaGVuIHdlIGRlY2lkZSB0byBhZCBhIG5ldyBhZCBzZXJ2aWNlIHdlIHdpbGwgaGF2ZSB0byBjaGFuZ2UgdGhlIHR5cGUgb2YgYWRTZXJ2aWNlclxuICogIEN1cnJlbnRseSBpdCBpcyBqdXN0IHJlbGlhbnQgb24gdGhlIFBpYW5vQWRhcHRlciwgYnV0IGl0IGNvdWxkIGJlIGFueSBhZGFwdGVyIHRoYXQgcmVzcG9uZHMgdG9cbiAqICAuaW5pdCgpIGFuZCB0YWtlcyB0aGUgbGlmZWN5Y2xlIG1ldGhvZHMgYWxvbmcgd2l0aCBtYXRjaGVycy90YWdzLlxuICpcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZFNlcnZlciB7XG4gICAgYWZ0ZXJBZFJlbmRlcj86KCgpID0+IHZvaWQpW107XG4gICAgYWZ0ZXJBZEluaXQ/OigoKSA9PiB2b2lkKVtdO1xuICAgIGJlZm9yZUFkSW5pdD86KCgpID0+IHZvaWQpW107XG4gICAgdGhpcmRQYXJ0eUNhbGxiYWNrcz86KCgpPT4gdm9pZClbXTtcbiAgICBtYXRjaGVycz86c3RyaW5nW107XG4gICAgdGFncz86c3RyaW5nW107XG4gICAgdXNlcjp7fTtcbiAgICBhZFNlcnZpY2VyPzogUGlhbm9BZGFwdGVyO1xuICAgIGNvbnN0cnVjdG9yKHtcbiAgICAgIGFmdGVyQWRSZW5kZXIgPSBbXSxcbiAgICAgIGFmdGVyQWRJbml0ID0gW10sXG4gICAgICBiZWZvcmVBZEluaXQgPSBbXSxcbiAgICAgIG1hdGNoZXJzID0gW10sXG4gICAgICB0aGlyZFBhcnR5Q2FsbGJhY2tzID0gW10sXG4gICAgICB0YWdzID0gW10sXG4gICAgICBhZFNlcnZpY2VyLFxuICAgIH0pe1xuICAgICAgdGhpcy5hZnRlckFkSW5pdCA9IGFmdGVyQWRJbml0O1xuICAgICAgdGhpcy5hZnRlckFkUmVuZGVyID0gYWZ0ZXJBZFJlbmRlcjtcbiAgICAgIHRoaXMuYmVmb3JlQWRJbml0ID0gYmVmb3JlQWRJbml0O1xuICAgICAgdGhpcy5tYXRjaGVycyA9IG1hdGNoZXJzO1xuICAgICAgdGhpcy50YWdzID0gdGFncztcbiAgICAgIHRoaXMudGhpcmRQYXJ0eUNhbGxiYWNrcyA9IHRoaXJkUGFydHlDYWxsYmFja3M7XG4gICAgICB0aGlzLnVzZXIgPSB0aGlzLnNldFVzZXIoKTtcbiAgICAgIHRoaXMuYWRTZXJ2aWNlciA9IHRoaXMuc2V0QWRhcHRlcihhZFNlcnZpY2VyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSBhZGFwdGVyIGZvciBvdXIgQWQgU2VydmljZVxuICAgICAqIEFkYXB0ZXJzIGFwaTpcbiAgICAgKiBUbyByZW5kZXIgYW4gdGVtcGxhdGUgaXQgUkVRVUlSRVMgYW4gaW5pdCgpIG1ldGhvZFxuICAgICAqIFRvIGludGVyYWN0IHdpdGggdGhpcmQtcGFydHkgc2VydmljZXMgdGhlIGFkYXB0ZXIgY29uc3RydWN0b3IgUkVRVUlSRVMgYW4gaW50ZXJmYWNlIHRvIHJlY2VpdmUgYW4gYXJyYXkgb2YgY2FsbGJhY2tzLlxuICAgICAqIFRvIG1hdGNoIG9uIGN1c3RvbSB2YXJpYWJsZXMgaXQgTUFZIGhhdmUgdGFncywgbWF0Y2hlcnMsIG9yIHVzZXItc3RhdGVcbiAgICAgKiBMaWZlY3ljbGUgbWV0aG9kcyBjYW4gYmUgZmlyZWQgZnJvbSB0aGUgQWRTZXJ2ZXIgY2xhc3Mgb3IgcGFzc2VkIHRocm91Z2ggdG8gdGhlIEFkYXB0ZXIuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFBpYW5vIGxpZmVjeWNsZSBtZXRob2RzIGxpdmVzIGluc2lkZSB0aGUgd2luZG93LnRwIG9iamVjdCBzbyB3ZSBoYXZlIHRvIHBhc3MgdGhyb3VnaCBjYWxsYmFja3MuXG4gICAgICogQHBhcmFtIGFkU2VydmljZXJcbiAgICAgKiBAcmV0dXJucyBBZGFwdGVyIENsYXNzXG4gICAgICovXG4gICAgc2V0QWRhcHRlcihhZFNlcnZpY2VyKTpQaWFub0FkYXB0ZXJ7XG4gICAgICBjb25zdCBwaWFub0NvbmZpZyA9ICAge1xuICAgICAgICBhZnRlclJlbmRlckNhbGxiYWNrczogdGhpcy5hZnRlckFkUmVuZGVyLFxuICAgICAgICBtYXRjaGVyczogdGhpcy5tYXRjaGVycyxcbiAgICAgICAgdGFnczogdGhpcy50YWdzLFxuICAgICAgICB0aGlyZFBhcnR5Q2FsbGJhY2tzOiB0aGlzLnRoaXJkUGFydHlDYWxsYmFja3MsXG4gICAgICAgIHVzZXI6IHRoaXMudXNlclxuICAgICB9XG4gICAgICBzd2l0Y2ggKGFkU2VydmljZXIpIHtcbiAgICAgICAgY2FzZSBcInBpYW5vXCI6e1xuICAgICAgICAgIHJldHVybiBuZXcgUGlhbm9BZGFwdGVyKHBpYW5vQ29uZmlnKVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJhdGtcIjp7XG4gICAgICAgICAgLy9jb25maWd1cmUgaW4gaG91c2UgQWRTZXJ2aWNlXG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDp7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQaWFub0FkYXB0ZXIocGlhbm9Db25maWcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRoZXNlIG1ldGhvZHMgYXJlIHByaXZhdGUgYW5kIHNob3VsZCBiZSBvbmx5IGNhbGxlZCB0aHJvdWdoICNkaXNwYXRjaEFkXG4gICAgICovXG4gICAgZXhlY3V0ZUJlZm9yZUFkSW5pdCgpOnZvaWQge1xuICAgICAgdGhpcy5iZWZvcmVBZEluaXQuZm9yRWFjaCgoY2IpID0+IGNiKCkpO1xuICAgIH1cbiAgICBleGVjdXRlQWZ0ZXJBZFJlbmRlcigpOnZvaWQge1xuICAgICAgdGhpcy5hZnRlckFkUmVuZGVyLmZvckVhY2goKGNiKSA9PiBjYigpKTtcbiAgICB9XG4gICAgZXhlY3V0ZUFmdGVyQWRJbml0KCk6dm9pZCB7XG4gICAgICB0aGlzLmFmdGVyQWRJbml0LmZvckVhY2goKGNiKSA9PiBjYigpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHYXRoZXJzIG5lZWRlZCBwcm9wZXJ0aWVzIGFuZCBjcmVhdGVzIGEgY29uZmlndXJhdGlvbiBvYmpcbiAgICAgKlxuICAgICAqIEByZW1hcmtzXG4gICAgICogVGhlIHVzZXIgZGF0YSBjb3VsZCBjb21lIGZyb20gY29udGV4dCBvciBpdCBjb3VsZCBjb21lIGZyb21cbiAgICAgKiBAcmV0dXJucyBVc2VyXG4gICAgICovXG4gICAgc2V0VXNlcigpe1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgYWR2ZXJ0aXNlbWVudCBhbmQgbGlmZWN5Y2xlIG1ldGhvZHMuXG4gICAgICovXG4gICAgZGlzcGF0Y2hBZCgpe1xuICAgICAgICB0aGlzLmV4ZWN1dGVCZWZvcmVBZEluaXQoKTtcbiAgICAgICAgdGhpcy5hZFNlcnZpY2VyLmluaXQoKTtcbiAgICAgICAgdGhpcy5leGVjdXRlQWZ0ZXJBZEluaXQoKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=